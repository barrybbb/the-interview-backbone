function gravatar(e,t){function n(e,t){var n=e[0],r=e[1],c=e[2],l=e[3];n=i(n,r,c,l,t[0],7,-680876936),l=i(l,n,r,c,t[1],12,-389564586),c=i(c,l,n,r,t[2],17,606105819),r=i(r,c,l,n,t[3],22,-1044525330),n=i(n,r,c,l,t[4],7,-176418897),l=i(l,n,r,c,t[5],12,1200080426),c=i(c,l,n,r,t[6],17,-1473231341),r=i(r,c,l,n,t[7],22,-45705983),n=i(n,r,c,l,t[8],7,1770035416),l=i(l,n,r,c,t[9],12,-1958414417),c=i(c,l,n,r,t[10],17,-42063),r=i(r,c,l,n,t[11],22,-1990404162),n=i(n,r,c,l,t[12],7,1804603682),l=i(l,n,r,c,t[13],12,-40341101),c=i(c,l,n,r,t[14],17,-1502002290),r=i(r,c,l,n,t[15],22,1236535329),n=o(n,r,c,l,t[1],5,-165796510),l=o(l,n,r,c,t[6],9,-1069501632),c=o(c,l,n,r,t[11],14,643717713),r=o(r,c,l,n,t[0],20,-373897302),n=o(n,r,c,l,t[5],5,-701558691),l=o(l,n,r,c,t[10],9,38016083),c=o(c,l,n,r,t[15],14,-660478335),r=o(r,c,l,n,t[4],20,-405537848),n=o(n,r,c,l,t[9],5,568446438),l=o(l,n,r,c,t[14],9,-1019803690),c=o(c,l,n,r,t[3],14,-187363961),r=o(r,c,l,n,t[8],20,1163531501),n=o(n,r,c,l,t[13],5,-1444681467),l=o(l,n,r,c,t[2],9,-51403784),c=o(c,l,n,r,t[7],14,1735328473),r=o(r,c,l,n,t[12],20,-1926607734),n=a(n,r,c,l,t[5],4,-378558),l=a(l,n,r,c,t[8],11,-2022574463),c=a(c,l,n,r,t[11],16,1839030562),r=a(r,c,l,n,t[14],23,-35309556),n=a(n,r,c,l,t[1],4,-1530992060),l=a(l,n,r,c,t[4],11,1272893353),c=a(c,l,n,r,t[7],16,-155497632),r=a(r,c,l,n,t[10],23,-1094730640),n=a(n,r,c,l,t[13],4,681279174),l=a(l,n,r,c,t[0],11,-358537222),c=a(c,l,n,r,t[3],16,-722521979),r=a(r,c,l,n,t[6],23,76029189),n=a(n,r,c,l,t[9],4,-640364487),l=a(l,n,r,c,t[12],11,-421815835),c=a(c,l,n,r,t[15],16,530742520),r=a(r,c,l,n,t[2],23,-995338651),n=s(n,r,c,l,t[0],6,-198630844),l=s(l,n,r,c,t[7],10,1126891415),c=s(c,l,n,r,t[14],15,-1416354905),r=s(r,c,l,n,t[5],21,-57434055),n=s(n,r,c,l,t[12],6,1700485571),l=s(l,n,r,c,t[3],10,-1894986606),c=s(c,l,n,r,t[10],15,-1051523),r=s(r,c,l,n,t[1],21,-2054922799),n=s(n,r,c,l,t[8],6,1873313359),l=s(l,n,r,c,t[15],10,-30611744),c=s(c,l,n,r,t[6],15,-1560198380),r=s(r,c,l,n,t[13],21,1309151649),n=s(n,r,c,l,t[4],6,-145523070),l=s(l,n,r,c,t[11],10,-1120210379),c=s(c,l,n,r,t[2],15,718787259),r=s(r,c,l,n,t[9],21,-343485551),e[0]=h(n,e[0]),e[1]=h(r,e[1]),e[2]=h(c,e[2]),e[3]=h(l,e[3])}function r(e,t,n,r,i,o){return t=h(h(t,e),h(r,o)),h(t<<i|t>>>32-i,n)}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function c(e){txt="";var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)n(i,l(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(i,o),t=0;16>t;t++)o[t]=0;return o[14]=8*r,n(i,o),i}function l(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){for(var t="",n=0;4>n;n++)t+=p[e>>8*n+4&15]+p[e>>8*n&15];return t}function d(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}function f(e){return d(c(e))}function h(e,t){return e+t&4294967295}function h(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}var p="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=f("hello");var g,t=t||{},m=[];return t={size:t.size||"50",rating:t.rating||"g",secure:t.secure||"https:"===location.protocol,backup:t.backup||""},e=e.trim().toLowerCase(),g=t.secure?"https://secure.gravatar.com/avatar/":"http://www.gravatar.com/avatar/",t.rating&&m.push("r="+t.rating),t.backup&&m.push("d="+encodeURIComponent(t.backup)),t.size&&m.push("s="+t.size),g+f(e)+"?"+m.join("&")}function hoozit(e){return e.constructor===String?"string":e.constructor===Boolean?"boolean":e.constructor===Number?isNaN(e)?"nan":"number":"undefined"==typeof e?"undefined":null===e?"null":e instanceof Array?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":"object"==typeof e?"object":e instanceof Function?"function":void 0}function bindCallbacks(e,t,n){var r=hoozit(e);return r?"function"===hoozit(t[r])?t[r].apply(t,n):t[r]:void 0}if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=wt[e]={};return it.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(a(),it.ready())}function c(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Tt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_t.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,r){if(it.acceptData(e)){var i,o,a=it.expando,s=e.nodeType,c=s?it.cache:e,l=s?e[a]:e[a]&&a;if(l&&c[l]&&(r||c[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=G.pop()||it.guid++:a),c[l]||(c[l]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?c[l]=it.extend(c[l],t):c[l].data=it.extend(c[l].data,t)),o=c[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[it.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[it.camelCase(t)])):i=o,i}}function d(e,t,n){if(it.acceptData(e)){var r,i,o=e.nodeType,a=o?it.cache:e,s=o?e[it.expando]:it.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!it.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?it.cleanData([e],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function h(){return!1}function p(){try{return pt.activeElement}catch(e){}}function g(e){var t=Lt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||it.nodeName(r,t)?o.push(r):it.merge(o,m(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],o):o}function v(e){At.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Yt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function k(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,o=it._data(e),a=it._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)it.event.add(t,n,s[n][r])}a.data&&(a.data=it.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events)it.removeEvent(t,r,i.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&At.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),o}function T(e){var t=pt,n=Kt[e];return n||(n=_(e,t),"none"!==n&&n||(Zt=(Zt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=_(e,t),Zt.detach()),Kt[e]=n),n}function S(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=hn.length;i--;)if(t=hn[i]+n,t in e)return t;return r}function M(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=it._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Mt(r)&&(o[a]=it._data(r,"olddisplay",T(r.nodeName)))):(i=Mt(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ln.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function A(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=it.css(e,n+Et[o],!0,i)),r?("content"===n&&(a-=it.css(e,"padding"+Et[o],!0,i)),"margin"!==n&&(a-=it.css(e,"border"+Et[o]+"Width",!0,i))):(a+=it.css(e,"padding"+Et[o],!0,i),"padding"!==n&&(a+=it.css(e,"border"+Et[o]+"Width",!0,i)));return a}function j(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),a=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tn(e,t,o),(0>i||null==i)&&(i=e.style[t]),rn.test(i))return i;r=a&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+A(e,t,n||(a?"border":"content"),r,o)+"px"}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function N(){return setTimeout(function(){pn=void 0}),pn=it.now()}function O(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Et[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function P(e,t,n){for(var r,i=(wn[t]||[]).concat(wn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function L(e,t,n){var r,i,o,a,s,c,l,u,d=this,f={},h=e.style,p=e.nodeType&&Mt(e),g=it._data(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=it.css(e,"display"),u="none"===l?it._data(e,"olddisplay")||T(e.nodeName):l,"inline"===u&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}f[r]=g&&g[r]||it.style(e,r)}else l=void 0;if(it.isEmptyObject(f))"inline"===("none"===l?T(e.nodeName):l)&&(h.display=l);else{g?"hidden"in g&&(p=g.hidden):g=it._data(e,"fxshow",{}),o&&(g.hidden=!p),p?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;it._removeData(e,"fxshow");for(t in f)it.style(e,t,f[t])});for(r in f)a=P(p?g[r]:0,r,d),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function $(e,t){var n,r,i,o,a;for(n in e)if(r=it.camelCase(n),i=t[r],o=e[n],it.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=it.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function R(e,t,n){var r,i,o=0,a=bn.length,s=it.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=pn||N(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,c=l.tweens.length;c>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&c?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pn||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for($(u,l.opts.specialEasing);a>o;o++)if(r=bn[o].call(l,e,u,l.opts))return r;return it.map(u,P,l),it.isFunction(l.opts.start)&&l.opts.start.call(e,l),it.fx.timer(it.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(bt)||[];if(it.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,t,n,r){function i(s){var c;return o[s]=!0,it.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),c}var o={},a=e===Un;return i(t.dataTypes[0])||!o["*"]&&i("*")}function F(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function W(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){c.unshift(a);break}if(c[0]in n)o=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function q(e,t,n,r){var i,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=l[c+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,r){var i;if(it.isArray(t))it.each(t,function(t,i){n||Gn.test(e)?r(e,i):U(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function z(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],X=G.slice,J=G.concat,Q=G.push,Z=G.indexOf,K={},et=K.toString,tt=K.hasOwnProperty,nt={},rt="1.11.2",it=function(e,t){return new it.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,o=e&&it.isArray(e)?e:[]):o=e&&it.isPlainObject(e)?e:{},a[r]=it.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Z)return Z.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),c=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&c.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&c.push(i);return J.apply([],c)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=X.call(arguments,2),r=function(){return e.apply(t||this,n.concat(X.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+new Date},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var lt=function(e){function t(e,t,n,r){var i,o,a,s,c,l,d,h,p,g;if((t?t.ownerDocument||t:H)!==I&&j(t),t=t||I,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&O){if(11!==s&&(i=yt.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&R(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!P||!P.test(e))){if(h=d=B,p=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=T(e),(d=t.getAttribute("id"))?h=d.replace(wt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",c=l.length;c--;)l[c]=h+f(l[c]);p=bt.test(e)&&u(t.parentNode)||t,g=l.join(",")}if(g)try{return Z.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{d||t.removeAttribute("id")}}}return E(e.replace(ct,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=I.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,c,l=[F,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(c=t[B]||(t[B]={}),(s=c[r])&&s[0]===F&&s[1]===o)return l[2]=s[2];if(c[r]=l,l[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;c>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,a)),r(function(r,a,s,c){var l,u,d,f=[],h=[],p=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:m(v,f,e,s,c),b=n?o||(r?e:p||i)?[]:a:y;if(n&&n(y,b,s,c),i)for(l=m(b,h),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(b[h[u]]=!(y[h[u]]=d));if(r){if(o||e){if(o){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(y[u]=d);o(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=o?et(r,d):f[u])>-1&&(r[l]=!(a[l]=d))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,c):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,c=h(function(e){return e===t},a,!0),l=h(function(e){return et(t,e)>-1},a,!0),u=[function(e,n,r){var i=!o&&(r||n!==M)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=k.relative[e[s].type])u=[h(p(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return v(s>1&&p(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}u.push(n)}return p(u)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,c,l){var u,d,f,h=0,p="0",g=r&&[],v=[],y=M,b=r||o&&k.find.TAG("*",l),w=F+=null==y?1:Math.random()||.1,x=b.length;for(l&&(M=a!==I&&a);p!==x&&null!=(u=b[p]);p++){if(o&&u){for(d=0;f=e[d++];)if(f(u,a,s)){c.push(u);break}l&&(F=w)}i&&((u=!f&&u)&&h--,r&&g.push(u))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=J.call(c));v=m(v)}Z.apply(c,v),l&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(c)}return l&&(F=w,M=y),g};return i?r(a):a}var w,x,k,C,_,T,S,E,M,D,A,j,I,N,O,P,L,$,R,B="sizzle"+1*new Date,H=e.document,F=0,W=0,q=n(),U=n(),z=n(),V=function(e,t){return e===t&&(A=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],J=X.pop,Q=X.push,Z=X.push,K=X.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ct=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(at),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){j()};try{Z.apply(X=K.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(_t){Z={apply:X.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},j=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==I&&9===r.nodeType&&r.documentElement?(I=r,N=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),O=!_(r),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(r.getElementsByClassName),x.getById=i(function(e){return N.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),x.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=x.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},L=[],P=[],(x.qsa=vt.test(r.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+B+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=vt.test($=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){x.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),L.push("!=",at)}),P=P.length&&new RegExp(P.join("|")),L=L.length&&new RegExp(L.join("|")),t=vt.test(N.compareDocumentPosition),R=t||vt.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===H&&R(H,e)?-1:t===r||t.ownerDocument===H&&R(H,t)?1:D?et(D,e)-et(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,c=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?et(D,e)-et(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)c.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;c[i]===l[i];)i++;return i?a(c[i],l[i]):c[i]===H?-1:l[i]===H?1:0},r):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&j(e),n=n.replace(dt,"='$1']"),!(!x.matchesSelector||!O||L&&L.test(n)||P&&P.test(n)))try{var r=$.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&j(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&j(e);var n=k.attrHandle[t.toLowerCase()],r=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:x.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,D=!x.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,kt),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ft.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")
})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(u=m[B]||(m[B]={}),l=u[e]||[],h=l[0]===F&&l[1],f=l[0]===F&&l[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[F,h,f];break}}else if(y&&(l=(t[B]||(t[B]={}))[e])&&l[0]===F)f=l[1];else for(;(d=++h&&d&&d[g]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[B]||(d[B]={}))[e]=[F,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=et(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(ct,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xt,kt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,kt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=c(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,T=t.tokenize=function(e,n){var r,i,o,a,s,c,l,u=U[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=k.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=ut.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ct," ")}),s=s.slice(r.length));for(a in k.filter)!(i=pt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):U(e,c).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)o=y(t[n]),o[B]?r.push(o):i.push(o);o=z(e,b(i,r)),o.selector=e}return o},E=t.select=function(e,t,n,r){var i,o,a,s,c,l="function"==typeof e&&e,d=!r&&T(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&O&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(xt,kt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((c=k.find[s])&&(r=c(a.matches[0].replace(xt,kt),bt.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(l||S(e,d))(r,t,!O,n,bt.test(e)&&u(t.parentNode)||t),n},x.sortStable=B.split("").sort(V).join("")===B,x.detectDuplicates=!!A,j(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ut=it.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;i>t;t++)it.find(e,r[t],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ut.test(e)?it(e):e||[],!1).length}});var ht,pt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ht).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),dt.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=pt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return ht.find(e);this.length=1,this[0]=r}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof ht.ready?ht.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};mt.prototype=it.fn,ht=it(pt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[e]||(i=it.unique(i)),vt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,wt={};it.Callbacks=function(e){e="string"==typeof e?wt[e]||o(e):it.extend({},e);var t,n,r,i,a,s,c=[],l=!e.once&&[],u=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=c.length,t=!0;c&&i>a;a++)if(c[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,c&&(l?l.length&&u(l.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var r=c.length;!function o(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=c.length:n&&(s=r,u(n))}return this},remove:function(){return c&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,c,r))>-1;)c.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?it.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],i=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!c||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,o){var a=it.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=X.call(arguments),a=o.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,c=1===s?e:it.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?X.call(arguments):i,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&it.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(c.reject).progress(l(i,n,t)):--s;return s||c.resolveWith(r,o),c.promise()}});var xt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!pt.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(xt.resolveWith(pt,[it]),it.fn.triggerHandler&&(it(pt).triggerHandler("ready"),it(pt).off("ready")))}}}),it.ready.promise=function(t){if(!xt)if(xt=it.Deferred(),"complete"===pt.readyState)setTimeout(it.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&pt.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),it.ready()}}()}return xt.promise(t)};var kt,Ct="undefined";for(kt in it(nt))break;nt.ownLast="0"!==kt,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),r=pt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!l(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),c(o,r,i[r])));it._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):o?c(o,e,it.data(o,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),o=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=it._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Mt=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Dt=it.access=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===it.type(n)){i=!0;for(s in n)it.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(it(e),n)})),t))for(;c>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},At=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),n=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var jt=/^(?:input|select|textarea)$/i,It=/^key/,Nt=/^(?:mouse|pointer|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Pt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,h,p,g,m=it._data(e);if(m){for(n.handler&&(c=n,n=c.handler,i=c.selector),n.guid||(n.guid=it.guid++),(a=m.events)||(a=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof it===Ct||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)o=Pt.exec(t[s])||[],h=g=o[1],p=(o[2]||"").split(".").sort(),h&&(l=it.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=it.event.special[h]||{},d=it.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:p.join(".")},c),(f=a[h])||(f=a[h]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,p,u)!==!1||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),it.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,h,p,g,m=it.hasData(e)&&it._data(e);if(m&&(u=m.events)){for(t=(t||"").match(bt)||[""],l=t.length;l--;)if(s=Pt.exec(t[l])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(d=it.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,f=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));c&&!f.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||it.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)it.event.remove(e,h+t[l],n,r,!0);it.isEmptyObject(u)&&(delete m.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,c,l,u,d,f=[r||pt],h=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=u=r=r||pt,3!==r.nodeType&&8!==r.nodeType&&!Ot.test(h+it.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[it.expando]?t:new it.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),l=it.event.special[h]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!it.isWindow(r)){for(c=l.delegateType||h,Ot.test(c+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),u=s;u===(r.ownerDocument||pt)&&f.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?c:l.bindType||h,o=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&it.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&it.acceptData(r)&&a&&r[h]&&!it.isWindow(r)){u=r[a],u&&(r[a]=null),it.event.triggered=h;try{r[h]()}catch(g){}it.event.triggered=void 0,u&&(r[a]=u)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,o,a=[],s=X.call(arguments),c=(it._data(this,"events")||{})[e.type]||[],l=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,c),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(c)>=0:it.find(n,this,null,[c]).length),i[n]&&i.push(r);i.length&&a.push({elem:c,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[it.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Nt.test(i)?this.mouseHooks:It.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new it.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||pt,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=pt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ct&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:h):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){return jt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;jt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!jt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=h;else if(!r)return this;return 1===i&&(a=r,r=function(e){return it().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=h),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",$t=/ jQuery\d+="(?:null|\d+)"/g,Rt=new RegExp("<(?:"+Lt+")[\\s/>]","i"),Bt=/^\s+/,Ht=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,Wt=/<tbody/i,qt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Jt=g(pt),Qt=Jt.appendChild(pt.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,it.extend({clone:function(e,t,n){var r,i,o,a,s,c=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Rt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=m(o),s=m(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||m(e),r=r||m(o),a=0;null!=(i=s[a]);a++)k(i,r[a]);else k(e,o);return r=m(o,"script"),r.length>0&&x(r,!c&&m(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,c,l,u,d=e.length,f=g(t),h=[],p=0;d>p;p++)if(o=e[p],o||0===o)if("object"===it.type(o))it.merge(h,o.nodeType?[o]:o);else if(qt.test(o)){for(s=s||f.appendChild(t.createElement("div")),c=(Ft.exec(o)||["",""])[1].toLowerCase(),u=Xt[c]||Xt._default,s.innerHTML=u[1]+o.replace(Ht,"<$1></$2>")+u[2],i=u[0];i--;)s=s.lastChild;if(!nt.leadingWhitespace&&Bt.test(o)&&h.push(t.createTextNode(Bt.exec(o)[0])),!nt.tbody)for(o="table"!==c||Wt.test(o)?"<table>"!==u[1]||Wt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)it.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(it.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),nt.appendChecked||it.grep(m(h,"input"),v),p=0;o=h[p++];)if((!r||-1===it.inArray(o,r))&&(a=it.contains(o.ownerDocument,o),s=m(f.appendChild(o),"script"),a&&x(s),n))for(i=0;o=s[i++];)Vt.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=it.expando,c=it.cache,l=nt.deleteExpando,u=it.event.special;null!=(n=e[a]);a++)if((t||it.acceptData(n))&&(i=n[s],o=i&&c[i])){if(o.events)for(r in o.events)u[r]?it.event.remove(n,r):it.removeEvent(n,r,o.handle);c[i]&&(delete c[i],l?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,G.push(i))}}}),it.fn.extend({text:function(e){return Dt(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))
},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&x(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return Dt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace($t,""):void 0;if(!("string"!=typeof e||Ut.test(e)||!nt.htmlSerialize&&Rt.test(e)||!nt.leadingWhitespace&&Bt.test(e)||Xt[(Ft.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ht,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,r,i,o,a,s,c=0,l=this.length,u=this,d=l-1,f=e[0],h=it.isFunction(f);if(h||l>1&&"string"==typeof f&&!nt.checkClone&&zt.test(f))return this.each(function(n){var r=u.eq(n);h&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=it.map(m(s,"script"),b),i=o.length;l>c;c++)r=s,c!==d&&(r=it.clone(r,!0,!0),i&&it.merge(o,m(r,"script"))),t.call(this[c],r,c);if(i)for(a=o[o.length-1].ownerDocument,it.map(o,w),c=0;i>c;c++)r=o[c],Vt.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(a,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Gt,"")));s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],o=it(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),it(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Zt,Kt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=pt.getElementsByTagName("body")[0],n&&n.style?(t=pt.createElement("div"),r=pt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),rn.test(a)&&nn.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):pt.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rn.test(a)&&!on.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),r=pt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,c=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(pt.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",c=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,c;n=pt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",nt.opacity="0.5"===r.opacity,nt.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==c&&t(),c}}))}(),it.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,cn=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+St+")(.*)$","i"),un=new RegExp("^([+-])=("+St+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:"0",fontWeight:"400"},hn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=it.camelCase(t),c=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=E(c,s)),a=it.cssHooks[t]||it.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];if(o=typeof n,"string"===o&&(i=un.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{c[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=E(e.style,s)),a=it.cssHooks[t]||it.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tn(e,t,r)),"normal"===o&&t in fn&&(o=fn[t]),""===n||n?(i=parseFloat(o),n===!0||it.isNumeric(i)?i||0:o):o}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?cn.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,dn,function(){return j(e,t,r)}):j(e,t,r):void 0},set:function(e,n,r){var i=r&&en(e);return D(e,n,r?A(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),it.cssHooks.marginRight=S(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Et[r]+t]=o[r]||o[r-2]||o[0];return i}},nn.test(e)||(it.cssHooks[e+t].set=D)}),it.fn.extend({css:function(e,t){return Dt(this,function(e,t,n){var r,i,o={},a=0;if(it.isArray(t)){for(r=en(e),i=t.length;i>a;a++)o[t[a]]=it.css(e,t[a],!1,r);return o}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Mt(this)?it(this).show():it(this).hide()})}}),it.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=I.prototype.init,it.fx.step={};var pn,gn,mn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[L],wn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=vn.exec(t),o=i&&i[3]||(it.cssNumber[e]?"":"px"),a=(it.cssNumber[e]||"px"!==o&&+r)&&vn.exec(it.css(n.elem,e)),s=1,c=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,it.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--c)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(R,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),o=it.speed(t,n,r),a=function(){var t=R(this,it.extend({},e),o);(i||it._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=it.timers,a=it._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,i)}}),it.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(pn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),pn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){gn||(gn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(gn),gn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=pt.createElement("select"),i=n.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!pt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=pt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var xn=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xn,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,c=0>i?s:o?i:0;s>c;c++)if(n=r[c],!(!n.selected&&c!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=it.makeArray(t),a=i.length;a--;)if(r=i[a],it.inArray(it.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kn,Cn,_n=it.expr.attrHandle,Tn=/^(?:checked|selected)$/i,Sn=nt.getSetAttribute,En=nt.input;it.fn.extend({attr:function(e,t){return Dt(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?it.prop(e,t,n):(1===o&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?Cn:kn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;n=o[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)?En&&Sn||!Tn.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(Sn?n:r)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):En&&Sn||!Tn.test(n)?e.setAttribute(!Sn&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_n[t]||it.find.attr;_n[t]=En&&Sn||!Tn.test(t)?function(e,t,r){var i,o;return r||(o=_n[t],_n[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,_n[t]=o),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),En&&Sn||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?void(e.defaultValue=t):kn&&kn.set(e,t,n)}}),Sn||(kn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},_n.id=_n.name=_n.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:kn.set},it.attrHooks.contenteditable={set:function(e,t,n){kn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Mn=/^(?:input|select|textarea|button|object)$/i,Dn=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return Dt(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!it.isXMLDoc(e),o&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):Mn.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var An=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,c=this.length,l="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(bt)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=it.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,c=this.length,l=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(bt)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?it.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=it(this),o=e.match(bt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(An," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jn=it.now(),In=/\?/,Nn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(Nn,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var On,Pn,Ln=/#.*$/,$n=/([?&])_=[^&]*/,Rn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,Fn=/^\/\//,Wn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qn={},Un={},zn="*/".concat("*");try{Pn=location.href}catch(Vn){Pn=pt.createElement("a"),Pn.href="",Pn=Pn.href}On=Wn.exec(Pn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pn,type:"GET",isLocal:Bn.test(On[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,it.ajaxSettings),t):F(it.ajaxSettings,e)},ajaxPrefilter:B(qn),ajaxTransport:B(Un),ajax:function(e,t){function n(e,t,n,r){var i,u,v,y,w,k=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",x.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=W(d,x,n)),y=q(d,y,x,i),i?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(it.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(it.etag[o]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,v=y.error,i=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(t||k)+"",i?p.resolveWith(f,[u,k,x]):p.rejectWith(f,[x,k,v]),x.statusCode(m),m=void 0,c&&h.trigger(i?"ajaxSuccess":"ajaxError",[x,d,i?u:v]),g.fireWith(f,[x,k]),c&&(h.trigger("ajaxComplete",[x,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,c,l,u,d=it.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?it(f):it.event,p=it.Deferred(),g=it.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Rn.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return l&&l.abort(t),n(0,t),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Pn)+"").replace(Ln,"").replace(Fn,On[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(r=Wn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===On[1]&&r[2]===On[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(On[3]||("http:"===On[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),H(qn,d,t,x),2===b)return x;c=it.event&&d.global,c&&0===it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Hn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(In.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=$n.test(o)?o.replace($n,"$1_="+jn++):o+(In.test(o)?"&":"?")+"_="+jn++)),d.ifModified&&(it.lastModified[o]&&x.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&x.setRequestHeader("If-None-Match",it.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)x.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,x,d)===!1||2===b))return x.abort();w="abort";for(i in{success:1,error:1,complete:1})x[i](d[i]);if(l=H(Un,d,t,x)){x.readyState=1,c&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var Yn=/%20/g,Gn=/\[\]$/,Xn=/\r?\n/g,Jn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(n in e)U(n,e[n],t,i);return r.join("&").replace(Yn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Qn.test(this.nodeName)&&!Jn.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&z()||V()}:z;var Zn=0,Kn={},er=it.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kn)Kn[e](void 0,!0)}),nt.cors=!!er&&"withCredentials"in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Zn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,c,l;if(t&&(i||4===o.readyState))if(delete Kn[a],t=void 0,o.onreadystatechange=it.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{c=o.statusText}catch(u){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,c,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pt.head||it("head")[0]||pt.documentElement;return{send:function(r,i){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+jn++;
return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(In.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||it.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),a&&it.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pt;var r=dt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=it.trim(e.slice(s,e.length)),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&it.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l,u=it.css(e,"position"),d=it(e),f={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=it.css(e,"top"),c=it.css(e,"left"),l=("absolute"===u||"fixed"===u)&&it.inArray("auto",[o,c])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),it.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==Ct&&(r=i.getBoundingClientRect()),n=Y(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return Dt(this,function(e,r,i){var o=Y(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?it(o).scrollLeft():i,n?i:it(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=S(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Dt(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,a):it.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var or=e.jQuery,ar=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=ar),t&&e.jQuery===it&&(e.jQuery=or),it},typeof t===Ct&&(e.jQuery=e.$=it),it}),function(e,t,n){function r(n){var r=t.console;o[n]||(o[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,n,i,o){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}})}catch(a){}e._definePropertyBroken=!0,t[n]=i}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,c=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},l=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},u=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,h=/^(?:checked|selected)$/i;i(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,o,c){var l=i.toLowerCase(),p=t&&t.nodeType;return c&&(s.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(p)&&(a?i in a:e.isFunction(e.fn[i])))?e(t)[i](o):("type"===i&&o!==n&&u.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&f.test(l)&&(e.attrHooks[l]={get:function(t,r){var i,o=e.prop(t,r);return o===!0||"boolean"!=typeof o&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},h.test(l)&&r("jQuery.fn.attr('"+l+"') may use property instead of attribute")),s.call(e,t,i,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?c.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value', val) no longer sets properties"),void(e.value=t))}};var p,g,m=e.fn.init,v=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,i){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(e.trim(t)))&&o[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),o[3]&&r("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?m.call(this,e.parseHTML(o[2],n,!0),n,i):m.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(p=e.uaMatch(navigator.userAgent),g={},p.browser&&(g[p.browser]=!0,g.version=p.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),e.browser=g),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var i,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(i=e.data(a,t),o=e._data(a,t),i!==n&&i!==o||o===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),o)};var w=/\/(java|ecma)script/i,x=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),x.apply(this,arguments)},e.clean||(e.clean=function(t,n,i,o){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,r("jQuery.clean() is deprecated");var a,s,c,l,u=[];if(e.merge(u,e.buildFragment(t,n).childNodes),i)for(c=function(e){return!e.type||w.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},a=0;null!=(s=u[a]);a++)e.nodeName(s,"script")&&c(s)||(i.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(l=e.grep(e.merge([],s.getElementsByTagName("script")),c),u.splice.apply(u,[a+1,0].concat(l)),a+=l.length));return u});var k=e.event.add,C=e.event.remove,_=e.event.trigger,T=e.fn.toggle,S=e.fn.live,E=e.fn.die,M="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=new RegExp("\\b(?:"+M+")\\b"),A=/(?:^|\s)hover(\.\S+|)\b/,j=function(t){return"string"!=typeof t||e.event.special.hover?t:(A.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(A,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,o){e!==document&&D.test(t)&&r("AJAX events should be attached to document: "+t),k.call(this,e,j(t||""),n,i,o)},e.event.remove=function(e,t,n,r,i){C.call(this,e,j(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return T.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,o=t.guid||e.guid++,a=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(s.guid=o;a<i.length;)i[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||D.test(e)||r("Global events are undocumented and deprecated"),_.call(this,e,t,n||document,i)},e.each(M.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),function(){var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,o=n.push,a=n.slice,s=n.concat,c=r.toString,l=r.hasOwnProperty,u=Array.isArray,d=Object.keys,f=i.bind,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):e._=h,h.VERSION="1.7.0";var p=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}};h.iteratee=function(e,t,n){return null==e?h.identity:h.isFunction(e)?p(e,t,n):h.isObject(e)?h.matches(e):h.property(e)},h.each=h.forEach=function(e,t,n){if(null==e)return e;t=p(t,n);var r,i=e.length;if(i===+i)for(r=0;i>r;r++)t(e[r],r,e);else{var o=h.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},h.map=h.collect=function(e,t,n){if(null==e)return[];t=h.iteratee(t,n);for(var r,i=e.length!==+e.length&&h.keys(e),o=(i||e).length,a=Array(o),s=0;o>s;s++)r=i?i[s]:s,a[s]=t(e[r],r,e);return a};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(e,t,n,r){null==e&&(e=[]),t=p(t,r,4);var i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[o?o[s++]:s++]}for(;a>s;s++)i=o?o[s]:s,n=t(n,e[i],i,e);return n},h.reduceRight=h.foldr=function(e,t,n,r){null==e&&(e=[]),t=p(t,r,4);var i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[o?o[--a]:--a]}for(;a--;)i=o?o[a]:a,n=t(n,e[i],i,e);return n},h.find=h.detect=function(e,t,n){var r;return t=h.iteratee(t,n),h.some(e,function(e,n,i){return t(e,n,i)?(r=e,!0):void 0}),r},h.filter=h.select=function(e,t,n){var r=[];return null==e?r:(t=h.iteratee(t,n),h.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r)},h.reject=function(e,t,n){return h.filter(e,h.negate(h.iteratee(t)),n)},h.every=h.all=function(e,t,n){if(null==e)return!0;t=h.iteratee(t,n);var r,i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length;for(r=0;a>r;r++)if(i=o?o[r]:r,!t(e[i],i,e))return!1;return!0},h.some=h.any=function(e,t,n){if(null==e)return!1;t=h.iteratee(t,n);var r,i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length;for(r=0;a>r;r++)if(i=o?o[r]:r,t(e[i],i,e))return!0;return!1},h.contains=h.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=h.values(e)),h.indexOf(e,t)>=0)},h.invoke=function(e,t){var n=a.call(arguments,2),r=h.isFunction(t);return h.map(e,function(e){return(r?t:e[t]).apply(e,n)})},h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matches(t))},h.findWhere=function(e,t){return h.find(e,h.matches(t))},h.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:h.values(e);for(var s=0,c=e.length;c>s;s++)r=e[s],r>o&&(o=r)}else t=h.iteratee(t,n),h.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},h.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:h.values(e);for(var s=0,c=e.length;c>s;s++)r=e[s],o>r&&(o=r)}else t=h.iteratee(t,n),h.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},h.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:h.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=h.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},h.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=h.values(e)),e[h.random(e.length-1)]):h.shuffle(e).slice(0,Math.max(0,t))},h.sortBy=function(e,t,n){return t=h.iteratee(t,n),h.pluck(h.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var m=function(e){return function(t,n,r){var i={};return n=h.iteratee(n,r),h.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};h.groupBy=m(function(e,t,n){h.has(e,n)?e[n].push(t):e[n]=[t]}),h.indexBy=m(function(e,t,n){e[n]=t}),h.countBy=m(function(e,t,n){h.has(e,n)?e[n]++:e[n]=1}),h.sortedIndex=function(e,t,n,r){n=h.iteratee(n,r,1);for(var i=n(t),o=0,a=e.length;a>o;){var s=o+a>>>1;n(e[s])<i?o=s+1:a=s}return o},h.toArray=function(e){return e?h.isArray(e)?a.call(e):e.length===+e.length?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:e.length===+e.length?e.length:h.keys(e).length},h.partition=function(e,t,n){t=h.iteratee(t,n);var r=[],i=[];return h.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},h.first=h.head=h.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},h.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},h.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},h.rest=h.tail=h.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},h.compact=function(e){return h.filter(e,h.identity)};var v=function(e,t,n,r){if(t&&h.every(e,h.isArray))return s.apply(r,e);for(var i=0,a=e.length;a>i;i++){var c=e[i];h.isArray(c)||h.isArguments(c)?t?o.apply(r,c):v(c,t,n,r):n||r.push(c)}return r};h.flatten=function(e,t){return v(e,t,!1,[])},h.without=function(e){return h.difference(e,a.call(arguments,1))},h.uniq=h.unique=function(e,t,n,r){if(null==e)return[];h.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=h.iteratee(n,r));for(var i=[],o=[],a=0,s=e.length;s>a;a++){var c=e[a];if(t)a&&o===c||i.push(c),o=c;else if(n){var l=n(c,a,e);h.indexOf(o,l)<0&&(o.push(l),i.push(c))}else h.indexOf(i,c)<0&&i.push(c)}return i},h.union=function(){return h.uniq(v(arguments,!0,!0,[]))},h.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,r=0,i=e.length;i>r;r++){var o=e[r];if(!h.contains(t,o)){for(var a=1;n>a&&h.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},h.difference=function(e){var t=v(a.call(arguments,1),!0,!0,[]);return h.filter(e,function(e){return!h.contains(t,e)})},h.zip=function(e){if(null==e)return[];for(var t=h.max(arguments,"length").length,n=Array(t),r=0;t>r;r++)n[r]=h.pluck(arguments,r);return n},h.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},h.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=h.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(e[r]===t)return r;return-1},h.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1},h.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var y=function(){};h.bind=function(e,t){var n,r;if(f&&e.bind===f)return f.apply(e,a.call(arguments,1));if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(a.call(arguments)));y.prototype=e.prototype;var i=new y;y.prototype=null;var o=e.apply(i,n.concat(a.call(arguments)));return h.isObject(o)?o:i}},h.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;o>i;i++)r[i]===h&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},h.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=h.bind(e[n],e);return e},h.memoize=function(e,t){var n=function(r){var i=n.cache,o=t?t.apply(this,arguments):r;return h.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},h.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},h.defer=function(e){return h.delay.apply(h,[e,1].concat(a.call(arguments,1)))},h.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:h.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=h.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return r=this,i=arguments,0>=u||u>t?(clearTimeout(a),a=null,s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(c,u)),o}},h.debounce=function(e,t,n){var r,i,o,a,s,c=function(){var l=h.now()-a;t>l&&l>0?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=h.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(o,i),o=i=null),s}},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},h.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},h.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},h.once=h.partial(h.before,2),h.keys=function(e){if(!h.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)h.has(e,n)&&t.push(n);return t},h.values=function(e){for(var t=h.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},h.pairs=function(e){for(var t=h.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},h.invert=function(e){for(var t={},n=h.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},h.functions=h.methods=function(e){var t=[];for(var n in e)h.isFunction(e[n])&&t.push(n);return t.sort()},h.extend=function(e){if(!h.isObject(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++){t=arguments[r];for(n in t)l.call(t,n)&&(e[n]=t[n])}return e},h.pick=function(e,t,n){var r,i={};if(null==e)return i;if(h.isFunction(t)){t=p(t,n);for(r in e){var o=e[r];t(o,r,e)&&(i[r]=o)}}else{var c=s.apply([],a.call(arguments,1));e=new Object(e);for(var l=0,u=c.length;u>l;l++)r=c[l],r in e&&(i[r]=e[r])}return i},h.omit=function(e,t,n){if(h.isFunction(t))t=h.negate(t);else{var r=h.map(s.apply([],a.call(arguments,1)),String);t=function(e,t){return!h.contains(r,t)}}return h.pick(e,t,n)},h.defaults=function(e){if(!h.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e};var b=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return r[o]===t;var a=e.constructor,s=t.constructor;if(a!==s&&"constructor"in e&&"constructor"in t&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var l,u;if("[object Array]"===i){if(l=e.length,u=l===t.length)for(;l--&&(u=b(e[l],t[l],n,r)););}else{var d,f=h.keys(e);if(l=f.length,u=h.keys(t).length===l)for(;l--&&(d=f[l],u=h.has(t,d)&&b(e[d],t[d],n,r)););}return n.pop(),r.pop(),u};h.isEqual=function(e,t){return b(e,t,[],[])},h.isEmpty=function(e){if(null==e)return!0;if(h.isArray(e)||h.isString(e)||h.isArguments(e))return 0===e.length;for(var t in e)if(h.has(e,t))return!1;return!0},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=u||function(e){return"[object Array]"===c.call(e)},h.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){h["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return h.has(e,"callee")}),"function"!=typeof/./&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&e!==+e},h.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===c.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){return null!=e&&l.call(e,t)},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return function(t){return t[e]}},h.matches=function(e){var t=h.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var r=0;n>r;r++){var i=t[r],o=i[0];if(i[1]!==e[o]||!(o in e))return!1}return!0}},h.times=function(e,t,n){var r=Array(Math.max(0,e));t=p(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=h.invert(w),k=function(e){var t=function(t){return e[t]},n="(?:"+h.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};h.escape=k(w),h.unescape=k(x),h.result=function(e,t){if(null==e)return void 0;var n=e[t];return h.isFunction(n)?e[t]():n};var C=0;h.uniqueId=function(e){var t=++C+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\u2028|\u2029/g,E=function(e){return"\\"+T[e]};h.template=function(e,t,n){!t&&n&&(t=n),t=h.defaults({},t,h.templateSettings);var r=RegExp([(t.escape||_).source,(t.interpolate||_).source,(t.evaluate||_).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(S,E),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var c=function(e){return a.call(this,e,h)},l=t.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},h.chain=function(e){var t=h(e);return t._chain=!0,t};var M=function(e){return this._chain?h(e).chain():e};h.mixin=function(e){h.each(h.functions(e),function(t){var n=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),M.call(this,n.apply(h,e))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];h.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],M.call(this,n)}}),h.each(["concat","join","slice"],function(e){var t=n[e];h.prototype[e]=function(){return M.call(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){{var i=e.Backbone,o=[],a=(o.push,o.slice);o.splice}t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!l(this,"once",e,[t,r])||!t)return this;var i=this,o=n.once(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var i,o,a,s,c,u,d,f;if(!this._events||!l(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),c=0,u=s.length;u>c;c++)if(e=s[c],a=this._events[e]){if(this._events[e]=i=[],t||r)for(d=0,f=a.length;f>d;d++)o=a[d],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&u(n,t),r&&u(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var o=!t&&!r;r||"object"!=typeof t||(r=this),e&&((i={})[e._listenId]=e);for(var a in i)e=i[a],e.off(t,r,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},c=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var o=n.split(c),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},u=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},d={listenTo:"on",listenToOnce:"once"};n.each(d,function(e,t){s[t]=function(t,r,i){var o=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return o[a]=t,i||"object"!=typeof r||(i=this),t[e](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var f=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,r){var i,o,a,s,c,l,u,d;if(null==e)return this;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;a=r.unset,c=r.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)t=o[i],n.isEqual(d[i],t)||s.push(i),n.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete d[i]:d[i]=t;if(!c){s.length&&(this._pending=r);for(var f=0,h=s.length;h>f;f++)this.trigger("change:"+s[f],this,d[s[f]],r)}if(l)return this;if(!c)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(i[o],t=e[o])||((r||(r={}))[o]=t);return r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(r&&r(t,n,e),void t.trigger("sync",t,n,e)):!1},$(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,o,a,s=this.attributes;if(null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;
i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var c=this,l=r.success;return r.success=function(e){c.attributes=s;var t=c.parse(e,r);return r.wait&&(t=n.extend(i||{},t)),n.isObject(t)&&!c.set(t,r)?!1:(l&&l(c,e,r),void c.trigger("sync",c,e,r))},$(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),a=this.sync(o,this,r),i&&r.wait&&(this.attributes=s),a},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;$(this,e);var o=this.sync("delete",this,e);return e.wait||i(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];n.each(h,function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var p=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(p.prototype,s,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,m))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,o,a,s;for(i=0,o=e.length;o>i;i++)s=e[i]=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,o,a,s,c,l,u,d=t.at,h=this.model,p=this.comparator&&null==d&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,x=t.merge,k=t.remove,C=!p&&w&&k?[]:!1;for(i=0,o=e.length;o>i;i++){if(c=e[i]||{},a=c instanceof f?s=c:c[h.prototype.idAttribute||"id"],l=this.get(a))k&&(b[l.cid]=!0),x&&(c=c===s?s.attributes:c,t.parse&&(c=l.parse(c,t)),l.set(c,t),p&&!u&&l.hasChanged(m)&&(u=!0)),e[i]=l;else if(w){if(s=e[i]=this._prepareModel(c,t),!s)continue;v.push(s),this._addReference(s,t)}s=l||s,!C||!s.isNew()&&b[s.id]||C.push(s),b[s.id]=!0}if(k){for(i=0,o=this.length;o>i;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||C&&C.length)if(p&&(u=!0),this.length+=v.length,null!=d)for(i=0,o=v.length;o>i;i++)this.models.splice(d+i,0,v[i]);else{C&&(this.models.length=0);var _=C||v;for(i=0,o=_.length;o>i;i++)this.models.push(_[i])}if(u&&this.sort({silent:!0}),!t.silent){for(i=0,o=v.length;o>i;i++)(s=v[i]).trigger("add",s,this,t);(u||C&&C.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},$(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){p.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){p.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[e[t]]),r){var i=t.match(w),o=i[1],a=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,r):this.$el.on(o,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}}}),t.sync=function(e,r,i){var o=C[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||L()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&k&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var c=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,c,i),c};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var _=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,E=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(_.prototype,s,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(i,a),o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(M,"\\$&").replace(T,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/?]+)"}).replace(E,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var D=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,I=/msie [\w.]+/,N=/\/$/,O=/#.*$/;D.started=!1,n.extend(D.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(N,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(A,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=I.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(j,"/"),o&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!D.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(O,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new D;var P=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};f.extend=p.extend=_.extend=b.extend=D.extend=P;var L=function(){throw new Error('A "url" property or function must be specified')},$=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)a[n]=str(n,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,c),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.2.0",r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),r[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),o=this.interval,a="next"==t?"left":"right",s="next"==t?"first":"last",c=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var l=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:l,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:l,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(a),i.addClass(a),r.one("bsTransitionEnd",function(){i.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(f)},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||r.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var i=r.data("bs.collapse");if(i&&i.transitioning)return;t.call(r,"hide"),i||r.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r,i=e(this),o=i.attr("data-target")||n.preventDefault()||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),a=e(o),s=a.data("bs.collapse"),c=s?"toggle":i.data(),l=i.attr("data-parent"),u=l&&e(l);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(a,c)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var r=n(e(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.divider):visible a",c=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(c.length){var l=c.index(c.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<c.length-1&&l++,~l||(l=0),c.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;
i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",c="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,c=s.test(a);c&&(a=a.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var l=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(c){var f=a,h=this.$element.parent(),p=this.getPosition(h);a="bottom"==a&&l.top+l.height+d-p.scroll>p.height?"top":"top"==a&&l.top-p.scroll-d<0?"bottom":"right"==a&&l.right+u>p.width?"left":"left"==a&&l.left-u<p.left?"right":a,i.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,l,u,d);this.applyPlacement(g,a);var m=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(n,t,c,l);u.left?t.left+=u.left:t.top+=u.top;var d=u.left?2*u.left-i+c:2*u.top-o+l,f=u.left?"left":"top",h=u.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(d,r[0][h],f)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,c=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:c>a.top+a.height&&(i.top=a.top+a.height-c)}else{var l=t.left-o,u=t.left+o+n;l<a.left?i.left=a.left-l:u>a.width&&(i.left=a.left+a.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<=i[0])return a!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var a=e(r);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),a=r&&e.support.transition&&o.hasClass("fade");a?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),r=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var c=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=a&&a>=r?"top":!1;if(this.affixed!==c){null!=this.unpin&&this.$element.css("top","");var l="affix"+(c?"-"+c:""),u=e.Event(l+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=c,this.unpin="bottom"==c?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(e.Event(l.replace("affix","affixed"))),"bottom"==c&&this.$element.offset({top:t-this.$element.height()-s}))}}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Et.call(e,t)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){xt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return p(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){bn[e]||(i(t),bn[e]=!0)}function s(e,t){return function(n){return v(e.call(this,n),t)}}function c(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function l(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function u(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function d(){}function f(e,t){t!==!1&&N(e),g(this,e),this._d=new Date(+e._d),xn===!1&&(xn=!0,xt.updateOffset(this),xn=!1)}function h(e){var t=S(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=xt.localeData(),this._bubble()}function p(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Lt.length>0)for(n in Lt)r=Lt[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function b(e,t){var n;return t=R(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function w(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=xt.duration(n,r),x(this,i,e),this}}function x(e,t,n,r){var i=t._milliseconds,o=t._days,a=t._months;r=null==r?!0:r,i&&e._d.setTime(+e._d+i*n),o&&gt(e,"Date",pt(e,"Date")+o*n),a&&ht(e,pt(e,"Month")+a*n),r&&xt.updateOffset(e,o||a)}function k(e){return"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function _(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&M(e[r])!==M(t[r]))&&a++;return a+o}function T(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=fn[e]||hn[t]||t}return e}function S(e){var t,r,i={};for(r in e)n(e,r)&&(t=T(r),t&&(i[t]=e[r]));return i}function E(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}xt[t]=function(i,o){var a,s,c=xt._locale[t],l=[];if("number"==typeof i&&(o=i,i=e),s=function(e){var t=xt().utc().set(r,e);return c.call(xt._locale,t,i||"")},null!=o)return s(o);for(a=0;n>a;a++)l.push(s(a));return l}}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function D(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function A(e,t,n){return lt(xt([e,11,31+t-n]),t,n).week}function j(e){return I(e)?366:365}function I(e){return e%4===0&&e%100!==0||e%400===0}function N(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Dt]<0||e._a[Dt]>11?Dt:e._a[At]<1||e._a[At]>D(e._a[Mt],e._a[Dt])?At:e._a[jt]<0||e._a[jt]>24||24===e._a[jt]&&(0!==e._a[It]||0!==e._a[Nt]||0!==e._a[Ot])?jt:e._a[It]<0||e._a[It]>59?It:e._a[Nt]<0||e._a[Nt]>59?Nt:e._a[Ot]<0||e._a[Ot]>999?Ot:-1,e._pf._overflowDayOfYear&&(Mt>t||t>At)&&(t=At),e._pf.overflow=t)}function O(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function P(e){return e?e.toLowerCase().replace("_","-"):e}function L(e){for(var t,n,r,i,o=0;o<e.length;){for(i=P(e[o]).split("-"),t=i.length,n=P(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}o++}return null}function $(e){var t=null;if(!Pt[e]&&$t)try{t=xt.locale(),require("./locale/"+e),xt.locale(t)}catch(n){}return Pt[e]}function R(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(xt.isMoment(e)||C(e)?+e:+xt(e))-+n,n._d.setTime(+n._d+r),xt.updateOffset(n,!1),n):xt(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,n,r=e.match(Ft);for(t=0,n=r.length;n>t;t++)r[t]=yn[r[t]]?yn[r[t]]:B(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function F(e,t){return e.isValid()?(t=W(t,e.localeData()),pn[t]||(pn[t]=H(t)),pn[t](e)):e.localeData().invalidDate()}function W(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Wt.lastIndex=0;r>=0&&Wt.test(e);)e=e.replace(Wt,n),Wt.lastIndex=0,r-=1;return e}function q(e,t){var n,r=t._strict;switch(e){case"Q":return Kt;case"DDDD":return tn;case"YYYY":case"GGGG":case"gggg":return r?nn:zt;case"Y":case"G":case"g":return on;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?rn:Vt;case"S":if(r)return Kt;case"SS":if(r)return en;case"SSS":if(r)return tn;case"DDD":return Ut;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Gt;case"a":case"A":return t._locale._meridiemParse;case"x":return Qt;case"X":return Zt;case"Z":case"ZZ":return Xt;case"T":return Jt;case"SSSS":return Yt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?en:qt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return qt;case"Do":return r?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Z(Q(e.replace("\\","")),"i"))}}function U(e){e=e||"";var t=e.match(Xt)||[],n=t[t.length-1]||[],r=(n+"").match(un)||["-",0,0],i=+(60*r[1])+M(r[2]);return"+"===r[0]?i:-i}function z(e,t,n){var r,i=n._a;switch(e){case"Q":null!=t&&(i[Dt]=3*(M(t)-1));break;case"M":case"MM":null!=t&&(i[Dt]=M(t)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(t,e,n._strict),null!=r?i[Dt]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[At]=M(t));break;case"Do":null!=t&&(i[At]=M(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=M(t));break;case"YY":i[Mt]=xt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[Mt]=M(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[jt]=M(t);break;case"m":case"mm":i[It]=M(t);break;case"s":case"ss":i[Nt]=M(t);break;case"S":case"SS":case"SSS":case"SSSS":i[Ot]=M(1e3*("0."+t));break;case"x":n._d=new Date(M(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=U(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=M(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=xt.parseTwoDigitYear(t)}}function V(e){var n,r,i,o,a,s,c;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,r=t(n.GG,e._a[Mt],lt(xt(),1,4).year),i=t(n.W,1),o=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,r=t(n.gg,e._a[Mt],lt(xt(),a,s).year),i=t(n.w,1),null!=n.d?(o=n.d,a>o&&++i):o=null!=n.e?n.e+a:a),c=ut(r,i,o,s,a),e._a[Mt]=c.year,e._dayOfYear=c.dayOfYear}function Y(e){var n,r,i,o,a=[];if(!e._d){for(i=X(e),e._w&&null==e._a[At]&&null==e._a[Dt]&&V(e),e._dayOfYear&&(o=t(e._a[Mt],i[Mt]),e._dayOfYear>j(o)&&(e._pf._overflowDayOfYear=!0),r=ot(o,0,e._dayOfYear),e._a[Dt]=r.getUTCMonth(),e._a[At]=r.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;7>n;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[jt]&&0===e._a[It]&&0===e._a[Nt]&&0===e._a[Ot]&&(e._nextDay=!0,e._a[jt]=0),e._d=(e._useUTC?ot:it).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[jt]=24)}}function G(e){var t;e._d||(t=S(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],Y(e))}function X(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function J(t){if(t._f===xt.ISO_8601)return void et(t);t._a=[],t._pf.empty=!0;var n,r,i,o,a,s=""+t._i,c=s.length,l=0;for(i=W(t._f,t._locale).match(Ft)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(q(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),yn[o]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(o),z(o,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=c-l,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[jt]<=12&&(t._pf.bigHour=e),t._a[jt]=u(t._locale,t._a[jt],t._meridiem),Y(t),N(t)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(e){var t,n,i,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)a=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[o],J(t),O(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==i||i>a)&&(i=a,n=t));p(e,n||t)}function et(e){var t,n,r=e._i,i=an.exec(r);if(i){for(e._pf.iso=!0,t=0,n=cn.length;n>t;t++)if(cn[t][1].exec(r)){e._f=cn[t][0]+(i[6]||" ");break}for(t=0,n=ln.length;n>t;t++)if(ln[t][1].exec(r)){e._f+=ln[t][0];break}r.match(Xt)&&(e._f+="Z"),J(e)}else e._isValid=!1}function tt(e){et(e),e._isValid===!1&&(delete e._isValid,xt.createFromInputFallback(e))}function nt(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function rt(t){var n,r=t._i;r===e?t._d=new Date:C(r)?t._d=new Date(+r):null!==(n=Rt.exec(r))?t._d=new Date(+n[1]):"string"==typeof r?tt(t):k(r)?(t._a=nt(r.slice(0),function(e){return parseInt(e,10)}),Y(t)):"object"==typeof r?G(t):"number"==typeof r?t._d=new Date(r):xt.createFromInputFallback(t)}function it(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function ot(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function at(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function st(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ct(e,t,n){var r=xt.duration(e).abs(),i=St(r.as("s")),o=St(r.as("m")),a=St(r.as("h")),s=St(r.as("d")),c=St(r.as("M")),l=St(r.as("y")),u=i<gn.s&&["s",i]||1===o&&["m"]||o<gn.m&&["mm",o]||1===a&&["h"]||a<gn.h&&["hh",a]||1===s&&["d"]||s<gn.d&&["dd",s]||1===c&&["M"]||c<gn.M&&["MM",c]||1===l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,st.apply({},u)}function lt(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=xt(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ut(e,t,n,r,i){var o,a,s=ot(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(i>s?7:0),a=7*(t-1)+(n-i)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:j(e-1)+a}}function dt(t){var n,r=t._i,i=t._f;return t._locale=t._locale||xt.localeData(t._l),null===r||i===e&&""===r?xt.invalid({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),xt.isMoment(r)?new f(r,!0):(i?k(i)?K(t):J(t):rt(t),n=new f(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ft(e,t){var n,r;if(1===t.length&&k(t[0])&&(t=t[0]),!t.length)return xt();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function ht(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),D(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function pt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function gt(e,t,n){return"Month"===t?ht(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function mt(e,t){return function(n){return null!=n?(gt(this,e,n),xt.updateOffset(this,t),this):pt(this,e)}}function vt(e){return 400*e/146097}function yt(e){return 146097*e/400}function bt(e){xt.duration.fn[e]=function(){return this._data[e]}}function wt(e){"undefined"==typeof ender&&(kt=Tt.moment,Tt.moment=e?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",xt):xt)}for(var xt,kt,Ct,_t="2.9.0",Tt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,St=Math.round,Et=Object.prototype.hasOwnProperty,Mt=0,Dt=1,At=2,jt=3,It=4,Nt=5,Ot=6,Pt={},Lt=[],$t="undefined"!=typeof module&&module&&module.exports,Rt=/^\/?Date\((\-?\d+)/i,Bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ht=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ft=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Wt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qt=/\d\d?/,Ut=/\d{1,3}/,zt=/\d{1,4}/,Vt=/[+\-]?\d{1,6}/,Yt=/\d+/,Gt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xt=/Z|[\+\-]\d\d:?\d\d/gi,Jt=/T/i,Qt=/[\+\-]?\d+/,Zt=/[\+\-]?\d+(\.\d{1,3})?/,Kt=/\d/,en=/\d\d/,tn=/\d{3}/,nn=/\d{4}/,rn=/[+-]?\d{6}/,on=/[+-]?\d+/,an=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sn="YYYY-MM-DDTHH:mm:ssZ",cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ln=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],un=/([\+\-]|\d\d)/gi,dn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),fn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},hn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pn={},gn={s:45,m:45,h:22,d:26,M:11},mn="DDD w W M D d".split(" "),vn="M D H h m s w W".split(" "),yn={M:function(){return this.month()+1
},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return M(this.milliseconds()/100)},SS:function(){return v(M(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(M(e/60),2)+":"+v(M(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(M(e/60),2)+v(M(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bn={},wn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],xn=!1;mn.length;)Ct=mn.pop(),yn[Ct+"o"]=c(yn[Ct],Ct);for(;vn.length;)Ct=vn.pop(),yn[Ct+Ct]=s(yn[Ct],2);yn.DDDD=s(yn.DDD,3),p(d.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=xt.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=xt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.apply(t,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return lt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),xt=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=i,a._strict=o,a._isUTC=!1,a._pf=r(),dt(a)},xt.suppressDeprecationWarnings=!1,xt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),xt.min=function(){var e=[].slice.call(arguments,0);return ft("isBefore",e)},xt.max=function(){var e=[].slice.call(arguments,0);return ft("isAfter",e)},xt.utc=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=t,a._f=n,a._strict=o,a._pf=r(),dt(a).utc()},xt.unix=function(e){return xt(1e3*e)},xt.duration=function(e,t){var r,i,o,a,s=e,c=null;return xt.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(c=Bt.exec(e))?(r="-"===c[1]?-1:1,s={y:0,d:M(c[At])*r,h:M(c[jt])*r,m:M(c[It])*r,s:M(c[Nt])*r,ms:M(c[Ot])*r}):(c=Ht.exec(e))?(r="-"===c[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*r},s={y:o(c[2]),M:o(c[3]),d:o(c[4]),h:o(c[5]),m:o(c[6]),s:o(c[7]),w:o(c[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=b(xt(s.from),xt(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new h(s),xt.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},xt.version=_t,xt.defaultFormat=sn,xt.ISO_8601=function(){},xt.momentProperties=Lt,xt.updateOffset=function(){},xt.relativeTimeThreshold=function(t,n){return gn[t]===e?!1:n===e?gn[t]:(gn[t]=n,!0)},xt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return xt.locale(e,t)}),xt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?xt.defineLocale(e,t):xt.localeData(e),n&&(xt.duration._locale=xt._locale=n)),xt._locale._abbr},xt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Pt[e]||(Pt[e]=new d),Pt[e].set(t),xt.locale(e),Pt[e]):(delete Pt[e],null)},xt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return xt.localeData(e)}),xt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xt._locale;if(!k(e)){if(t=$(e))return t;e=[e]}return L(e)},xt.isMoment=function(e){return e instanceof f||null!=e&&n(e,"_isAMomentObject")},xt.isDuration=function(e){return e instanceof h};for(Ct=wn.length-1;Ct>=0;--Ct)E(wn[Ct]);xt.normalizeUnits=function(e){return T(e)},xt.invalid=function(e){var t=xt.utc(0/0);return null!=e?p(t._pf,e):t._pf.userInvalidated=!0,t},xt.parseZone=function(){return xt.apply(null,arguments).parseZone()},xt.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)},xt.isDate=C,p(xt.fn=f.prototype,{clone:function(){return xt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=xt(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return O(this)},isDSTShifted:function(){return this._a?this.isValid()&&_(this._a,(this._isUTC?xt.utc(this._a):xt(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=F(this,e||xt.defaultFormat);return this.localeData().postformat(t)},add:w(1,"add"),subtract:w(-1,"subtract"),diff:function(e,t,n){var r,i,o=R(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(i=l(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:m(i)},from:function(e,t){return xt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(xt(),e)},calendar:function(e){var t=e||xt(),n=R(t,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,xt(t)))},isLeapYear:function(){return I(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=at(e,this.localeData()),this.add(e-t,"d")):t},month:mt("Month",!0),startOf:function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=T(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=xt.isMoment(e)?e:xt(e),+this>+e):(n=xt.isMoment(e)?+e:+xt(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=xt.isMoment(e)?e:xt(e),+e>+this):(n=xt.isMoment(e)?+e:+xt(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=xt.isMoment(e)?e:xt(e),+this===+e):(n=+xt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=xt.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=xt.apply(null,arguments),e>this?this:e}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,r=this._offset||0;return null!=e?("string"==typeof e&&(e=U(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?x(this,xt.duration(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,xt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(U(this._i)),this},hasAlignedHourOffset:function(e){return e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(e){var t=St((xt(this).startOf("day")-xt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=lt(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=lt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return A(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return A(this.year(),e.dow,e.doy)},get:function(e){return e=T(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=T(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=xt.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),xt.fn.millisecond=xt.fn.milliseconds=mt("Milliseconds",!1),xt.fn.second=xt.fn.seconds=mt("Seconds",!1),xt.fn.minute=xt.fn.minutes=mt("Minutes",!1),xt.fn.hour=xt.fn.hours=mt("Hours",!0),xt.fn.date=mt("Date",!0),xt.fn.dates=o("dates accessor is deprecated. Use date instead.",mt("Date",!0)),xt.fn.year=mt("FullYear",!0),xt.fn.years=o("years accessor is deprecated. Use year instead.",mt("FullYear",!0)),xt.fn.days=xt.fn.day,xt.fn.months=xt.fn.month,xt.fn.weeks=xt.fn.week,xt.fn.isoWeeks=xt.fn.isoWeek,xt.fn.quarters=xt.fn.quarter,xt.fn.toJSON=xt.fn.toISOString,xt.fn.isUTC=xt.fn.isUtc,p(xt.duration.fn=h.prototype,{_bubble:function(){var e,t,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;a.milliseconds=r%1e3,e=m(r/1e3),a.seconds=e%60,t=m(e/60),a.minutes=t%60,n=m(t/60),a.hours=n%24,i+=m(n/24),s=m(vt(i)),i-=m(yt(s)),o+=m(i/30),i%=30,s+=m(o/12),o%=12,a.days=i,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12)},humanize:function(e){var t=ct(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=xt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=xt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=T(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=T(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*vt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(yt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:xt.fn.lang,locale:xt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),xt.duration.fn.toString=xt.duration.fn.toISOString;for(Ct in dn)n(dn,Ct)&&bt(Ct.toLowerCase());xt.duration.fn.asMilliseconds=function(){return this.as("ms")},xt.duration.fn.asSeconds=function(){return this.as("s")},xt.duration.fn.asMinutes=function(){return this.as("m")},xt.duration.fn.asHours=function(){return this.as("h")},xt.duration.fn.asDays=function(){return this.as("d")},xt.duration.fn.asWeeks=function(){return this.as("weeks")},xt.duration.fn.asMonths=function(){return this.as("M")},xt.duration.fn.asYears=function(){return this.as("y")},xt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),$t?module.exports=xt:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Tt.moment=kt),xt}),wt(!0)):wt()}.call(this),function(e){function t(){try{return a in e&&e[a]}catch(t){return!1}}function n(e){return e.replace(/^d/,"___$&").replace(f,"___")}var r,i={},o=e.document,a="localStorage",s="script";if(i.disabled=!1,i.version="1.3.17",i.set=function(){},i.get=function(){},i.has=function(e){return void 0!==i.get(e)},i.remove=function(){},i.clear=function(){},i.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=i.get(e,t);n(r),i.set(e,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},t())r=e[a],i.set=function(e,t){return void 0===t?i.remove(e):(r.setItem(e,i.serialize(t)),t)},i.get=function(e,t){var n=i.deserialize(r.getItem(e));return void 0===n?t:n},i.remove=function(e){r.removeItem(e)},i.clear=function(){r.clear()},i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=function(e){for(var t=0;t<r.length;t++){var n=r.key(t);e(n,i.get(n))}};else if(o.documentElement.addBehavior){var c,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),l.close(),c=l.w.frames[0].document,r=c.createElement("div")}catch(u){r=o.createElement("div"),c=o.body}var d=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r),c.appendChild(r),r.addBehavior("#default#userData"),r.load(a);var n=e.apply(i,t);return c.removeChild(r),n}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=d(function(e,t,r){return t=n(t),void 0===r?i.remove(t):(e.setAttribute(t,i.serialize(r)),e.save(a),r)}),i.get=d(function(e,t,r){t=n(t);var o=i.deserialize(e.getAttribute(t));return void 0===o?r:o}),i.remove=d(function(e,t){t=n(t),e.removeAttribute(t),e.save(a)}),i.clear=d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(a)}),i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=d(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)t(n.name,i.deserialize(e.getAttribute(n.name)))})}try{var h="__storejs__";i.set(h,h),i.get(h)!=h&&(i.disabled=!0),i.remove(h)}catch(u){i.disabled=!0}i.enabled=!i.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=i:"function"==typeof define&&define.amd?define(i):e.store=i}(Function("return this")()),function(e){e.fn.jrumble=function(t){var n={x:2,y:2,rotation:1,speed:15,opacity:!1,opacityMin:.5},r=e.extend(n,t);return this.each(function(){var t,n,i=e(this),o=2*r.x,a=2*r.y,s=2*r.rotation,c=0===r.speed?1:r.speed,l=r.opacity,u=r.opacityMin,d=function(){var e=Math.floor(Math.random()*(o+1))-o/2,n=Math.floor(Math.random()*(a+1))-a/2,r=Math.floor(Math.random()*(s+1))-s/2,c=l?Math.random()+u:1;e=0===e&&0!==o?Math.random()<.5?1:-1:e,n=0===n&&0!==a?Math.random()<.5?1:-1:n,"inline"===i.css("display")&&(t=!0,i.css("display","inline-block")),i.css({position:"relative",left:e+"px",top:n+"px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*c+")",filter:"alpha(opacity="+100*c+")","-moz-opacity":c,"-khtml-opacity":c,opacity:c,"-webkit-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)","-ms-transform":"rotate("+r+"deg)","-o-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"})},f={left:0,top:0,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)",filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1,opacity:1,"-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"};i.bind({startRumble:function(e){e.stopPropagation(),clearInterval(n),n=setInterval(d,c)},stopRumble:function(e){e.stopPropagation(),clearInterval(n),t&&i.css("display","inline"),i.css(f)}})})}}(jQuery),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.respoke=t():e.respoke=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=n(19);r.setLevel("warn");var i=n(18);i.longStackSupport=!0,i.stackJumpLimit=5,i.longStackJumpLimit=20,i.stopUnhandledRejectionTracking(),n(17);var o=e.exports={buildNumber:"NO BUILD NUMBER",streams:[]};if(o.instances={},o.needsChromeExtension=!(!window.chrome||window.opera||!navigator.webkitGetUserMedia),o.isNwjs="undefined"!=typeof process,o.hasChromeExtension=!1,o.extEvent=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t),n},o.version=o.buildNumber+"",o.EventEmitter=n(2),o.Client=n(3),o.Presentable=n(4),o.Connection=n(5),o.Endpoint=n(6),o.TextMessage=n(7),o.SignalingMessage=n(8),o.Group=n(9),o.SignalingChannel=n(10),o.DirectConnection=n(11),o.PeerConnection=n(12),o.CallState=n(13),o.Call=n(14),o.LocalMedia=n(15),o.RemoteMedia=n(16),o.log=r,o.Q=i,document.addEventListener("respoke-available",function(e){var t=e.detail;t.available===!0&&(o.hasChromeExtension=!0,o.chooseDesktopMedia=function(e){function t(n){var r=n.detail;o.screenSourceId=r.sourceId,e(r),document.removeEventListener("respoke-source-id",t)}if(!e)throw new Error("Can't choose desktop media without callback parameter.");document.dispatchEvent(o.extEvent("ct-respoke-source-id")),document.addEventListener("respoke-source-id",t)},o.log.info("Respoke Screen Share Chrome extension available for use."))}),!window.skipBugsnag){var a=document.createElement("script"),s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s),a.src="https://ssljscdn.airbrake.io/0.3/airbrake.min.js",a.setAttribute("data-airbrake-project-id","98133"),a.setAttribute("data-airbrake-project-key","cd3e085acc5e554658ebcdabd112a6f4"),a.setAttribute("data-airbrake-project-environment-name","production"),a.onload=function(){window.onerror=function(e,t,n){t.match(/respoke/)&&Airbrake.push({error:{message:e,fileName:t,lineNumber:n}})}}}o.connect=function(e){var t=o.Client(e);return t.connect(e),t},o.chooseDesktopMedia=function(){r.warn("Screen sharing is not implemented for this browser.")},o.getClient=function(e){return void 0===e&&r.debug("Can't call getClient with no client ID.",(new Error).stack),o.instances[e]||r.debug("No client instance with id",e),o.instances[e]},o.createClient=function(e){var t;return e=e||{},e.instanceId&&(t=o.getClient(e.instanceId))?t:o.Client(e)},o.once=function(e){return function(){var t=!1;return function(){t===!1&&(e.apply(null,arguments),t=!0)}}()},o.makeGUID=function(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0,i=0;36>i;i+=1)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(2>=r&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[i]=t[19===i?3&e|8:e]);return n.join("")},o.handlePromise=function(e,t,n){var r=!1;return(t||n)&&(r=!0),t="function"==typeof t?t:function(){},n="function"==typeof n?n:function(){},e.done(t,n),r?void 0:e},o.Class=function(e){e=e||{};var t=e.that||{};return e.client,t.className="respoke.Class",delete e.that,delete t.client,Object.keys(e).forEach(function(n){t[n]=e[n]}),t},o.hasUserMedia=function(){return(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)instanceof Function},o.hasRTCPeerConnection=function(){return(window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection)instanceof Function},o.hasWebsocket=function(){return(window.WebSocket||window.webkitWebSocket||window.MozWebSocket)instanceof Function},o.clone=function(e){return e?JSON.parse(JSON.stringify(e)):e},o.isEqual=function(e,t){var n;if(e&&t&&e.hasOwnProperty("length")&&t.hasOwnProperty("length")&&e.splice&&t.splice){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!o.isEqual(e[r],t[r]))return!1;return!0}if("object"==typeof e&&"object"==typeof t&&Object.keys(e).length===Object.keys(t).length){n=Object.keys(e);for(var r=0;r<n.length;r+=1)if(!o.isEqual(e[n[r]],t[n[r]]))return!1;return!0}return e===t},o.sdpHasAudio=function(e){if(!e)throw new Error("respoke.sdpHasAudio called with no parameters.");return-1!==e.indexOf("m=audio")&&-1===e.indexOf("a=recvonly")},o.sdpHasVideo=function(e){if(!e)throw new Error("respoke.sdpHasVideo called with no parameters.");return-1!==e.indexOf("m=video")&&-1===e.indexOf("a=recvonly")},o.sdpHasDataChannel=function(e){if(!e)throw new Error("respoke.sdpHasDataChannel called with no parameters.");return-1!==e.indexOf("m=application")},o.constraintsHasAudio=function(e){if(!e)throw new Error("respoke.constraintsHasAudio called with no parameters.");return e.audio===!0},o.constraintsHasVideo=function(e){if(!e)throw new Error("respoke.constraintsHasVideo called with no parameters.");return e.video===!0||"object"==typeof e.video}},function(e,t,n){var r=n(1),i=n(19);e.exports=function(e){"use strict";function t(e,t,r){return function(){try{e.call(n,t)}catch(o){i.error("Error in "+n.className+"#"+r,o.message,o.stack)}}}e=e||{};var n=r.Class(e);n.className="respoke.EventEmitter";var o={};return n.once=function(e,t,i){var o=t.toString();t=r.once(t),t.toString=function(){return o},t.once=!0,n.listen(e,t,i)},n.listen=function(e,t,n){if(void 0!==t){var r="string"!=typeof e||!e,a="function"!=typeof t;if(r||a)return void i.error("Invalid request to add event listener to",e,t);o[e]=o[e]||[],t.isInternal=!!n;var s=function(e){return e.toString()},c=-1===o[e].map(s).indexOf(t.toString());c?o[e].push(t):i.warn("Not adding duplicate listener to",e,t)}},n.ignore=function(e,t){if(void 0===e)return void(o={});if(void 0===t||!o[e])return void(o[e]=[]);for(var n=o[e].length-1;n>=0;n-=1)if(t===o[e][n])return void o[e].splice(n,1)},n.fire=function(e,r){var a=0,s=[];if(r=r||{},r.name=e,r.target=n,e){if(!o[e])return void i.debug("fired "+n.className+"#"+e+" 0 listeners called with params",r);for(var c=0;c<o[e].length;c+=1){var l=o[e][c];"function"==typeof l&&(setTimeout(t(l,r,e)),a+=1,l.once===!0&&s.push(c))}for(var c=s.length-1;c>=0;c-=1)o[e].splice(s[c],1);i.debug("fired "+n.className+"#"+e+" "+a+" listeners called with params",r)}},n.hasListeners=function(e){if(void 0===e)throw new Error("Missing required parameter event type.");return o[e]?!o[e].every(function(e){return e.isInternal}):!1},n}},function(e,t,n){var r=n(19),i=n(18),o=n(1);e.exports=function(e){"use strict";function t(e){Object.keys(e).forEach(function(t){-1===["onSuccess","onError","reconnect"].indexOf(t)&&void 0!==e[t]&&(f[t]=e[t])}),f.developmentMode=!!f.developmentMode,f.enableCallDebugReport="boolean"==typeof f.enableCallDebugReport?f.enableCallDebugReport:!0,f.reconnect="boolean"!=typeof e.reconnect?"boolean"==typeof f.developmentMode?f.developmentMode:!1:!!e.reconnect}function n(e){e=e||{};var t=i.defer();return f.token||f.appId&&f.endpointId&&f.developmentMode===!0?(g.open({actuallyConnect:n,endpointId:u.endpointId,token:f.token}).then(function(){return g.authenticate()}).done(function(){f.presence&&u.setPresence({presence:f.presence}),u.listen("call",f.onCall),u.listen("direct-connection",f.onDirectConnection),u.listen("join",f.onJoin),u.listen("leave",f.onLeave),u.listen("message",f.onMessage),u.listen("connect",f.onConnect),u.listen("disconnect",f.onDisconnect),u.listen("disconnect",function(){u.calls.forEach(function(e){e.hangup({signal:!1})})},!0),u.listen("reconnect",f.onReconnect),r.info("logged in as "+u.endpointId,u),t.resolve()},function(e){t.reject(e),r.error(e.message,e.stack)}),t.promise):(t.reject(new Error("Must pass either endpointID & appId & developmentMode=true, or a token, to client.connect().")),t.promise)}function a(e){if(r.debug("addCall"),!e.call)throw new Error("Can't add call without a call parameter.");-1===u.calls.indexOf(e.call)&&u.calls.push(e.call),e.call.listen("hangup",function(){s({call:e.call})})}function s(e){var t=0;if(!e.call)throw new Error("Can't remove call without a call parameter.");for(var n=u.calls.length-1;n>=0;n-=1)u.calls[n].id===e.call.id&&(u.calls.splice(n,1),t+=1);1!==t&&r.warn("Something went wrong.",t,"calls were removed!")}function c(e){if(e=e||{},!e.id)throw new Error("Can't remove endpoint from internal tracking without group id.");i.all(h.map(function(e){return e.getMembers()})).done(function(t){var n=t.every(function(t){return t.every(function(t){return t.endpointId!==e.id})});n&&p.every(function(t,n){return t.id===e.id?(p.splice(n,1),!1):!0})})}e=e||{};var l=e.instanceId||o.makeGUID();e.instanceId=l;var u=o.Presentable(e);o.instances[l]=u,delete u.instanceId,u.connectTries=0,u.className="respoke.Client";var d=(window.location.hostname,window.location.port,{setPresence:u.setPresence}),f={};delete u.appId,delete u.baseURL,delete u.developmentMode,delete u.token,delete u.resolveEndpointPresence;var h=[],p=[];u.calls=[],r.debug("Client ID is ",l);
var g=o.SignalingChannel({instanceId:l,clientSettings:f});return t(e),u.connect=function(e){var i,a;return e=e||{},r.debug("Client.connect"),u.connectTries+=1,t(e),u.endpointId=f.endpointId,i=n(e),a=o.handlePromise(i,e.onSuccess,e.onError),i.then(function(){u.fire("connect")}),a},u.disconnect=function(e){e=e||{};var t=i.defer(),n=o.handlePromise(t.promise,e.onSuccess,e.onError);try{u.verifyConnected()}catch(r){return t.reject(r),n}var a=h.map(function(e){e.leave()});return i.all(a).fin(function(){return g.close()}).fin(function(){u.presence="unavailable",p=[],h=[],u.fire("disconnect"),t.resolve()}).done(),n},u.setPresence=function(e){var t,n;e=e||{};try{u.verifyConnected()}catch(a){return t=i.reject(a),o.handlePromise(t,e.onSuccess,e.onError)}return r.info("sending my presence update "+e.presence),t=g.sendPresence({presence:e.presence}),t.then(function(){d.setPresence(e),f.presence=e.presence}),n=o.handlePromise(t,e.onSuccess,e.onError)},u.getCall=function(e){var t=null,n={screenshare:"startScreenShare",did:"startPhoneCall",web:"startCall",sip:"startSIPCall"},i={};if(e.fromType=e.fromType||"web",u.calls.every(function(n){return e.id&&n.id===e.id?(t=n,!1):!e.id&&e.endpointId&&n.remoteEndpoint.id===e.endpointId?(t=n,!1):!0}),t||e.create!==!0)return t;switch(i.id=e.id,i.caller=!1,i.fromType="web",e.type){case"screenshare":i.toType="web";case"web":i.endpointId=e.endpointId;break;case"did":i.number=e.endpointId,i.toType="did";break;case"sip":i.uri=e.endpointId,i.toType="sip"}try{t=u[n[e.type]](i)}catch(o){r.error("Couldn't create Call.",o.message,o.stack)}return t},u.setOnline=function(e){var t;e=e||{},e.presence=e.presence||"available";try{u.verifyConnected()}catch(n){return t=i.reject(n),o.handlePromise(t,e.onSuccess,e.onError)}return u.setPresence(e)},u.setOffline=function(e){var t;e=e||{},e.presence=e.presence||"unavailable";try{u.verifyConnected()}catch(n){return t=i.reject(n),o.handlePromise(t,e.onSuccess,e.onError)}return u.setPresence(e)},u.sendMessage=function(e){var t,n,r;try{u.verifyConnected()}catch(a){return t=i.reject(a),n=o.handlePromise(t,e.onSuccess,e.onError)}return r=u.getEndpoint({skipPresence:!0,id:e.endpointId}),delete e.endpointId,r.sendMessage(e)},u.startScreenShare=function(e){u.verifyConnected();var t=u.getEndpoint({skipPresence:!0,id:e.endpointId});return delete e.endpointId,t.startScreenShare(e)},u.startCall=function(e){var t,n,r;try{u.verifyConnected()}catch(a){return t=i.reject(a),n=o.handlePromise(t,e.onSuccess,e.onError)}return r=u.getEndpoint({skipPresence:!0,id:e.endpointId}),delete e.endpointId,r.startCall(e)},u.startAudioCall=function(e){return e=e||{},e.constraints={video:!1,audio:!0,optional:[],mandatory:{}},u.startCall(e)},u.startVideoCall=function(e){return e=e||{},e.constraints={video:!0,audio:!0,optional:[],mandatory:{}},u.startCall(e)},u.startPhoneCall=function(e){var t,n,s=null,c={};e=e||{},e.constraints={video:!1,audio:!0,mandatory:{},optional:[]};try{u.verifyConnected()}catch(d){return t=i.reject(d),n=o.handlePromise(t,e.onSuccess,e.onError)}return"boolean"!=typeof e.caller&&(e.caller=!0),e.number?(c.id=e.number,e.instanceId=l,e.remoteEndpoint=c,e.toType=e.toType||"did",e.fromType=e.fromType||"web",e.signalOffer=function(t){var n=t.onSuccess,r=t.onError;delete t.onSuccess,delete t.onError,t.signalType="offer",t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,e.callerId&&(t.callerId={number:e.callerId}),g.sendSDP(t).done(n,r)},e.signalAnswer=function(t){t.signalType="answer",t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendSDP(t).done(null,function(e){r.error("Couldn't answer the call.",e.message,e.stack),t.call.hangup({signal:!1})})},e.signalConnected=function(t){t.target="call",t.connectionId=t.connectionId,t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendConnected(t).done(null,function(e){r.error("Couldn't send connected.",e.message,e.stack),t.call.hangup()})},e.signalModify=function(t){t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendModify(t).done(null,function(e){r.error("Couldn't send modify.",e.message,e.stack)})},e.signalCandidate=function(t){t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendCandidate(t).done(null,function(e){r.error("Couldn't send candidate.",e.message,e.stack)})},e.signalHangup=function(t){t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendHangup(t).done(null,function(e){r.error("Couldn't send hangup.",e.message,e.stack)})},e.signalReport=function(e){r.debug("Sending debug report",e.report),g.sendReport(e)},e.signalingChannel=g,s=o.Call(e),a({call:s}),s):(r.error("Can't start a phone call without a number."),t=i.reject(new Error("Can't start a phone call without a number.")),n=o.handlePromise(t,e.onSuccess,e.onError))},u.startSIPCall=function(e){var t,n,s=null,c={};e=e||{},e.constraints={video:!1,audio:!0,mandatory:{},optional:[]};try{u.verifyConnected()}catch(d){return t=i.reject(d),n=o.handlePromise(t,e.onSuccess,e.onError)}return"boolean"!=typeof e.caller&&(e.caller=!0),e.uri?(c.id=e.uri,e.instanceId=l,e.remoteEndpoint=c,e.toType=e.toType||"sip",e.fromType=e.fromType||"web",e.signalOffer=function(t){var n=t.onSuccess,r=t.onError;delete t.onSuccess,delete t.onError,t.signalType="offer",t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendSDP(t).done(n,r)},e.signalAnswer=function(t){t.signalType="answer",t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendSDP(t).done(null,function(e){r.error("Couldn't answer the call.",e.message,e.stack),t.call.hangup({signal:!1})})},e.signalConnected=function(t){t.target="call",t.connectionId=t.connectionId,t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendConnected(t).done(null,function(e){r.error("Couldn't send connected.",e.message,e.stack),t.call.hangup()})},e.signalModify=function(t){t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendModify(t).done(null,function(e){r.error("Couldn't send modify.",e.message,e.stack)})},e.signalCandidate=function(t){t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendCandidate(t).done(null,function(e){r.error("Couldn't send candidate.",e.message,e.stack)})},e.signalHangup=function(t){t.target="call",t.recipient=c,t.toType=e.toType,t.fromType=e.fromType,g.sendHangup(t).done(null,function(e){r.error("Couldn't send hangup.",e.message,e.stack)})},e.signalReport=function(e){r.debug("Sending debug report",e.report),g.sendReport(e)},e.signalingChannel=g,s=o.Call(e),a({call:s}),s):(r.error("Can't start a phone call without a SIP URI."),t=i.reject(new Error("Can't start a phone call without a SIP URI.")),n=o.handlePromise(t,e.onSuccess,e.onError))},u.verifyConnected=function(){if(!g.isConnected())throw new Error("Can't complete request when not connected. Please reconnect!")},u.isConnected=function(){return g.isConnected()},u.join=function(e){var t=i.defer(),n=o.handlePromise(t.promise,e.onSuccess,e.onError);try{u.verifyConnected()}catch(r){return t.reject(r),n}return e.id?(g.joinGroup({groupList:[e.id]}).done(function(){var n;e.signalingChannel=g,e.instanceId=l,n=u.getGroup({id:e.id}),n||(n=o.Group(e),u.addGroup(n)),n.listen("join",e.onJoin),n.listen("leave",e.onLeave),n.listen("message",e.onMessage),n.addMember({connection:u.getConnection({endpointId:u.endpointId,connectionId:u.connectionId})}),u.fire("join",{group:n}),t.resolve(n)},function(e){t.reject(e)}),n):(t.reject(new Error("Can't join a group with no group id.")),n)},u.addGroup=function(e){if(!e||"respoke.Group"!==e.className)throw new Error("Can't add group to internal tracking without a group.");e.listen("leave",function(t){e.removeMember({connectionId:t.connection.id});var n=t.connection.getEndpoint();n.hasListeners("presence")||c(n)},!0),h.push(e)},u.getGroups=function(){return h},u.getGroup=function(e){var t;if(!e||!e.id)throw new Error("Can't get a group without group id.");return h.every(function(n){return n.id===e.id?(t=n,!1):!0}),t&&(t.listen("join",e.onJoin),t.listen("leave",e.onLeave),t.listen("message",e.onMessage)),t},u.getEndpoint=function(e){var t;if(!e||!e.id)throw new Error("Can't get an endpoint without endpoint id.");return p.every(function(n){return n.id===e.id?(t=n,!1):!0}),t||!e||e.skipCreate||(e.instanceId=l,e.signalingChannel=g,e.resolveEndpointPresence=f.resolveEndpointPresence,e.addCall=a,t=o.Endpoint(e),p.push(t)),t?(e.skipPresence!==!0&&g.registerPresence({endpointList:[t.id]}).done(null,function(e){r.error("Couldn't register for presence on",t.id,e.message)}),t.listen("presence",e.onPresence),t.listen("message",e.onMessage),t):void 0},u.getConnection=function(e){var t,n,r=p;if(e=e||{},!e.connectionId)throw new Error("Can't get a connection without connection id.");if(!e.endpointId&&!e.skipCreate)throw new Error("Can't create a connection without endpoint id.");return e.endpointId&&(n=u.getEndpoint({id:e.endpointId,skipPresence:!0,skipCreate:e.skipCreate}),r=[],n&&(r=[n])),r.every(function(n){return t=n.getConnection(e),!t}),t||e.skipCreate||(e.instanceId=l,t=o.Connection(e),n.connections.push(t)),t},u.getEndpoints=function(){return p},u}},function(e,t,n){var r=n(1);e.exports=function(e){"use strict";e=e||{};var t=e.instanceId,n=r.EventEmitter(e);delete n.instanceId,n.className="respoke.Presentable",n.presence="unavailable";var i=r.getClient(t);return n.setPresence=function(e){var t;if(e=e||{},e.presence=e.presence||"available",e.connectionId=e.connectionId||n.connectionId,"respoke.Client"===n.className||"respoke.Connection"===n.className)n.presence=e.presence,"respoke.Connection"===n.className&&n.getEndpoint().resolvePresence();else if("respoke.Endpoint"===n.className){if(!e.connectionId)throw new Error("Can't set Endpoint presence without a connectionId.");t=n.getConnection({connectionId:e.connectionId})||i.getConnection({connectionId:e.connectionId,skipCreate:!1,endpointId:n.id}),t.presence=e.presence,n.resolvePresence()}n.fire("presence",{presence:n.presence})},n.getPresence=function(){return n.presence},n}},function(e,t,n){var r=n(1);e.exports=function(e){"use strict";e=e||{};var t=e.instanceId,n=r.Presentable(e),i=r.getClient(t);if(n.id=n.id||n.connectionId,!n.id)throw new Error("Can't make a connection without an id.");return delete n.instanceId,delete n.connectionId,n.className="respoke.Connection",n.sendMessage=function(e){return e=e||{},e.connectionId=n.id,n.getEndpoint().sendMessage(e)},n.startScreenShare=function(e){return n.verifyConnected(),e=e||{},e.connectionId=n.id,n.getEndpoint().startScreenShare(e)},n.startCall=function(e){return e=e||{},e.connectionId=n.id,n.getEndpoint().startCall(e)},n.startAudioCall=function(e){return e=e||{},e.connectionId=n.id,e.constraints={video:!1,audio:!0,optional:[],mandatory:{}},n.startCall(e)},n.startVideoCall=function(e){return e=e||{},e.connectionId=n.id,n.getEndpoint().startCall(e)},n.startDirectConnection=function(e){return e=e||{},e.connectionId=n.id,n.getEndpoint().startDirectConnection(e)},n.getEndpoint=function(){return i.getEndpoint({id:n.endpointId,skipPresence:!0})},n}},function(e,t,n){var r=n(19),i=n(18),o=n(1);e.exports=function(e){"use strict";e=e||{};var t=e.instanceId,n=o.Presentable(e),a=o.getClient(t),s=e.signalingChannel,c=e.addCall;delete n.signalingChannel,delete n.instanceId,delete n.connectionId,delete n.addCall,n.className="respoke.Endpoint",n.directConnection=null,n.connections=[],a.listen("disconnect",function(){n.connections=[]});var l=e.resolveEndpointPresence;return delete n.resolveEndpointPresence,n.sendMessage=function(e){var t,r;return e=e||{},t=s.sendMessage({connectionId:e.connectionId,message:e.message,recipient:n}),r=o.handlePromise(t,e.onSuccess,e.onError)},n.startAudioCall=function(e){return e=e||{},e.constraints={video:!1,audio:!0,optional:[],mandatory:{}},n.startCall(e)},n.startVideoCall=function(e){return e=e||{},e.constraints={video:!0,audio:!0,optional:[],mandatory:{}},n.startCall(e)},n.startScreenShare=function(e){return e=e||{},"boolean"!=typeof e.caller&&(e.caller=!0),e.target="screenshare",e.constraints=e.constraints||{},e.caller?o.needsChromeExtension||o.isNwjs?(e.constraints.video="object"==typeof e.constraints.video?e.constraints.video:{},e.constraints.video.optional=e.constraints.video.optional||[],e.constraints.video.mandatory="object"==typeof e.constraints.video.mandatory?e.constraints.video.mandatory:{},e.constraints.video.mandatory.chromeMediaSource="desktop",e.constraints.video.mandatory.maxWidth="number"==typeof e.constraints.video.mandatory.maxWidth?e.constraints.video.mandatory.maxWidth:2e3,e.constraints.video.mandatory.maxHeight="number"==typeof e.constraints.video.mandatory.maxHeight?e.constraints.video.mandatory.maxHeight:2e3,e.constraints.audio=!1,o.isNwjs?e.constraints.video.mandatory.chromeMediaSource="screen":(e.sendOnly=!0,"object"==typeof e.constraints.video.optional&&void 0!==e.constraints.video.optional.length&&(e.constraints.length>0?e.constraints.forEach(function(e){e.googTemporalLayeredScreencast=!0}):e.constraints.video.optional[0]={googTemporalLayeredScreencast:!0}))):e.constraints.video={mediaSource:e.source||"window"}:(e.constraints.video=!1,o.needsChromeExtension||o.isNwjs?(e.receiveOnly=!0,e.constraints.audio=!1):e.constraints.audio=!0),n.startCall(e)},n.startCall=function(e){var i=null;return e=e||{},"screenshare"!==e.target&&e.constraints&&e.constraints.video&&e.constraints.video.mandatory&&(e.constraints.video.mandatory.chromeMediaSource||e.constraints.video.mediaSource)?n.startScreenShare(e):(e.target=e.target||"call",r.debug("Endpoint.call",e),a.verifyConnected(),"boolean"!=typeof e.caller&&(e.caller=!0),n.id?(e.instanceId=t,e.remoteEndpoint=n,e.signalOffer=function(t){var r=t.onSuccess,i=t.onError;delete t.onSuccess,delete t.onError,t.signalType="offer",t.target=e.target,t.recipient=n,s.sendSDP(t).done(r,i)},e.signalAnswer=function(t){t.signalType="answer",t.target=e.target,t.recipient=n,t.sessionId=t.call.sessionId,s.sendSDP(t).done(null,function(e){r.error("Couldn't answer the call.",e.message,e.stack),t.call.hangup({signal:!1})})},e.signalConnected=function(t){t.target=e.target,t.connectionId=t.call.connectionId,t.sessionId=t.call.sessionId,t.recipient=n,s.sendConnected(t).done(null,function(e){r.error("Couldn't send connected.",e.message,e.stack),t.call.hangup()})},e.signalModify=function(t){t.target=e.target,t.recipient=n,t.sessionId=t.call.sessionId,s.sendModify(t).done(null,function(e){r.error("Couldn't send modify.",e.message,e.stack)})},e.signalCandidate=function(t){t.target=e.target,t.recipient=n,t.sessionId=t.call.sessionId,s.sendCandidate(t).done(null,function(e){r.warn("Couldn't send candidate.",e.message,e.stack)})},e.signalHangup=function(t){t.target=e.target,t.recipient=n,t.sessionId=t.call.sessionId,s.sendHangup(t).done(null,function(e){r.error("Couldn't send hangup.",e.message,e.stack)})},e.signalReport=function(e){r.debug("Sending debug report",e.report),s.sendReport(e).done(null,function(e){r.warn("Couldn't debug report.",e.message,e.stack)})},e.signalingChannel=s,i=o.Call(e),c({call:i}),i):void r.error("Can't start a call without endpoint ID!"))},n.startDirectConnection=function(e){e=e||{};var l,u=i.defer(),d=o.handlePromise(u.promise,e.onSuccess,e.onError);try{a.verifyConnected()}catch(f){return u.reject(f),d}return n.directConnection||e.create===!1?(u.resolve(n.directConnection),d):("boolean"!=typeof e.caller&&(e.caller=!0),n.id?(e.instanceId=t,e.remoteEndpoint=n,e.signalOffer=function(e){var t=e.onSuccess,r=e.onError;delete e.onSuccess,delete e.onError,e.signalType="offer",e.target="directConnection",e.recipient=n,s.sendSDP(e).done(t,r)},e.signalConnected=function(e){e.target="directConnection",e.recipient=n,s.sendConnected(e).done(null,function(t){r.error("Couldn't send connected.",t.message,t.stack),e.call.hangup()})},e.signalAnswer=function(e){e.target="directConnection",e.recipient=n,e.signalType="answer",s.sendSDP(e).done(null,function(t){r.error("Couldn't answer the call.",t.message,t.stack),e.call.hangup({signal:!1})})},e.signalCandidate=function(e){e.target="directConnection",e.recipient=n,s.sendCandidate(e).done(null,function(e){r.error("Couldn't send candidate.",e.message,e.stack)})},e.signalHangup=function(e){e.target="directConnection",e.recipient=n,s.sendHangup(e).done(null,function(e){r.error("Couldn't send hangup.",e.message,e.stack)})},e.signalReport=function(e){e.report.target="directConnection",r.debug("Not sending report"),r.debug(e.report)},e.needDirectConnection=!0,e.offerOptions={mandatory:{OfferToReceiveAudio:!1}},e.signalingChannel=s,l=o.Call(e),c({call:l}),l.listen("direct-connection",function(t){if(n.directConnection=t.directConnection,e.caller!==!0){if(!a.hasListeners("direct-connection")&&!a.hasListeners("direct-connection")&&!l.hasListeners("direct-connection"))return n.directConnection.reject(),void u.reject(new Error("Got an incoming direct connection with no handlers to accept it!"));u.resolve(n.directConnection),n.directConnection.listen("close",function(){n.directConnection=void 0},!0)}},!0),d):(u.reject(new Error("Can't start a direct connection without endpoint ID!")),d))},n.resolvePresence=function(){var e=n.connections.map(function(e){return e.presence});if(void 0!==l)n.presence=l(e);else{var t,r=["chat","available","away","dnd","xa","unavailable"];t=n.connections.sort(function(e,t){var n=r.indexOf(e.presence),i=r.indexOf(t.presence);return n=-1===n?1e3:n,i=-1===i?1e3:i,i>n?-1:n>i?1:0}),n.presence=t[0]?t[0].presence:"unavailable"}},n.getConnection=function(e){var t=null;if(e=e||{},1===n.connections.length&&(!e.connectionId||n.connections[0]===e.connectionId))return n.connections[0];if(!e||!e.connectionId)throw new Error("Can't find a connection without the connectionId.");return n.connections.every(function(n){return n.id===e.connectionId?(t=n,!1):!0}),t},n}},function(e){e.exports=function(e){"use strict";function t(){if(e.rawMessage){try{n.endpointId=e.rawMessage.header.from,n.connectionId=e.rawMessage.header.fromConnection,n.timestamp=e.rawMessage.header.timestamp}catch(t){throw new Error(t)}n.message=e.rawMessage.message||e.rawMessage.body,e.rawMessage.header.channel&&(n.recipient=e.rawMessage.header.channel)}else{try{n.to=e.endpointId,n.toConnection=e.connectionId,n.requestConnectionReply=e.requestConnectionReply===!0}catch(t){throw new Error(t)}n.message=e.message}}e=e||{};var n={};return t(),n}},function(e){e.exports=function(e){"use strict";function t(){if(e.rawMessage){try{n=JSON.parse(e.rawMessage.body)}catch(t){n=e.rawMessage.body}n.fromType=e.rawMessage.header.fromType,n.fromEndpoint=e.rawMessage.header.from,n.fromConnection=e.rawMessage.header.fromConnection,n.timestamp=e.rawMessage.header.timestamp,n.target||(n.target="call")}else r.forEach(function(t){if(0===e[t]||!e[t])throw new Error("Can't build a signaling without "+t)}),i.forEach(function(t){(0===e[t]||e[t])&&(n[t]=e[t])})}e=e||{};var n={},r=["recipient","signalType","sessionId","target","signalId"],i=["signalType","sessionId","sessionDescription","iceCandidates","offering","target","signalId","callerId","requesting","reason","error","status","connectionId","version"];return e.version="1.0",t(),n}},function(e,t,n){var r=n(18),i=n(1);e.exports=function(e){"use strict";function t(){if(!c||!c.isConnected())throw new Error("Can't complete request when not connected. Please reconnect!")}function n(){if(!o.isJoined())throw new Error("Not a member of this group anymore.")}e=e||{};var o=i.EventEmitter(e),a=e.instanceId,s=i.getClient(a);if(!o.id)throw new Error("Can't create a group without an ID.");var c=e.signalingChannel;return delete e.signalingChannel,o.connections=[],o.className="respoke.Group",o.listen("join",e.onJoin),o.listen("message",e.onMessage),o.listen("leave",e.onLeave),s.listen("disconnect",function(){o.connections=[]}),delete o.instanceId,delete o.onMessage,delete o.onPresence,delete o.onJoin,delete o.onLeave,o.join=function(){var e,n,a,c={id:o.id};try{t()}catch(l){return n=r.defer(),a=i.handlePromise(n.promise,c.onSuccess,c.onError),n.reject(l),a}return e=s.join(c),a=i.handlePromise(e,c.onSuccess,c.onError)},o.leave=function(e){e=e||{};var a=r.defer(),l=i.handlePromise(a.promise,e.onSuccess,e.onError);try{t(),n()}catch(u){return a.reject(u),l}return c.leaveGroup({groupList:[o.id]}).done(function(){o.connections=[],a.resolve(),s.fire("leave",{group:o})},function(){a.reject()}),l},o.removeMember=function(e){e=e||{};try{t(),n()}catch(r){return}if(!e.connectionId)throw new Error("Can't remove a member to the group without it's Connection id.");o.connections.every(function(t,n){return t.id===e.connectionId?(o.connections.splice(n,1),o.fire("leave",{connection:t}),!1):!0})},o.isJoined=function(){return o.connections.length>0&&!o.connections.every(function(e){return e.id!==s.connectionId})},o.addMember=function(e){e=e||{};var n;if(t(),!e.connection)throw new Error("Can't add a member to the group without it's Connection object.");if(n=o.connections.every(function(t){return t.id!==e.connection.id})){if(o.connections.push(e.connection),e.skipEvent)return;o.fire("join",{connection:e.connection})}},o.sendMessage=function(e){e=e||{},e.id=o.id;var a;try{t(),n()}catch(s){a=r.reject(s)}return i.handlePromise(a?a:c.publish(e),e.onSuccess,e.onError)},o.getMembers=function(e){e=e||{};var a=r.defer(),l=i.handlePromise(a.promise,e.onSuccess,e.onError);try{t(),n()}catch(u){return a.reject(u),l}return c.getGroupMembers({id:o.id}).done(function(e){var t=[];e.forEach(function(e){var n=s.getConnection({endpointId:e.endpointId,connectionId:e.connectionId,skipCreate:!0});n||(n=s.getConnection({endpointId:e.endpointId,connectionId:e.connectionId})),-1===t.indexOf(e.endpointId)&&t.push(e.endpointId),o.addMember({connection:n,skipEvent:!0})}),a.resolve(o.connections)},function(e){a.reject(e)}),l},o}},function(e,t,n){"use strict";var r,i,o=n(19),a=n(18),s=n(20),c=n(1);r=i&&i.now?i.now.bind(i):Date.now?Date.now.bind(Date):function(){return(new Date).getTime()};var l=function(){var e=[],t=0,n={};return n.add=function(n){return e[t]=n,t++,t},n.remove=function(t){delete e[t]},n.reset=function(t){t&&e.forEach(t),e=[]},n};e.exports=function(e){function t(){return!(!w||!w.socket.connecting)}function n(e){e=e||{};var t=a.defer();return o.debug("SignalingChannel.doOpen",e),e.token?(g({path:"/v1/session-tokens",httpMethod:"POST",parameters:{tokenId:e.token}}).done(function(e){200===e.code?(D=e.result.token,t.resolve(),o.debug("Signaling connection open to",x.baseURL)):t.reject(new Error("Couldn't authenticate app: "+e.error))},function(e){o.error("Network call failed:",e.message),t.reject(new Error("Couldn't authenticate app: "+e.message))}),t.promise):(t.reject(new Error("Can't open connection to Respoke without a token.")),t.promise)}function i(e){return e[0].toUpperCase()+e.slice(1)}function u(e){var t,n;if(e.header.from!==b.endpointId&&(o.debug("socket.on presence",e),t=b.getEndpoint({skipPresence:!0,id:e.header.from,instanceId:v,name:e.header.from,connection:e.header.fromConnection}),t.setPresence({connectionId:e.header.fromConnection,presence:e.type}),"unavailable"===t.getPresence())){var n=b.getGroups();n&&n.forEach(function(t){t.removeMember({connectionId:e.header.fromConnection})})}}function d(){D=void 0,M=void 0,T=null===T?2500:2*T,T>S&&(T=S),setTimeout(function(){C().then(function(){return T=null,o.debug("socket reconnected"),a.all(b.getGroups().map(function(e){b.join({id:e.id,onMessage:x.onMessage,onJoin:x.onJoin,onLeave:x.onLeave})}))}).done(function(){b.fire("reconnect")},function(e){o.error("Couldn't rejoin previous groups.",e.message,e.stack),d()})},T)}function f(e){function t(e){try{e.body=JSON.parse(e.body)}catch(a){if("object"!=typeof e.body)return void i.reject(new Error("Server response could not be parsed!"+e.body))}return 429===e.statusCode?void(n.tries<3&&i.promise.isPending()?setTimeout(function(){s=r(),p(n,t)},1e3):(n.durationMillis=r()-s,_.remove(n.id),h(n,e.body,"Too many retries after rate limit exceeded.",i))):(n.durationMillis=r()-s,_.remove(n.id),-1===[200,204,205,302,401,403,404,418].indexOf(this.status)?h(n,e.body,e.body.error||N[this.status]||"Unknown error",i):i.resolve(e.body),void(c&&o.debug("socket response",{method:n.method,path:n.path,durationMillis:n.durationMillis,response:e.body})))}e=e||{};var n,i=a.defer(),s=r(),c=-1===e.path.indexOf("messages")&&-1===e.path.indexOf("signaling"),l=0;return e.paramaters&&(l=encodeURI(JSON.stringify(e.parameters)).split(/%..|./).length-1),y.isConnected()?e?e.path?l>E?(i.reject(new Error("Request body exceeds maximum size of "+E+" bytes")),i.promise):(e.httpMethod=(e.httpMethod||"get").toLowerCase(),e.objectId&&(e.path=e.path.replace(/\%s/gi,e.objectId)),c&&o.debug("socket request",{method:e.httpMethod,path:e.path,parameters:e.parameters}),n={method:e.httpMethod,path:e.path,parameters:e.parameters,tries:0,durationMillis:0},n.id=_.add(i),s=r(),p(n,t),i.promise):(i.reject(new Error("No request path.")),i.promise):(i.reject(new Error("No params.")),i.promise):(i.reject(new Error("Can't complete request when not connected. Please reconnect!")),i.promise)}function h(e,t,n,r){t&&t.error?r.reject(new Error(n+"("+e.method+" "+e.path+")")):r.resolve(t)}function p(e,t){e.tries+=1,w.emit(e.method,JSON.stringify({url:e.path,data:e.parameters,headers:{"App-Token":D}}),t)}function g(e){var t,n=a.defer(),i=null,s=null,c={result:null,code:null};if(s=x.baseURL+e.path,!e)return void n.reject(new Error("No params."));if(!e.httpMethod)return void n.reject(new Error("No HTTP method."));if(!e.path)return void n.reject(new Error("No request path."));if(e.objectId&&(e.path=e.path.replace(/\%s/gi,e.objectId)),["GET","DELETE"].indexOf(e.httpMethod)>-1&&(s+=m(e.parameters)),A.open(e.httpMethod,s),D&&A.setRequestHeader("App-Token",D),["POST","PUT"].indexOf(e.httpMethod)>-1){if(i=JSON.stringify(e.parameters),i.length>E)return void n.reject(new Error("Request body exceeds maximum size of "+E+" bytes"));A.setRequestHeader("Content-Type","application/json;charset=UTF-8")}else if(-1===["GET","DELETE"].indexOf(e.httpMethod))return void n.reject(new Error("Illegal HTTP request method "+e.httpMethod));o.debug("request",{method:e.httpMethod,uri:s,params:i});try{A.send(i)}catch(l){return void n.reject(l)}return A.onreadystatechange=function(){var i,a,l=r()-t;if(4===this.readyState){if(0===this.status)return void n.reject(new Error("Status is 0: Incomplete request, SSL error, or CORS error."));if(!([200,204,205,302,401,403,404,418].indexOf(this.status)>-1))return 429===this.status?(a=this.getResponseHeader("RateLimit-Time-Units"),i=this.getResponseHeader("RateLimit-Limit"),void n.reject(new Error("Rate limit of "+i+"/"+a+" exceeded. Try again in 1 "+a+"."))):void n.reject(new Error("unexpected response "+this.status));if(c.code=this.status,c.uri=s,c.params=e.parameters,c.error=N[this.status],this.response)try{c.result=JSON.parse(this.response)}catch(u){c.result=this.response,c.error="Invalid JSON."}o.debug("response",{method:e.httpMethod,durationMillis:l,response:c}),n.resolve(c)}},n.promise}function m(e){var t=[];return e?(Object.keys(e).forEach(function(n){var r=e[n];r instanceof Array?t.push([n,r.join(",")].join("=")):"object"!=typeof r&&"function"!=typeof r&&t.push([n,r].join("="))}),t.length>0?"?"+t.join("&"):""):""}e=e||{};var v=e.instanceId,y=c.EventEmitter(e);delete y.instanceId,y.className="respoke.SignalingChannel";var b=c.getClient(v),w=null,x=e.clientSettings;delete y.clientSettings,x.baseURL=x.baseURL||"https://api.respoke.io";var k={},C=null,_=l(),T=null,S=3e5,E=2e4,M=null,D=null,A=new XMLHttpRequest,j={},I={message:[],signal:[],presence:[]},N={400:"Can't perform this action: missing or invalid parameters.",401:"Can't perform this action: not authenticated.",403:"Can't perform this action: not authorized.",404:"Item not found.",409:"Can't perform this action: item in the wrong state.",429:"API rate limit was exceeded.",500:"Can't perform this action: server problem."};y.isConnected=function(){return!(!w||!w.socket.connected)},y.isSendingReport=function(){return x.enableCallDebugReport},y.open=function(e){e=e||{};var t=a.defer();return o.debug("SignalingChannel.open",e,x),M=e.token||M,C="function"==typeof e.actuallyConnect?e.actuallyConnect:C,a.fcall(function(){return x.developmentMode===!0&&x.appId&&e.endpointId?y.getToken({appId:x.appId,endpointId:e.endpointId}):null}).then(function(e){return M=e||M,n({token:M})}).done(function(){t.resolve(),o.debug("client",b)},function(e){t.reject(e)}),t.promise},y.getToken=function(e){e=e||{};var t=a.defer();o.debug("SignalingChannel.getToken",e);var n={path:"/v1/tokens",httpMethod:"POST",parameters:{appId:x.appId,endpointId:e.endpointId,ttl:21600}};return g(n).done(function(e){return 200===e.code&&e.result&&e.result.tokenId?(M=e.result.tokenId,void t.resolve(e.result.tokenId)):void t.reject(new Error("Couldn't get a developer mode token: "+e.error))},function(e){t.reject(new Error("Couldn't get a developer mode token: "+e))}),t.promise},y.close=function(e){e=e||{};var t=a.defer();return f({path:"/v1/connections/%s/",httpMethod:"DELETE",objectId:b.endpointId}).fin(function(){return g({path:"/v1/session-tokens",httpMethod:"DELETE"})}).fin(function(){w&&(w.removeAllListeners(),w.disconnect()),t.resolve()}).done(),t.promise},y.sendPresence=function(e){e=e||{};var t=a.defer();return o.debug("Signaling sendPresence"),y.isConnected()?(f({path:"/v1/presence",httpMethod:"POST",parameters:{presence:{show:e.show,status:e.status,type:e.presence||"available"}}}).done(function(){t.resolve()},function(e){t.reject(e)}),t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)},y.getGroup=function(e){e=e||{};var t=a.defer();return o.debug("signalingChannel.getGroup"),y.isConnected()?(f({httpMethod:"POST",path:"/v1/channels/",parameters:{name:e.name}}).then(function(e){t.resolve(e)},function(){t.resolve({id:e.name})}),t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)},y.leaveGroup=function(){var e={},t=a.defer();return function(n){n=n||{},n.groupList=n.groupList||[];var r=0===Object.keys(e).length;return y.isConnected()?(n.groupList.forEach(function(t){"string"==typeof t&&(e[t]=!0)}),r?(setTimeout(function(){var n=Object.keys(e);e={};var r=t;return t=a.defer(),0===n.length?void r.resolve():void f({path:"/v1/groups/",parameters:{groups:n},httpMethod:"DELETE"}).done(function(){r.resolve()},function(e){r.reject(e)})}),t.promise):t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)}}(),y.joinGroup=function(){var e={},t=a.defer();return function(n){n=n||{},n.groupList=n.groupList||[];var r=0===Object.keys(e).length;return y.isConnected()?(n.groupList.forEach(function(t){"string"==typeof t&&(e[t]=!0)}),r?(setTimeout(function(){var n=Object.keys(e);e={};var r=t;return t=a.defer(),0===n.length?void r.resolve():void f({path:"/v1/groups/",parameters:{groups:n},httpMethod:"POST"}).done(function(){r.resolve()},function(e){r.reject(e)})}),t.promise):t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)}}(),y.publish=function(e){e=e||{};var t=a.defer(),n=c.TextMessage({endpointId:e.id,message:e.message});return y.isConnected()?(f({path:"/v1/channels/%s/publish/",objectId:e.id,httpMethod:"POST",parameters:n}).done(function(){t.resolve()},function(e){t.reject(e)}),t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)},y.registerPresence=function(){var e={},t=a.defer();return function(n){n=n||{},n.endpointList=n.endpointList||[];var r=0===Object.keys(e).length;return y.isConnected()?(n.endpointList.forEach(function(t){"string"==typeof t&&k[t]!==!0&&(e[t]=!0)}),r?(setTimeout(function(){var r=Object.keys(e);e={};var i=t;return t=a.defer(),0===r.length?void i.resolve():void f({httpMethod:"POST",path:"/v1/presenceobservers",parameters:{endpointList:r}}).done(function(){n.endpointList.forEach(function(e){k[e]=!0
}),i.resolve()},function(e){i.reject(e)})}),t.promise):t.promise):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))}}(),y.getGroupMembers=function(e){var t=a.defer();return y.isConnected()?e.id?f({path:"/v1/channels/%s/subscribers/",objectId:e.id,httpMethod:"GET"}):(t.reject(new Error("Can't get group's endpoints without group ID.")),t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)},y.sendMessage=function(e){e=e||{};var t=a.defer(),n=c.TextMessage({endpointId:e.recipient.id,connectionId:e.connectionId,message:e.message});return y.isConnected()?(f({path:"/v1/messages",httpMethod:"POST",parameters:n}).done(function(){t.resolve()},function(e){t.reject(e)}),t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise)},y.sendACK=function(e){var t;return e=e||{},y.isConnected()?e.signal?(t=b.getEndpoint({id:e.signal.fromEndpoint,skipPresence:!0}),t?y.sendSignal({recipient:t,signalType:"ack",signalId:e.signal.signalId,sessionId:e.signal.sessionId,target:e.signal.target,ackedSignalType:e.signal.signalType}):a.reject(new Error("Can't send ACK, can't get endpoint."))):a.reject(new Error("Can't send ACK, no signal was given.")):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))},y.sendSignal=function(e){e=e||{};var t,n,r,i,o=a.defer();if(!y.isConnected())return o.reject(new Error("Can't complete request when not connected. Please reconnect!")),o.promise;e.call&&(e.sessionId=e.call.id,e.call.connectionId&&(e.connectionId=e.call.connectionId)),n=e.recipient.id,r=e.connectionId,i=e.toType||"web";try{e.signalId=c.makeGUID(),t=c.SignalingMessage(e)}catch(s){return o.reject(s),o.promise}return f({path:"/v1/signaling",httpMethod:"POST",parameters:{signal:JSON.stringify(t),to:n,toConnection:r,toType:i}}).done(function(){o.resolve()},function(e){o.reject(e)}),o.promise},y.sendCandidate=function(e){return e=e||{},e.signalType="iceCandidates",y.isConnected()?y.sendSignal(e):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))},y.sendSDP=function(e){return e=e||{},y.isConnected()?-1===["offer","answer"].indexOf(e.signalType)?a.reject("Not an SDP type signal."):y.sendSignal(e):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))},y.sendReport=function(e){e=e||{};var t=a.defer(),n={debugData:e};return x.enableCallDebugReport?y.isConnected()?(f({path:"/v1/call-debugs",httpMethod:"POST",parameters:n}).done(function(){t.resolve()},function(e){t.reject(e)}),t.promise):(t.reject(new Error("Can't complete request when not connected. Please reconnect!")),t.promise):(o.debug("not sending call debugs - disabled"),t.resolve(),t.promise)},y.sendHangup=function(e){return e=e||{},e.signalType="bye",y.isConnected()?y.sendSignal(e):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))},y.sendConnected=function(e){return e=e||{},e.signalType="connected",y.isConnected()?y.sendSignal(e):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))},y.sendModify=function(e){return e=e||{},e.signalType="modify",-1===["initiate","accept","reject"].indexOf(e.action)?a.reject("No valid action in modify signal."):y.isConnected()?y.sendSignal(e):a.reject(new Error("Can't complete request when not connected. Please reconnect!"))},y.routeSignal=function(e){var t=null,n="do";if("iceCandidates"!==e.signalType&&o.debug(e.signalType,e),void 0===e.target)throw new Error("target undefined");a.fcall(function(){var n;return t=b.getCall({id:e.sessionId,endpointId:e.fromEndpoint,type:"screenshare"===e.target?"screenshare":e.fromType,create:"directConnection"!==e.target&&"offer"===e.signalType}),t?t:"directConnection"===e.target?(n=b.getEndpoint({id:e.fromEndpoint,skipPresence:!0}),n.directConnection&&n.directConnection.call.id===e.sessionId?n.directConnection:n.startDirectConnection({id:e.sessionId,create:"offer"===e.signalType,caller:"offer"!==e.signalType})):void 0}).done(function(t){return t&&(t=t.call||t),t&&t.id===e.sessionId?(n+=i(e.signalType),void j[n]({call:t,signal:e})):void o.warn("Couldn't associate signal with a call.",e)},null)},j.doOffer=function(e){e.call.connectionId=e.signal.fromConnection,e.call.fire("signal-offer",{signal:e.signal})},j.doConnected=function(e){e.call.fire("signal-connected",{signal:e.signal})},j.doModify=function(e){e.call.fire("signal-modify",{signal:e.signal})},j.doAnswer=function(e){e.call.connectionId=e.signal.fromConnection,e.call.fire("signal-answer",{signal:e.signal})},j.doIceCandidates=function(e){e.call.fire("signal-icecandidates",{signal:e.signal})},j.doBye=function(e){e.call.connectionId&&e.call.connectionId!==e.signal.fromConnection||e.call.fire("signal-hangup",{signal:e.signal})},j.doUnknown=function(e){o.error("Don't know what to do with",e.signal.target,"msg of unknown type",e.signal.signalType)},y.addHandler=function(e){w.socket&&w.socket.open?w.on(e.type,e.handler):I[e.type].push(e.handler)};var O=function(e){var t,n;e.header.from!==b.endpointId&&(n=c.TextMessage({rawMessage:e}),t=b.getGroup({id:e.header.channel}),t&&t.fire("message",{message:n}),b.fire("message",{message:n,group:t||null}))},P=function(e){var t,n,r;e.connectionId===b.connectionId?(r=b.getConnection({connectionId:e.connectionId,endpointId:e.endpointId}),t=b.getGroup({id:e.header.channel}),t||(t=c.Group({id:e.header.channel,instanceId:v,signalingChannel:y}),b.addGroup(t)),t.isJoined()||(t.addMember({connection:r}),b.fire("join",{group:t}))):(n=b.getEndpoint({skipPresence:!0,id:e.endpointId,instanceId:v,name:e.endpointId}),r||(n.setPresence({connectionId:e.connectionId}),r=b.getConnection({connectionId:e.connectionId,endpointId:e.endpointId})),t=b.getGroup({id:e.header.channel}),t&&r?t.addMember({connection:r}):o.error("Can't add endpoint to group:",e,t,n,r))},L=function(e){var t,n;e.connectionId===b.connectionId?(t=b.getGroup({id:e.header.channel}),b.fire("leave",{group:t})):(n=b.getEndpoint({skipPresence:!0,id:e.endpointId}),n.connections.every(function(t,r){return t.id===e.connectionId?(n.connections.splice(r,1),!1):!0}),t=b.getGroup({id:e.header.channel}),t.removeMember({connectionId:e.connectionId}))},$=function(e){var t;e=c.TextMessage({rawMessage:e}),e.endpointId&&(t=b.getEndpoint({id:e.endpointId,skipCreate:!0})),t&&t.fire("message",{message:e}),b.fire("message",{endpoint:t||null,message:e})},R=function(e,t){return e=e||function(){},t=t||function(){},function(){Object.keys(I).forEach(function(e){I[e]&&(I[e].forEach(function(t){w.on(e,t)}),I[e]=[])}),f({path:"/v1/connections",httpMethod:"POST"}).done(function(t){o.debug("connections result",t),b.endpointId=t.endpointId,b.connectionId=t.id,e()},t)}};return y.authenticate=function(e){e=e||{};var n=a.defer(),r=[],i=null,l=null,f=null;D||n.reject(new Error("Can't open a websocket without an app token.")),r=x.baseURL.split(/:\/\//),i=r[0],r=r[1].split(/:/),l=r[0],f=r[1];var h={"connect timeout":2e3,"force new connection":!0,"sync disconnect on unload":!0,reconnect:!1,host:l,port:f||"443",protocol:i,secure:"https"===i,query:"__sails_io_sdk_version=0.10.0&app-token="+D};return y.isConnected()||t()?void 0:(w=s.connect(x.baseURL,h),w.on("connect",R(function(){n.resolve()},function(e){n.reject(e)})),w.on("join",P),w.on("leave",L),w.on("pubsub",O),w.on("message",$),w.on("presence",u),w.on("connect_failed",function(e){n.reject(new Error("WebSocket connection failed.")),o.error("Socket.io connect timeout.",e||""),d()}),w.on("error",function(e){o.debug("Socket.io request failed.",e||""),d()}),y.addHandler({type:"signal",handler:function(e){var t=["offer","answer","connected","modify","iceCandidates","bye"],n=c.SignalingMessage({rawMessage:e});if("ack"!==n.signalType){if(!n.target||!n.signalType||-1===t.indexOf(n.signalType))throw o.error("Got malformed signal.",n),new Error("Can't route signal without target or type.");y.routeSignal(n)}}}),w.on("disconnect",function(){return _.reset(function(e){o.debug("Failing pending requests"),e.reject(new Error("WebSocket disconnected"))}),b.fire("disconnect"),x.reconnect!==!0?void(w=null):void d()}),n.promise)},y.getTurnCredentials=function(){var e=a.defer();return y.isConnected()?(f({httpMethod:"GET",path:"/v1/turn"}).done(function(t){var n=[];return t&&t.uris?(t.uris.forEach(function(e){var r=null;e&&(r=createIceServer(e,t.username,t.password),n.push(r))}),0===n.length&&e.reject(new Error("Got no TURN credentials.")),o.debug("TURN creds",n),void e.resolve(n)):void e.reject(new Error("Turn credentials empty."))},function(t){e.reject(t)}),e.promise):(e.reject(new Error("Can't complete request when not connected. Please reconnect!")),e.promise)},y}},function(e,t,n){var r=n(19),i=n(18),o=n(1);e.exports=function(e){"use strict";function t(e){f=e.channel,f.onerror=a,f.onmessage=s,"open"===f.readyState?(f.onopen=null,c()):f.onopen=c}function n(e){d.listen("open",e.onOpen),d.listen("close",e.onClose),d.listen("message",e.onMessage),d.listen("start",e.onStart),d.listen("error",e.onError),h.listen("direct-connection",t,!0),h.listen("stats",function(e){d.fire("stats",{stats:e.stats})},!0)}function a(e){d.fire("error",{error:e}),d.close()}function s(e){var t;try{t=JSON.parse(e.data)}catch(n){t=e.data}d.call.remoteEndpoint.fire("message",{message:t,directConnection:d}),d.fire("message",{message:t,endpoint:d.call.remoteEndpoint})}function c(){d.fire("open")}function l(){f=h.createDataChannel("respokeDataChannel"),f.binaryType="arraybuffer",f.onerror=a,f.onmessage=s,f.onopen=c,d.fire("start")}e=e||{};var u=e.instanceId,d=o.EventEmitter(e);delete d.instanceId,d.className="respoke.DirectConnection",d.id=o.makeGUID(),d.call.caller||(d.call.caller=!1);var f=null,h=(o.getClient(u),e.pc);return delete e.pc,n(e),delete d.onOpen,delete d.onClose,delete d.onMessage,d.getStats=function(e){return h&&h.getStats?(d.listen("stats",e.onStats),delete e.onStats,h.getStats(e)):null},o.MediaStats||delete d.getStats,d.accept=function(e){e=e||{},r.debug("DirectConnection.accept"),n(e),r.debug("I am "+(h.state.caller?"":"not ")+"the caller."),h.state.caller===!0&&l(),d.call.answer(),d.fire("accept")},d.close=function(e){e=e||{},r.debug("DirectConnection.close"),d.call&&d.call.remoteEndpoint&&(d.call.remoteEndpoint.directConnection=null),f&&f.close(),d.fire("close"),d.ignore(),d.call&&e.skipRemove!==!0&&d.call.removeDirectConnection(),f=null,d.call=null,h=null},d.sendMessage=function(e){var t=i.defer(),n=o.handlePromise(t.promise,e.onSuccess,e.onError);return d.isActive()?(f.send(JSON.stringify(e.object||{message:e.message})),t.resolve()):t.reject(new Error("dataChannel not in an open state.")),n},d.reject=d.close,d.isActive=function(){return f&&"open"===f.readyState},d}},function(e,t,n){var r=n(19),i=n(18),o=n(1);e.exports=function(e){"use strict";function t(e){C&&(e.iceCandidates=[e.candidate],N(e),w.report.candidatesSent.push({candidate:e.candidate}))}function n(){C&&(w.state.receiveOnly&&a(O),w.state.sendOnly&&s(O),r.info("creating offer",O),C.createOffer(h,function(){r.error("createOffer failed")},O))}function a(){navigator.webkitGetUserMedia?O={mandatory:{OfferToReceiveVideo:!0,OfferToReceiveAudio:!0}}:(O.offerToReceiveVideo=!0,O.offerToReceiveAudio=!0)}function s(){navigator.webkitGetUserMedia?O={mandatory:{OfferToSendVideo:!0,OfferToSendAudio:!0}}:(O.offerToSendVideo=!0,O.offerToSendAudio=!0)}function c(e){function t(){var t=o.MediaStatsParser({peerConnection:C,interval:e.interval,onStats:function(e){C&&w.fire("stats",{stats:e})}});w.listen("close",function(){t.stopStats()},!0),n.resolve()}var n=i.defer(),r=o.handlePromise(n.promise,e.onSuccess,e.onError);return o.MediaStats?(C?t():w.once("stream-received",t),r):(n.reject(new Error("Statistics module is not loaded.")),r)}function l(e){var n=e.candidate;return n&&n.candidate?w.forceTurn===!0&&-1===n.candidate.indexOf("typ relay")?void r.debug("Dropping candidate because forceTurn is on."):w.disableTurn===!0&&-1!==n.candidate.indexOf("typ relay")?void r.debug("Dropping candidate because disableTurn is on."):void(w.state.sentSDP||w.state.processedRemoteSDP?t({candidate:n,call:w.call}):_.push(n)):void 0}function u(){C&&"connected"===C.iceConnectionState&&w.fire("connect")}function d(){r.warn("Negotiation needed.")}function f(){for(var e=0;e<_.length;e+=1)t({candidate:_[e],call:w.call});_=[];for(var e=0;e<T.length;e+=1)w.addRemoteCandidate({candidate:T[e],processingQueue:!0});T=[]}function h(e){e.type="offer",C&&(r.debug("setting and sending offer",e),w.report.sdpsSent.push(e),w.call.outgoingMedia.setSDP(e),w.call.incomingMedia.setSDP(e),C.setLocalDescription(e,function(){e.type="offer",E({call:w.call,sessionDescription:e,onSuccess:function(){w.state.sentSDP=!0,setTimeout(f)},onError:function(e){o.log.error("offer could not be sent",e),w.call.hangup({signal:!1})}})},function(){var e=new Error("Error calling setLocalDescription on offer I created.");w.call.fire("error",{message:e.message})}))}function p(e){C&&(w.state.caller||(w.report.callerconnection=w.call.connectionId),e.type="answer",r.debug("setting and sending answer",e),w.report.sdpsSent.push(e),C.setLocalDescription(e,function(){e.type="answer",A({sessionDescription:e,call:w.call}),w.state.sentSDP=!0,f()},function(){var e=new Error("Error calling setLocalDescription on answer I created.");w.call.fire("error",{message:e.message})}))}function g(e){w.call.incomingMedia.setSDP(e.signal.sessionDescription),w.call.outgoingMedia.setSDP(e.signal.sessionDescription)}function m(e){C&&(r.debug("got answer",e.signal),w.report.sdpsReceived.push(e.signal.sessionDescription),w.report.lastSDPString=e.signal.sessionDescription.sdp,w.call.hasAudio=o.sdpHasAudio(e.signal.sessionDescription.sdp),w.call.hasVideo=o.sdpHasVideo(e.signal.sessionDescription.sdp),w.call.hasDataChannel=o.sdpHasDataChannel(e.signal.sessionDescription.sdp),w.state.caller&&(w.report.calleeconnection=e.signal.fromConnection),w.call.connectionId=e.signal.fromConnection,M({call:w.call}),C.setRemoteDescription(new RTCSessionDescription(e.signal.sessionDescription),function(){w.call.incomingMedia.setSDP(e.signal.sessionDescription),w.state.dispatch("receiveAnswer")},function(){var t=new Error("Exception calling setRemoteDescription on answer I received.");w.report.callStoppedReason=t.message,w.call.fire("error",{message:t.message}),r.error("set remote desc of answer failed",e.signal.sessionDescription),w.report.callStoppedReason="setRemoteDescription failed at answer.",w.close()}))}function v(e){e.signal.connectionId!==S.connectionId&&(r.debug("Hanging up because I didn't win the call.",e.signal,S),w.call.hangup({signal:!1}))}function y(e){var t;return r.debug("PC.listenModify",e.signal),"accept"===e.signal.action?void(k.promise.isPending()&&(k.resolve(),w.fire("modify-accept",{signal:e.signal}))):"reject"===e.signal.action?void(k.promise.isPending()&&(t=new Error("Remote party cannot negotiate."),r.debug(t.message),k.reject(t),w.fire("modify-reject",{err:t}))):k&&k.promise.isPending()?(t=new Error("Got modify in a negotiating state."),r.debug(t.message),k.reject(t),w.fire("modify-reject",{err:t}),void D({action:"reject",call:w.call})):(k=i.defer(),!w.state.sentSDP||w.state.isState("idle")?(t=new Error("Got modify in a precall state."),w.fire("modify-reject",{err:t}),D({action:"reject",call:w.call}),void k.reject(t)):(w.fire("modify-accept",{signal:e.signal}),D({action:"accept",call:w.call}),void k.resolve()))}e=e||{};var b=e.instanceId,w=o.EventEmitter(e);delete w.instanceId,w.className="respoke.PeerConnection";var x,k,C=null,_=("function"==typeof e.previewLocalMedia?e.previewLocalMedia:void 0,[]),T=[],S=o.getClient(b),E=e.signalOffer,M=e.signalConnected,D=e.signalModify,A=e.signalAnswer,j=o.once(e.signalHangup),I=e.signalReport,N=e.signalCandidate,O=e.offerOptions||{},P=e.pcOptions||{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]};return w.report={callStarted:0,callStopped:0,callerendpoint:w.call.caller?S.name:w.call.remoteEndpoint.id,callerconnection:w.call.caller?S.id:w.call.connectionId,calleeendpoint:w.call.caller?w.call.remoteEndpoint.id:S.id,calleeconnection:w.call.caller?w.call.connectionId:S.connectionId,sessionId:w.call.id,lastSDPString:"",sdpsSent:[],sdpsReceived:[],candidatesSent:[],candidatesReceived:[],userAgent:navigator.userAgent,os:navigator.platform},w.processOffer=function(e){if(C){r.debug("processOffer",e),w.report.sdpsReceived.push(e),w.report.lastSDPString=e.sdp,w.call.hasAudio=o.sdpHasAudio(e.sdp),w.call.hasVideo=o.sdpHasVideo(e.sdp),w.call.hasDataChannel=o.sdpHasDataChannel(e.sdp);try{C.setRemoteDescription(new RTCSessionDescription(e),function(){C&&(r.debug("set remote desc of offer succeeded"),w.call.incomingMedia.setSDP(e),C.createAnswer(function(e){w.state.processedRemoteSDP=!0,w.call.outgoingMedia.setSDP(e),p(e)},function(e){e=new Error("Error creating SDP answer."+e.message),w.report.callStoppedReason=e.message,w.call.fire("error",{message:e.message}),r.error("create answer failed"),w.report.callStoppedReason="setRemoteDescription failed at answer.",w.close()}))},function(e){e=new Error("Error calling setRemoteDescription on offer I received."+e.message),w.report.callStoppedReason=e.message,w.call.fire("error",{message:e.message})})}catch(t){var n=new Error("Exception calling setRemoteDescription on offer I received."+t.message);w.report.callStoppedReason=n.message,w.call.fire("error",{message:n.message})}}},o.MediaStats&&(w.getStats=c),w.init=function(){r.debug("PC.init"),C||(w.report.callStarted=(new Date).getTime(),C=new RTCPeerConnection(w.servers,P),C.onicecandidate=l,C.onnegotiationneeded=d,C.oniceconnectionstatechange=u,C.onaddstream=function(e){w.fire("remote-stream-received",{stream:e.stream})},C.onremovestream=function(e){w.fire("remote-stream-removed",{stream:e.stream})},C.ondatachannel=function(e){w.fire("direct-connection",{channel:e.channel})},w.state.listen("offering:entry",function(){w.state.caller&&n()}))},w.getRemoteStreams=function(){return C?C.getRemoteStreams.apply(C,Array.prototype.slice.call(arguments)):[]},w.getLocalStreams=function(){return C?C.getLocalStreams.apply(C,Array.prototype.slice.call(arguments)):[]},w.createDataChannel=function(){return C?C.createDataChannel.apply(C,Array.prototype.slice.call(arguments)):void 0},w.addStream=function(e){return C?void C.addStream(e):void w.call.fire("error",{message:"Got local stream in a precall state."})},w.close=function(e){e=e||{},x=!0,w.state.caller===!0&&(w.state.sentSDP||(x=!1)),x="boolean"==typeof e.signal?e.signal:x,x&&(r.info("sending hangup"),j({call:w.call})),w.report.callStopped=(new Date).getTime(),w.fire("close",{sentSignal:x}),w.ignore(),C&&w.report&&C.close(),C=null,w.call.enableCallDebugReport&&I({report:w.report}),w.report=null},w.close=o.once(w.close),w.isActive=function(){return!!(C&&["completed","connected","new","checking"].indexOf(C.iceConnectionState)>-1)},w.startModify=function(e){k=i.defer(),D({action:"initiate",call:w.call,constraints:e.constraints,directConnection:e.directConnection})},w.addRemoteCandidate=function(e){if(e=e||{},C||!e.processingQueue){if(!e.candidate||!e.candidate.hasOwnProperty("sdpMLineIndex"))return void r.warn("addRemoteCandidate got wrong format!",e);if(!C)return T.push(e.candidate),void r.debug("Queueing a candidate because pc is null.");if(w.state.sentSDP||w.state.processedRemoteSDP)try{C.addIceCandidate(new RTCIceCandidate(e.candidate)),r.debug(w.state.caller?"caller":"callee","got a remote candidate.",e.candidate),w.report.candidatesReceived.push(e.candidate)}catch(t){return void r.error("Couldn't add ICE candidate: "+t.message,e.candidate)}else e.processingQueue||(T.push(e.candidate),r.debug("Queueing a candidate because no offer yet."))}},w.call.listen("signal-offer",g,!0),w.call.listen("signal-answer",m,!0),w.call.listen("signal-connected",v,!0),w.call.listen("signal-modify",y,!0),w}},function(e,t,n){var r=(n(19),n(1)),i=n(21);n(18),e.exports=function(e){"use strict";function t(e){if(!e)throw new Error("Assertion failed.")}function n(){v&&v.clear()}function o(){h.processedRemoteSDP=!0,g&&g.clear()}function a(){return h.needDirectConnection!==!0&&h.receiveOnly!==!0}function s(e){return h.needDirectConnection===!0&&"function"==typeof e.previewLocalMedia}function c(e){return h.caller!==!0?!1:!h.needDirectConnection&&h.receiveOnly?!0:h.needDirectConnection===!0&&"function"!=typeof e.previewLocalMedia}function l(){return b.hasListeners("call")&&!h.needDirectConnection||b.hasListeners("direct-connection")&&h.needDirectConnection?!0:!1}function u(e,t,n){var i=setTimeout(function(){i=null,r.log.error(h.caller?"caller's":"callee's",t,"timer expired."),e()},n);r.log.debug("setting timer",t,"for",n/1e3,"secs");var o={name:t,clear:function(){null!==i&&(r.log.debug("clearing",h.caller?"caller's":"callee's","timer",t),clearTimeout(i),i=null)}};return w.push(o),o}e=e||{};var d,f=e.instanceId,h=r.EventEmitter(e);h.className="respoke.CallState",delete h.instanceId;var p,g,m,v,y,b=r.getClient(f),w=[],x=e.answerTimeout||1e4,k=e.receiveAnswerTimeout||6e4,C=e.connectionTimeout||1e4,_=e.modifyTimeout||6e4,T=["receiveLocalMedia","receiveRemoteMedia","approve","answer","sentOffer","receiveAnswer"];h.hasLocalMediaApproval=!1,h.hasLocalMedia=!1,h.receivedBye=!1,h.isAnswered=!1,h.sentSDP=!1,h.receivedSDP=!1,h.processedRemoteSDP=!1,h.needDirectConnection=!!h.needDirectConnection,h.sendOnly=!!h.sendOnly,h.receiveOnly=!!h.receiveOnly;var S=[{target:"connected",guard:function(){return"boolean"==typeof y&&(h.caller=y),v&&v.clear(),h.hasMedia()}},{target:"terminated",guard:function(e){return e=e||{},h.hangupReason=e.reason||"no media",!h.hasMedia()}}],E={target:"terminated",action:function(e){e=e||{},h.signalBye=e.signal,h.hangupReason=h.hangupReason||e.reason||"none"}},M={initialState:"idle",receiveLocalMedia:function(){h.hasLocalMedia=!0},states:{idle:{exit:function(){h.fire("idle:exit")},initiate:[{target:"negotiatingContainer",guard:function(e){return t("boolean"==typeof e.caller),e.caller===!0||l()}},{target:"terminated",guard:function(e){return e.caller!==!0&&!l()}}],receiveOffer:{action:function(){h.receivedSDP=!0}},hangup:E},negotiatingContainer:{init:"preparing",hangup:E,modify:n,states:{preparing:{entry:{action:function(){h.hasLocalMediaApproval=!1,h.hasLocalMedia=!1,h.sentSDP=!1,h.receivedSDP=!1,h.processedRemoteSDP=!1,h.isAnswered=!1,h.isModifying()||(p=u(function(){h.dispatch("reject",{reason:"answer own call timer "+h.caller})},"answer own call",x)),h.fire("preparing:entry")}},exit:function(){h.fire("preparing:exit"),p&&p.clear()},reject:S,receiveOffer:{action:function(e){h.receivedSDP=!0,h.isAnswered&&setTimeout(function(){h.dispatch("answer",e)})}},answer:[{action:function(e){t(!e.previewLocalMedia||"function"==typeof e.previewLocalMedia),h.isAnswered=!0,"function"!=typeof e.previewLocalMedia&&(h.hasLocalMediaApproval=!0)}},{target:"approvingDeviceAccess",guard:a},{target:"approvingContent",guard:s},{target:"offering",guard:c},{target:"connecting",guard:function(e){return h.receivedSDP?a(e)||s(e)||c(e)?!1:((!e.previewLocalMedia||h.receiveOnly)&&setTimeout(function(){e.approve()}),h.receiveOnly===!0||h.needDirectConnection===!0):!1}}]},gettingMedia:{reject:S,receiveLocalMedia:[{action:function(){h.hasLocalMedia=!0}},{target:"offering",guard:function(){return h.caller===!0&&h.hasLocalMediaApproval===!0&&h.hasLocalMedia===!0}},{target:"connecting",guard:function(){return h.caller===!1&&h.hasLocalMediaApproval===!0&&h.hasLocalMedia===!0}}],states:{approvingDeviceAccess:{entry:function(){h.fire("approving-device-access:entry")},approve:[{target:"approvingContent",guard:function(e){return"function"==typeof e.previewLocalMedia}},{target:"connecting",guard:function(e){return h.caller===!1&&(h.hasLocalMedia===!0||h.needDirectConnection===!0)&&"function"!=typeof e.previewLocalMedia}},{target:"offering",guard:function(e){return h.caller===!0&&h.hasLocalMedia===!0&&"function"!=typeof e.previewLocalMedia}}]},approvingContent:{entry:function(){h.fire("approving-content:entry")},exit:function(){h.fire("approving-content:exit")},approve:[function(){h.hasLocalMediaApproval=!0},{target:"offering",guard:function(){return h.caller===!0&&h.hasLocalMedia===!0}},{target:"connecting",guard:function(){return h.caller===!1&&h.hasLocalMedia===!0}}]}}},offeringContainer:{init:"offering",reject:S,sentOffer:function(){g=u(function(){h.dispatch("reject",{reason:"receive answer timer"})},"receive answer",k)},states:{offering:{entry:function(){h.fire("offering:entry")},exit:function(){h.fire("offering:exit")},receiveLocalMedia:[function(){h.hasLocalMedia=!0},{target:"connected",guard:function(){return h.needDirectConnection===!0}}],receiveRemoteMedia:{target:"connected"},receiveAnswer:[o,{target:"connecting"}]}}},connectingContainer:{init:"connecting",reject:S,receiveAnswer:o,states:{connecting:{entry:function(){h.fire("connecting:entry"),m=u(function(){h.dispatch("reject",{reason:"connection timer"})},"connection",C)},exit:function(){m&&m.clear(),v&&v.clear(),h.fire("connecting:exit")},receiveLocalMedia:[{action:function(){h.hasLocalMedia=!0}},{target:"connected",guard:function(){return h.needDirectConnection===!0&&h.caller===!1}}],receiveRemoteMedia:{target:"connected"}}}}}},modifyingContainer:{init:"modifying",reject:S,modify:n,hangup:E,states:{modifying:{entry:function(){v=u(function(){h.dispatch("reject",{reason:"modify timer"})},"modify for caller",_),h.fire("modifying:entry")},accept:[function(){h.caller=!0},{target:"preparing"}],exit:function(){h.fire("modifying:exit")}}}},connectedContainer:{init:"connected",reject:{target:"terminated",action:function(e){h.hangupReason=e.reason||"got reject while connected"}},receiveAnswer:o,hangup:E,states:{connected:{entry:function(){y=h.caller,h.needDirectConnection=!1,h.fire("connected:entry")},exit:function(){h.fire("connected:exit")},modify:[{target:"preparing",guard:function(e){return e=e||{},e.receive===!0?(h.caller=!1,v=u(function(){h.dispatch("reject",{reason:"modify timer"})},"modify",_),!0):void 0}},{target:"modifying",guard:function(e){return e=e||{},e.receive!==!0}}]}}},terminatedContainer:{init:"terminated",states:{terminated:{entry:{action:function(){h.fire("terminated:entry"),w.forEach(function(e){e.clear()}),setTimeout(function(){d=null,h.ignore()})}}}}}}};return M.that=Object.create(i),d=r.Class(M),d.run({debugOff:function(){var e=Array.prototype.slice.call(arguments);e.splice(0,0,h.caller),r.log.debug.apply(r.log,e)}}),h.getState=function(){return d?d.currentState().name:"terminated"},h.dispatch=function(e,t){var n,i;if(d){n=h.getState();try{d.dispatch(e,t)}catch(o){throw r.log.debug("error dispatching",e,"from",n,"with",t,o),o}i=h.getState(),n===i&&-1===T.indexOf(e)&&r.log.debug(h.caller,"Possible bad event "+e+", no transition occured."),r.log.debug(h.caller,"dispatching",e,"moving from ",n,"to",i,t)}},h.isModifying=function(){var e=["preparing","modifying","approvingDeviceAccess","approvingMedia","offering"];return e.indexOf(h.getState())>-1&&h.hasMedia()},h.isState=function(e){return h.getState()===e},t("function"==typeof h.hasMedia),t("boolean"==typeof h.caller),h}},function(e,t,n){var r=n(18),i=n(19),o=n(1);e.exports=function(e){"use strict";function t(){i.debug("Call.init"),void 0!==w&&(x=r.defer()),T.init(),void 0===w&&T.state.needDirectConnection===!0&&f(e)}function n(e){T&&(b.listen("local-stream-received",e.onLocalMedia),b.listen("connect",e.onConnect),b.listen("hangup",e.onHangup),b.listen("allow",e.onAllow),b.listen("answer",e.onAnswer),b.listen("approve",e.onApprove),b.listen("mute",e.onMute),b.listen("requesting-media",e.onRequestingMedia),k="function"==typeof e.previewLocalMedia?e.previewLocalMedia:k,T.state.receiveOnly="boolean"==typeof e.receiveOnly?e.receiveOnly:T.state.receiveOnly,T.state.sendOnly="boolean"==typeof e.sendOnly?e.sendOnly:T.state.sendOnly,T.state.needDirectConnection="boolean"==typeof e.needDirectConnection?e.needDirectConnection:T.state.needDirectConnection,T.disableTurn=e.disableTurn||T.disableTurn,T.forceTurn="boolean"==typeof e.forceTurn?e.forceTurn:T.forceTurn,b.outgoingMedia.constraints=e.constraints||b.outgoingMedia.constraints,b.outgoingMedia.element=e.videoLocalElement||b.outgoingMedia.element,T.state.caller===!0&&b.incomingMedia.setConstraints(b.outgoingMedia.constraints),b.incomingMedia.element=e.videoRemoteElement||b.incomingMedia.element,T.listen("stats",function(e){b.fire("stats",{stats:e.stats})},!0),delete b.signalOffer,delete b.signalConnected,delete b.signalAnswer,delete b.signalHangup,delete b.signalReport,delete b.signalCandidate)}function a(){i.debug("pc event: remote stream removed")}function s(e){T&&(i.debug("received remote media",e),b.incomingMedia.setStream(e.stream),T.state.dispatch("receiveRemoteMedia"),b.fire("connect",{stream:e.stream,element:b.incomingMedia.element}))}function c(e){return T&&T.getStats?(b.listen("stats",e.onStats),T.getStats(e)):null}function l(e){T&&(x.resolve(b.outgoingMedia),T.addStream(e.stream),T.state.dispatch("receiveLocalMedia"),"function"==typeof k&&k(e.element,b),b.fire("local-stream-received",{element:e.element,stream:b.outgoingMedia}))}function u(){T&&(x.resolve(),T.state.dispatch("receiveLocalMedia"))}function d(e){return i.debug("Call.doAddVideo"),n(e),b.outgoingMedia.listen("requesting-media",function(){T&&b.fire("requesting-media")},!0),b.outgoingMedia.listen("allow",function(){T&&(b.fire("allow"),T.state.dispatch("approve",{previewLocalMedia:k}))},!0),b.outgoingMedia.listen("stream-received",l,!0),b.outgoingMedia.listen("no-local-media",u,!0),b.outgoingMedia.listen("error",function(e){T.state.dispatch("reject",{reason:"media stream error"}),T.report.callStoppedReason=e.reason,b.fire("error",{reason:e.reason})}),b.outgoingMedia.start(),b.outgoingMedia}function f(e){return i.debug("Call.actuallyAddDirectConnection",e),e=e||{},x.promise.then(e.onSuccess,e.onError),M&&M.isActive()?(x.promise.isPending()?x.resolve(M):i.warn("Not creating a new direct connection."),x.promise):(e.instanceId=y,e.pc=T,e.call=b,M=o.DirectConnection(e),M.listen("close",function(){b.hasMedia()?b.removeDirectConnection({skipModify:!0}):(i.debug("Hanging up because there are no local streams."),b.hangup())},!0),M.listen("accept",function(){T.state.caller===!1?i.debug("Answering as a result of approval."):x.resolve(M)},!0),M.listen("open",function(){T.state.dispatch("receiveRemoteMedia")},!0),M.listen("error",function(e){x.reject(new Error(e))},!0),b.remoteEndpoint.directConnection=M,b.fire("direct-connection",{directConnection:M,endpoint:b.remoteEndpoint}),C.fire("direct-connection",{directConnection:M,endpoint:b.remoteEndpoint}),T.state.caller===!0&&M.accept(),x.promise)}function h(e){i.debug("listenOffer",e.signal);var t={};b.sessionId=e.signal.sessionId,T.state.listen("connecting:entry",function(){T.state.caller||T.processOffer(e.signal.sessionDescription)}),T.state.receiveOnly!==!0&&(b.outgoingMedia.constraints.video=o.sdpHasVideo(e.signal.sessionDescription.sdp),b.outgoingMedia.constraints.audio=o.sdpHasAudio(e.signal.sessionDescription.sdp),i.info("Default outgoingMedia constraints",b.outgoingMedia.constraints)),T.state.isModifying()&&(T.state.needDirectConnection===!0?t.directConnection=M:T.state.needDirectConnection===!1||(t.call=b),b.fire("modify",t)),T.state.dispatch("receiveOffer",{previewLocalMedia:k,approve:b.approve})}function p(e){i.debug("Call.listenModify",e),"initiate"===e.signal.action&&(w=r.defer(),T.state.dispatch("modify",{receive:!0}))}function g(e){return T.state.dispatch("accept"),"initiate"!==e.signal.action?(w.resolve(),void(w=void 0)):(e.signal.directConnection===!0?f().done(function(e){M=e,M.accept()}):e.signal.directConnection===!1&&M&&(b.removeDirectConnection({skipModify:!0}),x.resolve(!1)),T.state.needDirectConnection="boolean"==typeof e.signal.directConnection?e.signal.directConnection:null,void(b.outgoingMedia.constraints=e.signal.constraints||b.outgoingMedia.constraints))}function m(e){"initiate"!==e.signal.action&&(x.reject(e.err),w.reject(e.err),w=void 0)}function v(e){T&&(T.report.callStoppedReason=e.signal.reason||"Remote side hung up",T.state.receivedBye=!0,T.state.dispatch("hangup",{signal:!1,reason:T.report.callStoppedReason}))
}e=e||{};var y=e.instanceId,b=o.EventEmitter(e);if(delete b.instanceId,b.className="respoke.Call",b.caller=!!b.caller,Object.defineProperty(b,"initiator",{configurable:!0,enumerable:!0,get:function(){return i.warn("The call.initiator flag is deprecated. Please use call.caller instead."),b.caller},set:function(){}}),b.id=b.caller?o.makeGUID():b.id,!b.id)throw new Error("Can't start a new call without a call id.");var w,x=r.defer(),k=e.previewLocalMedia,C=o.getClient(y),_=e.signalingChannel;b.enableCallDebugReport=e.signalingChannel.isSendingReport(),b.hasAudio=void 0,b.hasVideo=void 0;var T=o.PeerConnection({instanceId:y,state:o.CallState({instanceId:y,caller:b.caller,needDirectConnection:e.needDirectConnection,sendOnly:e.sendOnly,receiveOnly:e.receiveOnly,hasMedia:function(){return b.hasMedia()}}),forceTurn:!!e.forceTurn,call:b,pcOptions:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]},offerOptions:e.offerOptions||null,signalOffer:function(t){T&&(e.signalOffer(t),T.state.dispatch("sentOffer"))},signalConnected:e.signalConnected,signalAnswer:e.signalAnswer,signalModify:e.signalModify,signalHangup:e.signalHangup,signalReport:e.signalReport,signalCandidate:e.signalCandidate});b.outgoingMedia=o.LocalMedia({state:T.state,instanceId:y,callId:b.id,hasScreenShare:b.caller&&"screenshare"===b.target,constraints:e.constraints||{video:!0,audio:!0,optional:[],mandatory:{}}}),b.incomingMedia=o.RemoteMedia({state:T.state,instanceId:y,callId:b.id,hasScreenShare:!b.caller&&"screenshare"===b.target,constraints:e.constraints}),b.outgoingMedia.listen("mute",function(e){b.fire("mute",{type:e.type,muted:e.muted})}),delete e.signalingChannel,delete b.signalingChannel;var S=!1,E=!1,M=null;b.answer=function(e){e=e||{},i.debug("Call.answer"),n(e),T.listen("remote-stream-received",s,!0),T.listen("remote-stream-removed",a,!0),T.state.once("approving-device-access:entry",function(){d(e)}),T.state.dispatch("answer",{previewLocalMedia:k,approve:b.approve}),b.fire("answer")},b.accept=b.answer,b.approve=function(){i.debug("Call.approve"),b.fire("approve"),T.state.dispatch("approve",{previewLocalMedia:k}),w&&w.promise.isPending()&&(w.resolve(!0),w=void 0)},o.MediaStats&&(b.getStats=c),b.getLocalElement=function(){return b.outgoingMedia.element},b.getRemoteElement=function(){return b.incomingMedia.element},b.addVideo=function(e){return i.debug("Call.addVideo"),e=e||{},e.constraints=e.constraints||{video:!0,audio:!0},e.constraints.audio="boolean"==typeof e.audio?e.audio:e.constraints.audio,e.constraints.video="boolean"==typeof e.video?e.video:e.constraints.video,e.instanceId=y,x.promise.isFulfilled()?(T.startModify({constraints:e.constraints}),w=r.defer(),w.promise.then(function(){d(e)})):d(e),w.promise},b.addAudio=function(e){return e=e||{},e.constraints=e.constraints||{video:!1,audio:!0},e.constraints.video="boolean"==typeof e.constraints.video?e.constraints.video:!1,e.constraints.audio="boolean"==typeof e.audio?e.audio:e.constraints.audio,e.constraints.video="boolean"==typeof e.video?e.video:e.constraints.video,b.addVideo(e)},b.getDirectConnection=function(){return M||null},b.removeDirectConnection=function(e){return e=e||{},i.debug("Call.removeDirectConnection"),M&&M.close({skipRemove:!0}),b.hasMedia()?void(e.skipModify!==!0&&(T.startModify({directConnection:!1}),w=r.defer(),w.promise.done(function(){x.resolve(),w=void 0}))):(i.debug("Hanging up because there are no local streams."),void b.hangup())},b.addDirectConnection=function(e){return i.debug("Call.addDirectConnection"),T.startModify({directConnection:!0}),w=r.defer(),w.promise.then(function(){return f(e)},function(e){throw e})},b.closeDirectConnection=function(){M&&(M.close(),M=null)},b.hangup=function(e){T&&(e=e||{},e.reason=e.reason||"hangup method called.",T.state.dispatch("hangup",e))},b.hangup=o.once(b.hangup);var D=function(){i.debug("hangup",b.caller),b.outgoingMedia.stop(),M&&(M.close(),M=null),T&&T.close({signal:T.state.receivedBye?!1:T.state.signalBye}),b.fire("hangup",{reason:T.state.hangupReason||"No reason specified."}),T.state.ignore(),T.ignore(),b.ignore(),T=null};return D=o.once(D),b.reject=function(){T&&T.state.dispatch("reject",{reason:"call.reject() called"})},b.isActive=function(){return!!(T&&T.isActive()&&(b.outgoingMedia.hasMedia()||M&&M.isActive()))},b.toggleVideo=function(){b.isActive()&&(S?b.unmuteVideo():b.muteVideo())},b.toggleAudio=function(){b.isActive()&&(E?b.unmuteAudio():b.muteAudio())},b.hasMedia=function(){var e,t;return T&&T.getLocalStreams?(e=T.getLocalStreams(),t=T.getRemoteStreams(),M&&M.isActive()?!0:e.length>0||t.length>0):!1},b.muteVideo=function(){S||(b.outgoingMedia.muteVideo(),S=!0)},b.unmuteVideo=function(){S&&(b.outgoingMedia.unmuteVideo(),S=!1)},b.muteAudio=function(){E||(b.outgoingMedia.muteAudio(),E=!0)},b.unmuteAudio=function(){E&&(b.outgoingMedia.unmuteAudio(),E=!1)},T.state.once("terminated:entry",function(){D()},!0),b.listen("signal-offer",function(e){"idle"===T.state.getState()?T.state.once("preparing:entry",function(){h(e)}):h(e)},!0),b.listen("signal-hangup",v,!0),b.listen("signal-modify",p,!0),T.listen("modify-reject",m,!0),T.listen("modify-accept",g,!0),b.listen("signal-icecandidates",function(e){T&&e.signal.iceCandidates&&e.signal.iceCandidates.length&&e.signal.iceCandidates.forEach(function(e){T&&T.addRemoteCandidate({candidate:e})})},!0),T.state.needDirectConnection!==!0&&T.state.once("preparing:entry",function(){C.fire("call",{endpoint:b.remoteEndpoint,call:b})},!0),T.state.listen("idle:exit",function(){n(e)}),T.state.listen("preparing:entry",function(){t(),T.state.caller===!0&&b.answer()},!0),T.state.listen("connecting:entry",function(){b.incomingMedia.hasVideo()||b.incomingMedia.hasAudio()||!b.outgoingMedia.hasVideo()&&!b.outgoingMedia.hasAudio()||(b.fire("connect"),T.state.dispatch("receiveRemoteMedia"))}),_.getTurnCredentials().then(function(e){if(!T)throw new Error("Already hung up.");e?T.servers={iceServers:e}:(i.warn("Relay service not available."),T.servers={iceServers:[]})}).fin(function(){if(!T)throw new Error("Already hung up.");T.state.dispatch("initiate",{caller:b.caller})}).done(null,function(e){"Already hung up."!==e.message&&i.debug("Unexpected exception",e)}),b}},function(e,t,n){var r=n(19),i=n(1);e.exports=function(e){"use strict";function t(e){for(var t=0;t<i.streams.length;t++){var n=i.streams[t];if(i.isEqual(n.constraints,e))return n.stream}return null}function n(e){for(var t,n=0;n<i.streams.length;n++){var r=i.streams[n];if(i.isEqual(r.constraints,e)){t=n;break}}void 0!==t&&i.streams.splice(t,1)}function o(e){l.stream=e,clearTimeout(g),l.fire("allow"),r.debug("User gave permission to use media."),r.debug("onReceiveUserMedia"),l.element=l.element||document.createElement("video");var n=t(l.constraints);n?(n.numPc+=1,attachMediaStream(l.element,l.stream),l.element.muted=!0,l.element.autoplay=!0,l.fire("stream-received",{element:l.element,stream:l.stream})):(l.stream.numPc=1,i.streams.push({stream:l.stream,constraints:l.constraints}),l.stream.id=u.endpointId,attachMediaStream(l.element,l.stream),l.element.muted=!0,l.element.autoplay=!0,l.fire("stream-received",{element:l.element,stream:l.stream}))}function a(){if(l.state.receiveOnly===!0)return void l.fire("no-local-media");if(r.debug("requestMedia",l.state.caller),!l.constraints)throw new Error("No constraints.");var e=t(l.constraints);if(e)return r.debug("using old stream"),void o(e);if(g=setTimeout(function(){l.fire("requesting-media")},500),i.useFakeMedia===!0&&(l.constraints.fake=!0),!i.isNwjs&&l.constraints.video.mandatory&&l.constraints.video.mandatory.chromeMediaSource){if(i.needsChromeExtension&&i.hasChromeExtension)return void i.chooseDesktopMedia(function(e){return e.sourceId?(l.constraints.video.mandatory.chromeMediaSourceId=e.sourceId,r.debug("Running getUserMedia with constraints",l.constraints),void getUserMedia(l.constraints,o,s)):(i.log.error("Error trying to get screensharing source.",e.error),void l.fire("error",{error:"Permission denied."}))});throw new Error("Screen sharing not implemented on this platform yet.")}r.debug("Running getUserMedia with constraints",l.constraints),getUserMedia(l.constraints,o,s)}function s(e){r.debug("onUserMediaError"),1===e.code?(r.warn("Permission denied."),l.fire("error",{error:"Permission denied."})):(r.warn(e),l.fire("error",{error:e.code}))}e=e||{};var c=e.instanceId,l=i.EventEmitter(e);delete l.instanceId,l.className="respoke.LocalMedia",l.id=i.makeGUID();var u=i.getClient(c);l.element=e.element;var d=e.hasScreenShare;delete e.hasScreenShare;var f=!1,h=!1,p=!1,g=0;return l.stream=null,l.getAudioTracks=function(){return l.stream?l.stream.getAudioTracks():[]},l.getVideoTracks=function(){return l.stream?l.stream.getVideoTracks():[]},l.isVideoMuted=function(){return l.stream&&l.stream.getVideoTracks().length?l.stream.getVideoTracks().every(function(e){return!e.enabled}):void 0},l.muteVideo=function(){l.isVideoMuted()||(l.stream.getVideoTracks().forEach(function(e){e.enabled=!1}),l.fire("mute",{type:"video",muted:!0}))},l.unmuteVideo=function(){l.isVideoMuted()&&(l.stream.getVideoTracks().forEach(function(e){e.enabled=!0}),l.fire("mute",{type:"video",muted:!1}))},l.isAudioMuted=function(){return l.stream&&l.stream.getAudioTracks().length?l.stream.getAudioTracks().every(function(e){return!e.enabled}):void 0},l.muteAudio=function(){l.isAudioMuted()||(l.stream.getAudioTracks().forEach(function(e){e.enabled=!1}),l.fire("mute",{type:"audio",muted:!0}))},l.unmuteAudio=function(){l.isAudioMuted()&&(l.stream.getAudioTracks().forEach(function(e){e.enabled=!0}),l.fire("mute",{type:"audio",muted:!1}))},l.stop=function(){l.stream&&(l.stream.numPc-=1,0===l.stream.numPc&&(l.stream.stop(),n(l.constraints)),l.stream=null,l.fire("stop"))},l.hasScreenShare=function(){return l.stream?l.stream.getVideoTracks().length>0&&d:d},l.hasVideo=function(){return l.stream?l.stream.getVideoTracks().length>0:h},l.hasAudio=function(){return l.stream?l.stream.getAudioTracks().length>0:f},l.hasMedia=function(){return!!l.stream},l.setSDP=function(e){h=i.sdpHasVideo(e.sdp),f=i.sdpHasAudio(e.sdp),p=i.sdpHasDataChannel(e.sdp)},l.start=function(){try{a()}catch(e){clearTimeout(g),l.fire("error",{reason:e.message})}},l}},function(e,t,n){var r=(n(19),n(1));e.exports=function(e){"use strict";e=e||{};var t=e.instanceId,n=r.EventEmitter(e);delete n.instanceId,n.className="respoke.RemoteMedia",n.id=r.makeGUID(),r.getClient(t),n.element=e.videoRemoteElement;var i=e.hasScreenShare;delete e.hasScreenShare;var o=!1,a=!1,s=!1;return e.pc,delete n.pc,n.stream=null,n.hasScreenShare=function(){return n.stream?n.stream.getVideoTracks().length>0&&i:i},n.hasVideo=function(){return n.stream?n.stream.getVideoTracks().length>0:a},n.hasAudio=function(){return n.stream?n.stream.getAudioTracks().length>0:o},n.hasMedia=function(){return!!n.stream},n.setSDP=function(e){a=r.sdpHasVideo(e.sdp),o=r.sdpHasAudio(e.sdp),s=r.sdpHasDataChannel(e.sdp)},n.setConstraints=function(e){n.constraints=e,a=r.constraintsHasVideo(n.constraints),o=r.constraintsHasAudio(n.constraints)},n.setStream=function(e){e&&(n.stream=e,n.element=n.element||document.createElement("video"),attachMediaStream(n.element,n.stream),n.element.autoplay=!0,setTimeout(n.element.play.bind(n.element)))},n.getAudioTracks=function(){return n.stream?n.stream.getAudioTracks():[]},n.getVideoTracks=function(){return n.stream?n.stream.getVideoTracks():[]},n.stop=function(){n.stream&&(n.stream.numPc-=1,0===n.stream.numPc&&(n.stream.stop(),delete r.streams[n.constraints]),n.stream=null,n.fire("stop"))},n.isVideoMuted=function(){return n.stream?n.stream.getVideoTracks().every(function(e){return!e.enabled}):!1},n.muteVideo=function(){n.isVideoMuted()||(n.stream.getVideoTracks().forEach(function(e){e.enabled=!1}),n.fire("mute",{type:"video",muted:!0}))},n.unmuteVideo=function(){n.isVideoMuted()&&(n.stream.getVideoTracks().forEach(function(e){e.enabled=!0}),n.fire("mute",{type:"video",muted:!1}))},n.isAudioMuted=function(){return n.stream?n.stream.getAudioTracks().every(function(e){return!e.enabled}):!1},n.muteAudio=function(){n.isAudioMuted()||(n.stream.getAudioTracks().forEach(function(e){e.enabled=!1}),n.fire("mute",{type:"audio",muted:!0}))},n.unmuteAudio=function(){n.isAudioMuted()&&(n.stream.getAudioTracks().forEach(function(e){e.enabled=!0}),n.fire("mute",{type:"audio",muted:!1}))},n}},function(){"use strict";function e(e){if(e)for(var t=0;t<e.iceServers.length;t++)e.iceServers[t].hasOwnProperty("urls")&&(e.iceServers[t].url=e.iceServers[t].urls,delete e.iceServers[t].urls)}var t=null,n=null,r=null,i=null,o=null,a=null;if(navigator.mozGetUserMedia)console.log("This appears to be Firefox"),o="firefox",a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10),t=function(t,n){return e(t),new mozRTCPeerConnection(t,n)},window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate,n=navigator.mozGetUserMedia.bind(navigator),navigator.getUserMedia=n,window.createIceServer=function(e,t,n){var r=null,i=e.split(":");if(0===i[0].indexOf("stun"))r={url:e};else if(0===i[0].indexOf("turn"))if(27>a){var o=e.split("?");(1===o.length||0===o[1].indexOf("transport=udp"))&&(r={url:o[0],credential:n,username:t})}else r={url:e,credential:n,username:t};return r},window.createIceServers=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=window.createIceServer(e[i],t,n);null!==o&&r.push(o)}return r},r=function(e,t){e.mozSrcObject=t,setTimeout(function(){e.play()},100)},i=function(e,t){e.mozSrcObject=t.mozSrcObject};else if(navigator.webkitGetUserMedia){console.log("This appears to be Chrome"),o="chrome";var s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);a=null!==s?parseInt(s[2],10):999,window.createIceServer=function(e,t,n){var r=null,i=e.split(":");return 0===i[0].indexOf("stun")?r={url:e}:0===i[0].indexOf("turn")&&(r={url:e,credential:n,username:t}),r},window.createIceServers=function(e,t,n){var r=[];if(a>=34)r={urls:e,credential:n,username:t};else for(var i=0;i<e.length;i++){var o=window.createIceServer(e[i],t,n);null!==o&&r.push(o)}return r},t=function(t,n){return 34>a&&e(t),new webkitRTCPeerConnection(t,n)},n=navigator.webkitGetUserMedia.bind(navigator),navigator.getUserMedia=n,r=function(e,t){"undefined"!=typeof e.srcObject?e.srcObject=t:"undefined"!=typeof e.mozSrcObject?e.mozSrcObject=t:"undefined"!=typeof e.src?e.src=URL.createObjectURL(t):console.log("Error attaching stream to element.")},i=function(e,t){e.src=t.src}}else console.log("Browser does not appear to be WebRTC-capable");window.RTCPeerConnection=t,window.getUserMedia=n,window.attachMediaStream=r,window.reattachMediaStream=i,window.webrtcDetectedBrowser=o,window.webrtcDetectedVersion=a},function(e){!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}(function(){"use strict";function e(e){return function(){return Y.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===tt(e)||e instanceof q}function r(e,t){if(H&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(nt)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var o=n.join("\n"+nt+"\n");e.stack=i(o)}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];s(i)||o(i)||!i||n.push(i)}return n.join("\n")}function o(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function a(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function s(e){var t=a(e);if(!t)return!1;var n=t[0],r=t[1];return n===W&&r>=U&&at>=r}function c(){if(H)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=a(n);if(!r)return;return W=r[0],r[1]}}function l(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function u(e){return e instanceof p?e:y(e)?E(e):S(e)}function d(){function e(e){t=e,o.source=e,X(n,function(t,n){u.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=Z(d.prototype),o=Z(p.prototype);if(o.promiseDispatch=function(e,i,o){var a=G(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):u.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=m(t);return v(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},u.longStackSupport&&H)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){t||e(u(n))},i.fulfill=function(n){t||e(S(n))},i.reject=function(n){t||e(T(n))},i.notify=function(e){t||X(r,function(t,n){u.nextTick(function(){n(e)})},void 0)},i}function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function h(e){return f(function(t,n){for(var r=0,i=e.length;i>r;r++)u(e[r]).then(t,n)})}function p(e,t,n){void 0===t&&(t=function(e){return T(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Z(p.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(s){a=T(s)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function g(e,t,n,r){return u(e).then(t,n,r)}function m(e){if(v(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function v(e){return e instanceof p}function y(e){return t(e)&&"function"==typeof e.then}function b(e){return v(e)&&"pending"===e.inspect().state}function w(e){return!v(e)||"fulfilled"===e.inspect().state}function x(e){return v(e)&&"rejected"===e.inspect().state}function k(){rt.length=0,it.length=0,ot||(ot=!0)}function C(e,t){ot&&(it.push(e),rt.push(t&&"undefined"!=typeof t.stack?t.stack:"(no stack) "+t))}function _(e){if(ot){var t=J(it,e);-1!==t&&(it.splice(t,1),rt.splice(t,1))}}function T(e){var t=p({when:function(t){return t&&_(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return C(t,e),t}function S(e){return p({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return et(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function E(e){var t=d();return u.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function M(e){return p({isDef:function(){}},function(t,n){return O(e,t,n)},function(){return u(e).inspect()})}function D(e,t,n){return u(e).spread(t,n)}function A(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=r[e](t)}catch(s){return T(s)}return a.done?u(a.value):g(a.value,i,o)}try{a=r[e](t)}catch(s){return n(s)?u(s.value):T(s)}return g(a,i,o)}var r=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function j(e){u.done(u.async(e)())}function I(e){throw new q(e)}function N(e){return function(){return D([this,P(arguments)],function(t,n){return e.apply(t,n)})}}function O(e,t,n){return u(e).dispatch(t,n)}function P(e){return g(e,function(e){var t=0,n=d();return X(e,function(r,i,o){var a;v(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,g(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function L(e){return g(e,function(e){return e=Q(e,u),g(P(Q(e,function(e){return g(e,z,z)})),function(){return e})})}function $(e){return u(e).allSettled()}function R(e,t){return u(e).then(void 0,void 0,t)}function B(e,t){return u(e).nodeify(t)}var H=!1;try{throw new Error}catch(F){H=!!F.stack}var W,q,U=c(),z=function(){},V=function(){function e(){for(;t.next;){t=t.next;var n=t.task;t.task=void 0;var i=t.domain;i&&(t.domain=void 0,i.enter());try{n()}catch(a){if(o)throw i&&i.exit(),setTimeout(e,0),i&&i.enter(),a;setTimeout(function(){throw a},0)}i&&i.exit()}r=!1}var t={task:void 0,next:null},n=t,r=!1,i=void 0,o=!1;if(V=function(e){n=n.next={task:e,domain:o&&process.domain,next:null},r||(r=!0,i())},"undefined"!=typeof process&&process.nextTick)o=!0,i=function(){process.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var a=new MessageChannel;a.port1.onmessage=function(){i=s,a.port1.onmessage=e,e()};var s=function(){a.port2.postMessage(0)};i=function(){setTimeout(e,0),s()}}else i=function(){setTimeout(e,0)};return V}(),Y=Function.call,G=e(Array.prototype.slice),X=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),J=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Q=e(Array.prototype.map||function(e,t){var n=this,r=[];return X(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),Z=Object.create||function(e){function t(){}return t.prototype=e,new t},K=e(Object.prototype.hasOwnProperty),et=Object.keys||function(e){var t=[];for(var n in e)K(e,n)&&t.push(n);return t},tt=e(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var nt="From previous event:";u.resolve=u,u.nextTick=V,u.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(u.longStackSupport=!0),u.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):e.resolve(arguments.length>2?G(arguments,1):n)}},u.Promise=f,u.promise=f,f.race=h,f.all=P,f.reject=T,f.resolve=u,u.passByCopy=function(e){return e},p.prototype.passByCopy=function(){return this},u.join=function(e,t){return u(e).join(t)},p.prototype.join=function(e){return u([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},u.race=h,p.prototype.race=function(){return this.then(u.race)},u.makePromise=p,p.prototype.toString=function(){return"[object Promise]"},p.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return T(n)}}function o(e){if("function"==typeof t){r(e,s);try{return t(e)}catch(n){return T(n)}}return T(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,c=d(),l=!1;return u.nextTick(function(){s.promiseDispatch(function(e){l||(l=!0,c.resolve(i(e)))},"when",[function(e){l||(l=!0,c.resolve(o(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(r){if(n=!0,!u.onerror)throw r;u.onerror(r)}n||c.notify(t)}]),c.promise},u.tap=function(e,t){return u(e).tap(t)},p.prototype.tap=function(e){return e=u(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},u.when=g,p.prototype.thenResolve=function(e){return this.then(function(){return e})},u.thenResolve=function(e,t){return u(e).thenResolve(t)},p.prototype.thenReject=function(e){return this.then(function(){throw e})},u.thenReject=function(e,t){return u(e).thenReject(t)},u.nearer=m,u.isPromise=v,u.isPromiseAlike=y,u.isPending=b,p.prototype.isPending=function(){return"pending"===this.inspect().state},u.isFulfilled=w,p.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},u.isRejected=x,p.prototype.isRejected=function(){return"rejected"===this.inspect().state};var rt=[],it=[],ot=!0;u.resetUnhandledRejections=k,u.getUnhandledReasons=function(){return rt.slice()},u.stopUnhandledRejectionTracking=function(){k(),ot=!1},k(),u.reject=T,u.fulfill=S,u.master=M,u.spread=D,p.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},u.async=A,u.spawn=j,u["return"]=I,u.promised=N,u.dispatch=O,p.prototype.dispatch=function(e,t){var n=this,r=d();return u.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},u.get=function(e,t){return u(e).dispatch("get",[t])},p.prototype.get=function(e){return this.dispatch("get",[e])},u.set=function(e,t,n){return u(e).dispatch("set",[t,n])},p.prototype.set=function(e,t){return this.dispatch("set",[e,t])},u.del=u["delete"]=function(e,t){return u(e).dispatch("delete",[t])},p.prototype.del=p.prototype["delete"]=function(e){return this.dispatch("delete",[e])},u.mapply=u.post=function(e,t,n){return u(e).dispatch("post",[t,n])},p.prototype.mapply=p.prototype.post=function(e,t){return this.dispatch("post",[e,t])},u.send=u.mcall=u.invoke=function(e,t){return u(e).dispatch("post",[t,G(arguments,2)])},p.prototype.send=p.prototype.mcall=p.prototype.invoke=function(e){return this.dispatch("post",[e,G(arguments,1)])},u.fapply=function(e,t){return u(e).dispatch("apply",[void 0,t])},p.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},u["try"]=u.fcall=function(e){return u(e).dispatch("apply",[void 0,G(arguments,1)])},p.prototype.fcall=function(){return this.dispatch("apply",[void 0,G(arguments)])},u.fbind=function(e){var t=u(e),n=G(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(G(arguments))])}},p.prototype.fbind=function(){var e=this,t=G(arguments);return function(){return e.dispatch("apply",[this,t.concat(G(arguments))])}},u.keys=function(e){return u(e).dispatch("keys",[])},p.prototype.keys=function(){return this.dispatch("keys",[])},u.all=P,p.prototype.all=function(){return P(this)},u.allResolved=l(L,"allResolved","allSettled"),p.prototype.allResolved=function(){return L(this)},u.allSettled=$,p.prototype.allSettled=function(){return this.then(function(e){return P(Q(e,function(e){function t(){return e.inspect()}return e=u(e),e.then(t,t)}))})},u.fail=u["catch"]=function(e,t){return u(e).then(void 0,t)},p.prototype.fail=p.prototype["catch"]=function(e){return this.then(void 0,e)},u.progress=R,p.prototype.progress=function(e){return this.then(void 0,void 0,e)},u.fin=u["finally"]=function(e,t){return u(e)["finally"](t)},p.prototype.fin=p.prototype["finally"]=function(e){return e=u(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},u.done=function(e,t,n,r){return u(e).done(t,n,r)},p.prototype.done=function(e,t,n){var i=function(e){u.nextTick(function(){if(r(e,o),!u.onerror)throw e;u.onerror(e)})},o=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),o.then(void 0,i)},u.timeout=function(e,t,n){return u(e).timeout(t,n)},p.prototype.timeout=function(e,t){var n=d(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},u.delay=function(e,t){return void 0===t&&(t=e,e=void 0),u(e).delay(t)},p.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},u.nfapply=function(e,t){return u(e).nfapply(t)},p.prototype.nfapply=function(e){var t=d(),n=G(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},u.nfcall=function(e){var t=G(arguments,1);return u(e).nfapply(t)},p.prototype.nfcall=function(){var e=G(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},u.nfbind=u.denodeify=function(e){var t=G(arguments,1);return function(){var n=t.concat(G(arguments)),r=d();return n.push(r.makeNodeResolver()),u(e).fapply(n).fail(r.reject),r.promise}},p.prototype.nfbind=p.prototype.denodeify=function(){var e=G(arguments);return e.unshift(this),u.denodeify.apply(void 0,e)},u.nbind=function(e,t){var n=G(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(G(arguments)),o=d();return i.push(o.makeNodeResolver()),u(r).fapply(i).fail(o.reject),o.promise}},p.prototype.nbind=function(){var e=G(arguments,0);return e.unshift(this),u.nbind.apply(void 0,e)},u.nmapply=u.npost=function(e,t,n){return u(e).npost(t,n)},p.prototype.nmapply=p.prototype.npost=function(e,t){var n=G(t||[]),r=d();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},u.nsend=u.nmcall=u.ninvoke=function(e,t){var n=G(arguments,2),r=d();return n.push(r.makeNodeResolver()),u(e).dispatch("post",[t,n]).fail(r.reject),r.promise},p.prototype.nsend=p.prototype.nmcall=p.prototype.ninvoke=function(e){var t=G(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},u.nodeify=B,p.prototype.nodeify=function(e){return e?void this.then(function(t){u.nextTick(function(){e(null,t)})},function(t){u.nextTick(function(){e(t)})}):this};var at=c();return u})},function(e){!function(t){var n="undefined";!function(t,n){e.exports=n()}("log",function(){function e(e){return typeof console===n?l:console[e]===t?r(console,"log")||l:r(console,e)}function r(e,n){var r=e[n];return r.bind===t?Function.prototype.bind===t?function(){r.apply(e,arguments)}:Function.prototype.bind.call(e[n],e):e[n].bind(e)}function i(){for(var e=0;e<u.length;e++)c[u[e]]=l}function o(){return typeof window!==n&&window.document!==t&&window.document.cookie!==t}function a(e){if(o()){var n;for(var r in c.levels)if(c.levels.hasOwnProperty(r)&&c.levels[r]===e){n=r;break}n!==t&&(window.document.cookie="loglevel="+n+";")}}function s(){var e;if(o()){var t=d.exec(window.document.cookie)||[];e=t[1]}c.setLevel(c.levels[e]||c.levels.WARN)}var c={},l=function(){},u=["trace","debug","info","warn","error"],d=/loglevel=([^;]+)/;c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.setLevel=function(t){if("number"==typeof t&&t>=0&&t<=c.levels.SILENT){if(a(t),t===c.levels.SILENT)return void i();if(typeof console===n)throw i(),"No console available for logging";for(var r=0;r<u.length;r++){var o=u[r];c[o]=t<=c.levels[o.toUpperCase()]?e(o):l}}else{if("string"!=typeof t)throw"log.setLevel() called with invalid level: "+t;c.setLevel(c.levels[t.toUpperCase()])}},c.enableAll=function(){c.setLevel(c.levels.TRACE)},c.disableAll=function(){c.setLevel(c.levels.SILENT)};try{s()}catch(f){c.setLevel(c.levels.SILENT)}return c})}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(module){var io=module.exports;!function(){if(function(e,t){var n=e;n.version="0.9.17",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(e,r){var i,o,a=n.util.parseUri(e);t&&t.location&&(a.protocol=a.protocol||t.location.protocol.slice(0,-1),a.host=a.host||(t.document?t.document.domain:t.location.hostname),a.port=a.port||t.location.port),i=n.util.uniqueUri(a);var s={host:a.host,secure:"https"==a.protocol,port:a.port||("https"==a.protocol?443:80),query:a.query||""};return n.util.merge(s,r),(s["force new connection"]||!n.sockets[i])&&(o=new n.Socket(s)),!s["force new connection"]&&o&&(n.sockets[i]=o),o=o||n.sockets[i],o.of(a.path.length>1?a.path:"")}}(module.exports,this),function(e,t){var n=e.util={},r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(e){for(var t=r.exec(e||""),n={},o=14;o--;)n[i[o]]=t[o]||"";return n},n.uniqueUri=function(e){var n=e.protocol,r=e.host,i=e.port;return"document"in t?(r=r||document.domain,i=i||("https"==n&&"https:"!==document.location.protocol?443:document.location.port)):(r=r||"localhost",i||"https"!=n||(i=443)),(n||"http")+"://"+r+":"+(i||80)
},n.query=function(e,t){var r=n.chunkQuery(e||""),i=[];n.merge(r,n.chunkQuery(t||""));for(var o in r)r.hasOwnProperty(o)&&i.push(o+"="+r[o]);return i.length?"?"+i.join("&"):""},n.chunkQuery=function(e){for(var t,n={},r=e.split("&"),i=0,o=r.length;o>i;++i)t=r[i].split("="),t[0]&&(n[t[0]]=t[1]);return n};var o=!1;n.load=function(e){return"document"in t&&"complete"===document.readyState||o?e():void n.on(t,"load",e,!1)},n.on=function(e,t,n,r){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,r)},n.request=function(e){if(e&&"undefined"!=typeof XDomainRequest&&!n.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||n.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}return null},"undefined"!=typeof window&&n.load(function(){o=!0}),n.defer=function(e){return n.ua.webkit&&"undefined"==typeof importScripts?void n.load(function(){setTimeout(e,100)}):e()},n.merge=function(e,t,r,i){var o,a=i||[],s="undefined"==typeof r?2:r;for(o in t)t.hasOwnProperty(o)&&n.indexOf(a,o)<0&&("object"==typeof e[o]&&s?n.merge(e[o],t[o],s-1,a):(e[o]=t[o],a.push(t[o])));return e},n.mixin=function(e,t){n.merge(e.prototype,t.prototype)},n.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.intersect=function(e,t){for(var r=[],i=e.length>t.length?e:t,o=e.length>t.length?t:e,a=0,s=o.length;s>a;a++)~n.indexOf(i,o[a])&&r.push(o[a]);return r},n.indexOf=function(e,t,n){for(var r=e.length,n=0>n?0>n+r?0:n+r:n||0;r>n&&e[n]!==t;n++);return n>=r?-1:n},n.toArray=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(t){return!1}return void 0!=e.withCredentials}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),n.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(e,t){function n(){}e.EventEmitter=n,n.prototype.on=function(e,n){return this.$events||(this.$events={}),this.$events[e]?t.util.isArray(this.$events[e])?this.$events[e].push(n):this.$events[e]=[this.$events[e],n]:this.$events[e]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function n(){r.removeListener(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,n){if(this.$events&&this.$events[e]){var r=this.$events[e];if(t.util.isArray(r)){for(var i=-1,o=0,a=r.length;a>o;o++)if(r[o]===n||r[o].listener&&r[o].listener===n){i=o;break}if(0>i)return this;r.splice(i,1),r.length||delete this.$events[e]}else(r===n||r.listener&&r.listener===n)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),t.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var n=this.$events[e];if(!n)return!1;var r=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,r);else{if(!t.util.isArray(n))return!1;for(var i=n.slice(),o=0,a=i.length;a>o;o++)i[o].apply(this,r)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){"use strict";function f(e){return 10>e?"0"+e:e}function date(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,c=t[e];switch(c instanceof Date&&(c=date(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)a[n]=str(n,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,c),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})},JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(e,t){var n=e.parser={},r=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],i=n.reasons=["transport not supported","client not handshaken","unauthorized"],o=n.advice=["reconnect"],a=t.JSON,s=t.util.indexOf;n.encodePacket=function(e){var t=s(r,e.type),n=e.id||"",c=e.endpoint||"",l=e.ack,u=null;switch(e.type){case"error":var d=e.reason?s(i,e.reason):"",f=e.advice?s(o,e.advice):"";(""!==d||""!==f)&&(u=d+(""!==f?"+"+f:""));break;case"message":""!==e.data&&(u=e.data);break;case"event":var h={name:e.name};e.args&&e.args.length&&(h.args=e.args),u=a.stringify(h);break;case"json":u=a.stringify(e.data);break;case"connect":e.qs&&(u=e.qs);break;case"ack":u=e.ackId+(e.args&&e.args.length?"+"+a.stringify(e.args):"")}var p=[t,n+("data"==l?"+":""),c];return null!==u&&void 0!==u&&p.push(u),p.join(":")},n.encodePayload=function(e){var t="";if(1==e.length)return e[0];for(var n=0,r=e.length;r>n;n++){var i=e[n];t+="�"+i.length+"�"+e[n]}return t};var c=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(e){var t=e.match(c);if(!t)return{};var n=t[2]||"",e=t[5]||"",s={type:r[t[1]],endpoint:t[4]||""};switch(n&&(s.id=n,s.ack=t[3]?"data":!0),s.type){case"error":var t=e.split("+");s.reason=i[t[0]]||"",s.advice=o[t[1]]||"";break;case"message":s.data=e||"";break;case"event":try{var l=a.parse(e);s.name=l.name,s.args=l.args}catch(u){}s.args=s.args||[];break;case"json":try{s.data=a.parse(e)}catch(u){}break;case"connect":s.qs=e||"";break;case"ack":var t=e.match(/^([0-9]+)(\+)?(.*)/);if(t&&(s.ackId=t[1],s.args=[],t[3]))try{s.args=t[3]?a.parse(t[3]):[]}catch(u){}break;case"disconnect":case"heartbeat":}return s},n.decodePayload=function(e){if("�"==e.charAt(0)){for(var t=[],r=1,i="";r<e.length;r++)"�"==e.charAt(r)?(t.push(n.decodePacket(e.substr(r+1).substr(0,i))),r+=Number(i)+1,i=""):i+=e.charAt(r);return t}return[n.decodePacket(e)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t){function n(e,t){this.socket=e,this.sessid=t}e.Transport=n,t.util.mixin(n,t.EventEmitter),n.prototype.heartbeats=function(){return!0},n.prototype.onData=function(e){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==e){var n=t.parser.decodePayload(e);if(n&&n.length)for(var r=0,i=n.length;i>r;r++)this.onPacket(n[r])}return this},n.prototype.onPacket=function(e){return this.socket.setHeartbeatTimeout(),"heartbeat"==e.type?this.onHeartbeat():("connect"==e.type&&""==e.endpoint&&this.onConnect(),"error"==e.type&&"reconnect"==e.advice&&(this.isOpen=!1),this.socket.onPacket(e),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout(function(){e.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(e){this.send(t.parser.encodePacket(e))},n.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){this.isOpen=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(){var e=this.socket.options;return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(e,t){t.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(e){if(this.options={port:80,secure:!1,document:"document"in n?document:!1,resource:"socket.io",transports:t.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},t.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var r=this;t.util.on(n,"beforeunload",function(){r.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function i(){}e.Socket=r,t.util.mixin(r,t.EventEmitter),r.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new t.SocketNamespace(this,e),""!==e&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},r.prototype.publish=function(){this.emit.apply(this,arguments);var e;for(var t in this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t),e.$emit.apply(e,arguments))},r.prototype.handshake=function(e){function n(t){t instanceof Error?(r.connecting=!1,r.onError(t.message)):e.apply(null,t.split(":"))}var r=this,o=this.options,a=["http"+(o.secure?"s":"")+":/",o.host+":"+o.port,o.resource,t.protocol,t.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!t.util.ua.hasCORS){var s=document.getElementsByTagName("script")[0],c=document.createElement("script");c.src=a+"&jsonp="+t.j.length,s.parentNode.insertBefore(c,s),t.j.push(function(e){n(e),c.parentNode.removeChild(c)})}else{var l=t.util.request();l.open("GET",a,!0),this.isXDomain()&&(l.withCredentials=!0),l.onreadystatechange=function(){4==l.readyState&&(l.onreadystatechange=i,200==l.status?n(l.responseText):403==l.status?r.onError(l.responseText):(r.connecting=!1,!r.reconnecting&&r.onError(l.responseText)))},l.send(null)}},r.prototype.getTransport=function(e){for(var n,r=e||this.transports,i=0;n=r[i];i++)if(t.Transport[n]&&t.Transport[n].check(this)&&(!this.isXDomain()||t.Transport[n].xdomainCheck(this)))return new t.Transport[n](this,this.sessionid);return null},r.prototype.connect=function(e){if(this.connecting)return this;var n=this;return n.connecting=!0,this.handshake(function(r,i,o,a){function s(e){return n.transport&&n.transport.clearTimeouts(),n.transport=n.getTransport(e),n.transport?void n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){if(!n.connected&&(n.connecting=!1,n.options["try multiple transports"])){for(var e=n.transports;e.length>0&&e.splice(0,1)[0]!=n.transport.name;);e.length?s(e):n.publish("connect_failed")}},n.options["connect timeout"]))}):n.publish("connect_failed")}n.sessionid=r,n.closeTimeout=1e3*o,n.heartbeatTimeout=1e3*i,n.transports||(n.transports=n.origTransports=a?t.util.intersect(a.split(","),n.options.transports):n.options.transports),n.setHeartbeatTimeout(),s(n.transports),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),e&&"function"==typeof e&&e()})}),this},r.prototype.setHeartbeatTimeout=function(){if(clearTimeout(this.heartbeatTimeoutTimer),!this.transport||this.transport.heartbeats()){var e=this;this.heartbeatTimeoutTimer=setTimeout(function(){e.transport.onClose()},this.heartbeatTimeout)}},r.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},r.prototype.setBuffer=function(e){this.doBuffer=e,!e&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},r.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},r.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},r.prototype.disconnectSync=function(){var e=t.util.request(),n=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,t.protocol,"",this.sessionid].join("/")+"/?disconnect=1";e.open("GET",n,!1),e.send(null),this.onDisconnect("booted")},r.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},r.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},r.prototype.onOpen=function(){this.open=!0},r.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},r.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},r.prototype.onError=function(e){e&&e.advice&&"reconnect"===e.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},r.prototype.onDisconnect=function(e){var t=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(t||n)&&(this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect()))},r.prototype.reconnect=function(){function e(){if(n.connected){for(var e in n.namespaces)n.namespaces.hasOwnProperty(e)&&""!==e&&n.namespaces[e].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}clearTimeout(n.reconnectionTimer),n.removeListener("connect_failed",t),n.removeListener("connect",t),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options["try multiple transports"]=i}function t(){return n.reconnecting?n.connected?e():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(t,1e3):void(n.reconnectionAttempts++>=r?n.redoTransports?(n.publish("reconnect_failed"),e()):(n.on("connect_failed",t),n.options["try multiple transports"]=!0,n.transports=n.origTransports,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<o&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(t,n.reconnectionDelay))):void 0}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var n=this,r=this.options["max reconnection attempts"],i=this.options["try multiple transports"],o=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(t,this.reconnectionDelay),this.on("connect",t)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new r(this,"json"),this.ackPackets=0,this.acks={}}function r(e,t){this.namespace=e,this.name=t}e.SocketNamespace=n,t.util.mixin(n,t.EventEmitter),n.prototype.$emit=t.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},n.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},n.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],r={type:"event",name:e};return"function"==typeof n&&(r.id=++this.ackPackets,r.ack="data",this.acks[r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this.packet(r)},n.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(e){function n(){r.packet({type:"ack",args:t.util.toArray(arguments),ackId:e.id})}var r=this;switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason);break;case"message":case"json":var i=["message",e.data];"data"==e.ack?i.push(n):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,i);break;case"event":var i=[e.name].concat(e.args);"data"==e.ack&&i.push(n),this.$emit.apply(this,i);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":e.advice?this.socket.onError(e):"unauthorized"==e.reason?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},r.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},r.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(){t.Transport.apply(this,arguments)}e.websocket=r,t.util.inherit(r,t.Transport),r.prototype.name="websocket",r.prototype.open=function(){var e,r=t.util.query(this.socket.options.query),i=this;return e||(e=n.MozWebSocket||n.WebSocket),this.websocket=new e(this.prepareUrl()+r),this.websocket.onopen=function(){i.onOpen(),i.socket.setBuffer(!1)},this.websocket.onmessage=function(e){i.onData(e.data)},this.websocket.onclose=function(){i.onClose(),i.socket.setBuffer(!0)},this.websocket.onerror=function(e){i.onError(e)},this},r.prototype.send=t.util.ua.iDevice?function(e){var t=this;return setTimeout(function(){t.websocket.send(e)},0),this}:function(e){return this.websocket.send(e),this},r.prototype.payload=function(e){for(var t=0,n=e.length;n>t;t++)this.packet(e[t]);return this},r.prototype.close=function(){return this.websocket.close(),this},r.prototype.onError=function(e){this.socket.onError(e)},r.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},r.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},r.xdomainCheck=function(){return!0},t.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(){t.Transport.websocket.apply(this,arguments)}e.flashsocket=n,t.util.inherit(n,t.Transport.websocket),n.prototype.name="flashsocket",n.prototype.open=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t.Transport.websocket.prototype.open.apply(e,n)}),this},n.prototype.send=function(){var e=this,n=arguments;return WebSocket.__addTask(function(){t.Transport.websocket.prototype.send.apply(e,n)}),this},n.prototype.close=function(){return WebSocket.__tasks.length=0,t.Transport.websocket.prototype.close.call(this),this},n.prototype.ready=function(e,r){function i(){var t=e.options,i=t["flash policy port"],a=["http"+(t.secure?"s":"")+":/",t.host+":"+t.port,t.resource,"static/flashsocket","WebSocketMain"+(e.isXDomain()?"Insecure":"")+".swf"];n.loaded||("undefined"==typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=a.join("/")),843!==i&&WebSocket.loadFlashPolicyFile("xmlsocket://"+t.host+":"+i),WebSocket.__initialize(),n.loaded=!0),r.call(o)}var o=this;return document.body?i():void t.util.load(i)},n.check=function(){return"undefined"!=typeof WebSocket&&"__initialize"in WebSocket&&swfobject?swfobject.getFlashPlayerVersion().major>=10:!1},n.xdomainCheck=function(){return!0},"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0),t.transports.push("flashsocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),"undefined"!=typeof window)var swfobject=function(){function e(){if(!q){try{var e=L.getElementsByTagName("body")[0].appendChild(m("span"));e.parentNode.removeChild(e)}catch(t){return}q=!0;for(var n=B.length,r=0;n>r;r++)B[r]()}}function t(e){q?e():B[B.length]=e}function n(e){if(typeof P.addEventListener!=M)P.addEventListener("load",e,!1);else if(typeof L.addEventListener!=M)L.addEventListener("load",e,!1);else if(typeof P.attachEvent!=M)v(P,"onload",e);else if("function"==typeof P.onload){var t=P.onload;P.onload=function(){t(),e()}}else P.onload=e}function r(){R?i():o()}function i(){var e=L.getElementsByTagName("body")[0],t=m(D);t.setAttribute("type",I);var n=e.appendChild(t);if(n){var r=0;!function(){if(typeof n.GetVariable!=M){var i=n.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),V.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(10>r)return r++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,o()}()}else o()}function o(){var e=H.length;if(e>0)for(var t=0;e>t;t++){var n=H[t].id,r=H[t].callbackFn,i={success:!1,id:n};if(V.pv[0]>0){var o=g(n);if(o)if(!y(H[t].swfVersion)||V.wk&&V.wk<312)if(H[t].expressInstall&&s()){var u={};u.data=H[t].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var d={},f=o.getElementsByTagName("param"),h=f.length,p=0;h>p;p++)"movie"!=f[p].getAttribute("name").toLowerCase()&&(d[f[p].getAttribute("name")]=f[p].getAttribute("value"));c(u,d,n,r)}else l(o),r&&r(i);else w(n,!0),r&&(i.success=!0,i.ref=a(n),r(i))}else if(w(n,!0),r){var m=a(n);m&&typeof m.SetVariable!=M&&(i.success=!0,i.ref=m),r(i)}}}function a(e){var t=null,n=g(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=M)t=n;else{var r=n.getElementsByTagName(D)[0];r&&(t=r)}return t}function s(){return!U&&y("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function c(e,t,n,r){U=!0,_=r||null,T={success:!1,id:n};var i=g(n);if(i){"OBJECT"==i.nodeName?(k=u(i),C=null):(k=i,C=n),e.id=N,(typeof e.width==M||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==M||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),L.title=L.title.slice(0,47)+" - Flash Player Installation";var o=V.ie&&V.win?["Active"].concat("").join("X"):"PlugIn",a="MMredirectURL="+P.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+L.title;if(typeof t.flashvars!=M?t.flashvars+="&"+a:t.flashvars=a,V.ie&&V.win&&4!=i.readyState){var s=m("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function l(e){if(V.ie&&V.win&&4!=e.readyState){var t=m("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=m("div");if(V.win&&V.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(D)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;i>o;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||t.appendChild(r[o].cloneNode(!0))}}return t}function d(e,t,n){var r,i=g(n);if(V.wk&&V.wk<312)return r;if(i)if(typeof e.id==M&&(e.id=n),V.ie&&V.win){var o="";for(var a in e)e[a]!=Object.prototype[a]&&("data"==a.toLowerCase()?t.movie=e[a]:"styleclass"==a.toLowerCase()?o+=' class="'+e[a]+'"':"classid"!=a.toLowerCase()&&(o+=" "+a+'="'+e[a]+'"'));var s="";for(var c in t)t[c]!=Object.prototype[c]&&(s+='<param name="'+c+'" value="'+t[c]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+s+"</object>",F[F.length]=e.id,r=g(e.id)}else{var l=m(D);l.setAttribute("type",I);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?l.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&l.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&f(l,d,t[d]);i.parentNode.replaceChild(l,i),r=l}return r}function f(e,t,n){var r=m("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function h(e){var t=g(e);t&&"OBJECT"==t.nodeName&&(V.ie&&V.win?(t.style.display="none",function(){4==t.readyState?p(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function p(e){var t=g(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function g(e){var t=null;try{t=L.getElementById(e)}catch(n){}return t}function m(e){return L.createElement(e)}function v(e,t,n){e.attachEvent(t,n),W[W.length]=[e,t,n]}function y(e){var t=V.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function b(e,t,n,r){if(!V.ie||!V.mac){var i=L.getElementsByTagName("head")[0];if(i){var o=n&&"string"==typeof n?n:"screen";if(r&&(S=null,E=null),!S||E!=o){var a=m("style");a.setAttribute("type","text/css"),a.setAttribute("media",o),S=i.appendChild(a),V.ie&&V.win&&typeof L.styleSheets!=M&&L.styleSheets.length>0&&(S=L.styleSheets[L.styleSheets.length-1]),E=o}V.ie&&V.win?S&&typeof S.addRule==D&&S.addRule(e,t):S&&typeof L.createTextNode!=M&&S.appendChild(L.createTextNode(e+" {"+t+"}"))}}}function w(e,t){if(z){var n=t?"visible":"hidden";q&&g(e)?g(e).style.visibility=n:b("#"+e,"visibility:"+n)}}function x(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=M?encodeURIComponent(e):e}var k,C,_,T,S,E,M="undefined",D="object",A="Shockwave Flash",j="ShockwaveFlash.ShockwaveFlash",I="application/x-shockwave-flash",N="SWFObjectExprInst",O="onreadystatechange",P=window,L=document,$=navigator,R=!1,B=[r],H=[],F=[],W=[],q=!1,U=!1,z=!0,V=function(){var e=typeof L.getElementById!=M&&typeof L.getElementsByTagName!=M&&typeof L.createElement!=M,t=$.userAgent.toLowerCase(),n=$.platform.toLowerCase(),r=/win/.test(n?n:t),i=/mac/.test(n?n:t),o=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,a=!1,s=[0,0,0],c=null;if(typeof $.plugins!=M&&typeof $.plugins[A]==D)c=$.plugins[A].description,!c||typeof $.mimeTypes!=M&&$.mimeTypes[I]&&!$.mimeTypes[I].enabledPlugin||(R=!0,a=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof P[["Active"].concat("Object").join("X")]!=M)try{var l=new(window[["Active"].concat("Object").join("X")])(j);l&&(c=l.GetVariable("$version"),c&&(a=!0,c=c.split(" ")[1].split(","),s=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]))}catch(u){}return{w3:e,pv:s,wk:o,ie:a,win:r,mac:i}}();return!function(){V.w3&&((typeof L.readyState!=M&&"complete"==L.readyState||typeof L.readyState==M&&(L.getElementsByTagName("body")[0]||L.body))&&e(),q||(typeof L.addEventListener!=M&&L.addEventListener("DOMContentLoaded",e,!1),V.ie&&V.win&&(L.attachEvent(O,function(){"complete"==L.readyState&&(L.detachEvent(O,arguments.callee),e())}),P==top&&!function(){if(!q){try{L.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),V.wk&&!function(){return q?void 0:/loaded|complete/.test(L.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))}(),function(){V.ie&&V.win&&window.attachEvent("onunload",function(){for(var e=W.length,t=0;e>t;t++)W[t][0].detachEvent(W[t][1],W[t][2]);for(var n=F.length,r=0;n>r;r++)h(F[r]);for(var i in V)V[i]=null;V=null;for(var o in swfobject)swfobject[o]=null;swfobject=null})}(),{registerObject:function(e,t,n,r){if(V.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,H[H.length]=i,w(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){return V.w3?a(e):void 0},embedSWF:function(e,n,r,i,o,a,l,u,f,h){var p={success:!1,id:n};V.w3&&!(V.wk&&V.wk<312)&&e&&n&&r&&i&&o?(w(n,!1),t(function(){r+="",i+="";var t={};if(f&&typeof f===D)for(var g in f)t[g]=f[g];t.data=e,t.width=r,t.height=i;var m={};if(u&&typeof u===D)for(var v in u)m[v]=u[v];if(l&&typeof l===D)for(var b in l)typeof m.flashvars!=M?m.flashvars+="&"+b+"="+l[b]:m.flashvars=b+"="+l[b];if(y(o)){var x=d(t,m,n);t.id==n&&w(n,!0),p.success=!0,p.ref=x}else{if(a&&s())return t.data=a,void c(t,m,n,h);w(n,!0)}h&&h(p)})):h&&h(p)},switchOffAutoHideShow:function(){z=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(e,t,n){return V.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,r){V.w3&&s()&&c(e,t,n,r)},removeSWF:function(e){V.w3&&h(e)},createCSS:function(e,t,n,r){V.w3&&b(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=L.location.search||L.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return x(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return x(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(U){var e=g(N);e&&k&&(e.parentNode.replaceChild(k,e),C&&(w(C,!0),V.ie&&V.win&&(k.style.display="block")),_&&_(T)),U=!1}}}}();!function(){if("undefined"!=typeof window&&!window.WebSocket){var e=window.console;if(e&&e.log&&e.error||(e={log:function(){},error:function(){}}),!swfobject.hasFlashPlayerVersion("10.0.0"))return void e.error("Flash Player >= 10.0.0 is required.");"file:"==location.protocol&&e.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(e,t,n,r,i){var o=this;o.__id=WebSocket.__nextId++,WebSocket.__instances[o.__id]=o,o.readyState=WebSocket.CONNECTING,o.bufferedAmount=0,o.__events={},t?"string"==typeof t&&(t=[t]):t=[],setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(o.__id,e,t,n||null,r||0,i||null)
})},0)},WebSocket.prototype.send=function(e){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket.__flash.send(this.__id,encodeURIComponent(e));return 0>t?!0:(this.bufferedAmount+=t,!1)},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(e,t){e in this.__events||(this.__events[e]=[]),this.__events[e].push(t)},WebSocket.prototype.removeEventListener=function(e,t){if(e in this.__events)for(var n=this.__events[e],r=n.length-1;r>=0;--r)if(n[r]===t){n.splice(r,1);break}},WebSocket.prototype.dispatchEvent=function(e){for(var t=this.__events[e.type]||[],n=0;n<t.length;++n)t[n](e);var r=this["on"+e.type];r&&r(e)},WebSocket.prototype.__handleEvent=function(e){"readyState"in e&&(this.readyState=e.readyState),"protocol"in e&&(this.protocol=e.protocol);var t;if("open"==e.type||"error"==e.type)t=this.__createSimpleEvent(e.type);else if("close"==e.type)t=this.__createSimpleEvent("close");else{if("message"!=e.type)throw"unknown event type: "+e.type;var n=decodeURIComponent(e.message);t=this.__createMessageEvent("message",n)}this.dispatchEvent(t)},WebSocket.prototype.__createSimpleEvent=function(e){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(e,!1,!1),t}return{type:e,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(e,t){if(document.createEvent&&window.MessageEvent&&!window.opera){var n=document.createEvent("MessageEvent");return n.initMessageEvent("message",!1,!1,t,null,null,window,null),n}return{type:e,data:t,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(e){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(e)})},WebSocket.__initialize=function(){if(!WebSocket.__flash){if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),!window.WEB_SOCKET_SWF_LOCATION)return void e.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");var t=document.createElement("div");t.id="webSocketContainer",t.style.position="absolute",WebSocket.__isFlashLite()?(t.style.left="0px",t.style.top="0px"):(t.style.left="-100px",t.style.top="-100px");var n=document.createElement("div");n.id="webSocketFlash",t.appendChild(n),document.body.appendChild(t),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(t){t.success||e.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var e=0;e<WebSocket.__tasks.length;++e)WebSocket.__tasks[e]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{for(var t=WebSocket.__flash.receiveEvents(),n=0;n<t.length;++n)WebSocket.__instances[t[n].webSocketId].__handleEvent(t[n])}catch(r){e.error(r)}},0),!0},WebSocket.__log=function(t){e.log(decodeURIComponent(t))},WebSocket.__error=function(t){e.error(decodeURIComponent(t))},WebSocket.__addTask=function(e){WebSocket.__flash?e():WebSocket.__tasks.push(e)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var e=window.navigator.mimeTypes["application/x-shockwave-flash"];return e&&e.enabledPlugin&&e.enabledPlugin.filename&&e.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))}}(),function(e,t,n){function r(e){e&&(t.Transport.apply(this,arguments),this.sendBuffer=[])}function i(){}e.XHR=r,t.util.inherit(r,t.Transport),r.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},r.prototype.payload=function(e){for(var n=[],r=0,i=e.length;i>r;r++)n.push(t.parser.encodePacket(e[r]));this.send(t.parser.encodePayload(n))},r.prototype.send=function(e){return this.post(e),this},r.prototype.post=function(e){function t(){4==this.readyState&&(this.onreadystatechange=i,o.posting=!1,200==this.status?o.socket.setBuffer(!1):o.onClose())}function r(){this.onload=i,o.socket.setBuffer(!1)}var o=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=r:this.sendXHR.onreadystatechange=t,this.sendXHR.send(e)},r.prototype.close=function(){return this.onClose(),this},r.prototype.request=function(e){var n=t.util.request(this.socket.isXDomain()),r=t.util.query(this.socket.options.query,"t="+ +new Date);if(n.open(e||"GET",this.prepareUrl()+r,!0),"POST"==e)try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(i){}return n},r.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},r.check=function(e,r){try{var i=t.util.request(r),o=n.XDomainRequest&&i instanceof XDomainRequest,a=e&&e.options&&e.options.secure?"https:":"http:",s=n.location&&a!=n.location.protocol;if(i&&(!o||!s))return!0}catch(c){}return!1},r.xdomainCheck=function(e){return r.check(e,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(){t.Transport.XHR.apply(this,arguments)}e.htmlfile=n,t.util.inherit(n,t.Transport.XHR),n.prototype.name="htmlfile",n.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var e=this.doc.createElement("div");e.className="socketio",this.doc.body.appendChild(e),this.iframe=this.doc.createElement("iframe"),e.appendChild(this.iframe);var n=this,r=t.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+r,t.util.on(window,"unload",function(){n.destroy()})},n.prototype._=function(e,t){e=e.replace(/\\\//g,"/"),this.onData(e);try{var n=t.getElementsByTagName("script")[0];n.parentNode.removeChild(n)}catch(r){}},n.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},n.prototype.close=function(){return this.destroy(),t.Transport.XHR.prototype.close.call(this)},n.check=function(e){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{var n=new(window[["Active"].concat("Object").join("X")])("htmlfile");return n&&t.Transport.XHR.check(e)}catch(r){}return!1},n.xdomainCheck=function(){return!1},t.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(){t.Transport.XHR.apply(this,arguments)}function i(){}e["xhr-polling"]=r,t.util.inherit(r,t.Transport.XHR),t.util.merge(r,t.Transport.XHR),r.prototype.name="xhr-polling",r.prototype.heartbeats=function(){return!1},r.prototype.open=function(){var e=this;return t.Transport.XHR.prototype.open.call(e),!1},r.prototype.get=function(){function e(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(o.onData(this.responseText),o.get()):o.onClose())}function t(){this.onload=i,this.onerror=i,o.retryCounter=1,o.onData(this.responseText),o.get()}function r(){o.retryCounter++,!o.retryCounter||o.retryCounter>3?o.onClose():o.get()}if(this.isOpen){var o=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=t,this.xhr.onerror=r):this.xhr.onreadystatechange=e,this.xhr.send(null)}},r.prototype.onClose=function(){if(t.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort()}catch(e){}this.xhr=null}},r.prototype.ready=function(e,n){var r=this;t.util.defer(function(){n.call(r)})},t.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t,n){function r(){t.Transport["xhr-polling"].apply(this,arguments),this.index=t.j.length;var e=this;t.j.push(function(t){e._(t)})}var i=n.document&&"MozAppearance"in n.document.documentElement.style;e["jsonp-polling"]=r,t.util.inherit(r,t.Transport["xhr-polling"]),r.prototype.name="jsonp-polling",r.prototype.post=function(e){function n(){r(),i.socket.setBuffer(!1)}function r(){i.iframe&&i.form.removeChild(i.iframe);try{a=document.createElement('<iframe name="'+i.iframeId+'">')}catch(e){a=document.createElement("iframe"),a.name=i.iframeId}a.id=i.iframeId,i.form.appendChild(a),i.iframe=a}var i=this,o=t.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var a,s=document.createElement("form"),c=document.createElement("textarea"),l=this.iframeId="socketio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.display="none",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),c.name="d",s.appendChild(c),document.body.appendChild(s),this.form=s,this.area=c}this.form.action=this.prepareUrl()+o,r(),this.area.value=t.JSON.stringify(e);try{this.form.submit()}catch(u){}this.iframe.attachEvent?a.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n,this.socket.setBuffer(!0)},r.prototype.get=function(){var e=this,n=document.createElement("script"),r=t.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.prepareUrl()+r,n.onerror=function(){e.onClose()};var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),this.script=n,i&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype._=function(e){return this.onData(e),this.isOpen&&this.get(),this},r.prototype.ready=function(e,n){var r=this;return i?void t.util.load(function(){n.call(r)}):n.call(this)},r.check=function(){return"document"in n},r.xdomainCheck=function(){return!0},t.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return io}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()}).call(exports,__webpack_require__(22)(module))},function(e){!function(t,n){"use strict";e.exports=n()}(this,function(){"use strict";function e(e,t){this.fsm=e,this.name=t}function t(e,t){this.type=e,this.args=t}var n=function(e){if(!e)throw new Error("Assertion failed.")},r={run:function(e){e=e||{},this.debug=e.debug?e.debug:function(){},this.construct(this.initialState),this.init(null)},construct:function(e){this.myState=this.top(),this.mySource=this.state("Initial"),this.states.Initial={empty:function(){this.newInitialState(e)}};var t=function(){return null};this.states.TOP={entry:t,exit:t,init:t,empty:t},this.flatten()},init:function(e){n(this.myState===this.top()&&null!==this.mySource);var t=this.myState;for(this.mySource.trigger(e),n(t.equals(this.myState.superstate())),t=this.myState,t.enter();null===t.init();)n(t.equals(this.myState.superstate())),t=this.myState,t.enter()},state:function(t){return t&&t instanceof e?t:new e(this,t)},top:function(){return this._topState||(this._topState=new e(this,"TOP"))},currentState:function(){return this.myState},flatten:function(){this.statesTable=this.statesTable||{},this._flatten(this.states,this.top().name)},_flatten:function(e,t){if(e)for(var n in e)e.hasOwnProperty(n)&&(this.statesTable[n]=e[n],this.statesTable[n].parent=t,this._flatten(e[n].states,n))},selectState:function(e){return this.statesTable[e]},dispatchEvent:function(e,t,n){if(n=n||t[e.type],n instanceof Array)for(var r=0;r<n.length;r++)this.dispatchEvent(e,t,n[r]);if("init"===e.type&&"string"==typeof n)return this.newInitialState(n),null;if(n instanceof Function)return n.call(this,e.args),null;if(n){if(!n.guard||n.guard&&n.guard.call(this,e.args))return n.action&&n.action.call(this,e.args),n.target&&this.newState(n.target),null}else if(t===this.selectState("TOP"))return this.handleUnhandledEvent(e),null;return this.state(t.parent)},handleUnhandledEvent:function(e){return this.debug("Unhandled event: "+e.type),null},dispatch:function(e,n){for(e&&e instanceof t||(e=new t(e,n)),this.mySource=this.myState;this.mySource;)this.mySource=this.mySource.trigger(e)},newState:function(e){this.transition(this.state(e))},newInitialState:function(e){return this.myState=this.state(e),null},transition:function(e){n(!e.equals(this.top()));var t=[],r=this.mySource,i=this.myState;for(n(null!==i),n(null!==r);!i.equals(r);)i=i.exit()||i.superstate();if(t.push(e),r.equals(e))return r.exit(),this.enterVia(e,t);var o=e.superstate();if(r.equals(o))return this.enterVia(e,t);n(null!==r);var a=r.superstate();if(a.equals(o))return r.exit(),this.enterVia(e,t);if(a.equals(e))return r.exit(),t.pop(),this.enterVia(e,t);for(t.push(o),i=o.superstate();null!==i;){if(r.equals(i))return this.enterVia(e,t);t.push(i),i=i.superstate()}r.exit();var s,c=t.length;for(s=c-1;s>=0;s-=1)if(a.equals(t[s]))return this.enterVia(e,t.slice(0,s));for(i=a;null!==i;){for(s=c-1;s>=0;s-=1)if(i.equals(t[s]))return this.enterVia(e,t.slice(0,s));i.exit(),i=i.superstate()}},enterVia:function(e,t){for(var r=t.length;r>0;)r--,t[r].enter();for(this.myState=e;null===e.init();)n(e.equals(this.myState.superstate())),e=this.myState,e.enter()}};e.prototype={equals:function(e){return this.name===e.name&&this.fsm===e.fsm},dispatchEvent:function(e,t){return this.fsm.dispatchEvent(e,t)},trigger:function(e){var t=e||s,n=this.fsm.selectState(this.name);return this.dispatchEvent(t,n)},enter:function(){return this.fsm.debug("["+this.name+"] enter"),this.trigger(i)},exit:function(){return this.fsm.debug("["+this.name+"] exit"),this.trigger(o)},init:function(){return this.fsm.debug("["+this.name+"] init"),this.trigger(a)},superstate:function(){var t=this.trigger(s);return t&&t instanceof e?t:(t=this.fsm.top(),this.name===t.name?null:t)}};var i=new t("entry"),o=new t("exit"),a=new t("init"),s=new t("empty");return r})},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])}),function(e){var t,n,r="0.4.2",i="hasOwnProperty",o=/[\.\/]/,a="*",s=function(){},c=function(e,t){return e-t},l={n:{}},u=function(e,r){e=String(e);var i,o=n,a=Array.prototype.slice.call(arguments,2),s=u.listeners(e),l=0,d=[],f={},h=[],p=t;t=e,n=0;for(var g=0,m=s.length;m>g;g++)"zIndex"in s[g]&&(d.push(s[g].zIndex),s[g].zIndex<0&&(f[s[g].zIndex]=s[g]));for(d.sort(c);d[l]<0;)if(i=f[d[l++]],h.push(i.apply(r,a)),n)return n=o,h;for(g=0;m>g;g++)if(i=s[g],"zIndex"in i)if(i.zIndex==d[l]){if(h.push(i.apply(r,a)),n)break;do if(l++,i=f[d[l]],i&&h.push(i.apply(r,a)),n)break;while(i)}else f[i.zIndex]=i;else if(h.push(i.apply(r,a)),n)break;return n=o,t=p,h.length?h:null};u._events=l,u.listeners=function(e){var t,n,r,i,s,c,u,d,f=e.split(o),h=l,p=[h],g=[];for(i=0,s=f.length;s>i;i++){for(d=[],c=0,u=p.length;u>c;c++)for(h=p[c].n,n=[h[f[i]],h[a]],r=2;r--;)t=n[r],t&&(d.push(t),g=g.concat(t.f||[]));p=d}return g},u.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(o),r=l,i=0,a=n.length;a>i;i++)r=r.n,r=r.hasOwnProperty(n[i])&&r[n[i]]||(r[n[i]]={n:{}});for(r.f=r.f||[],i=0,a=r.f.length;a>i;i++)if(r.f[i]==t)return s;return r.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},u.f=function(e){var t=[].slice.call(arguments,1);return function(){u.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},u.stop=function(){n=1},u.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},u.nts=function(){return t.split(o)},u.off=u.unbind=function(e,t){if(!e)return void(u._events=l={n:{}});var n,r,s,c,d,f,h,p=e.split(o),g=[l];for(c=0,d=p.length;d>c;c++)for(f=0;f<g.length;f+=s.length-2){if(s=[f,1],n=g[f].n,p[c]!=a)n[p[c]]&&s.push(n[p[c]]);else for(r in n)n[i](r)&&s.push(n[r]);g.splice.apply(g,s)}for(c=0,d=g.length;d>c;c++)for(n=g[c];n.n;){if(t){if(n.f){for(f=0,h=n.f.length;h>f;f++)if(n.f[f]==t){n.f.splice(f,1);break}!n.f.length&&delete n.f}for(r in n.n)if(n.n[i](r)&&n.n[r].f){var m=n.n[r].f;for(f=0,h=m.length;h>f;f++)if(m[f]==t){m.splice(f,1);break}!m.length&&delete n.n[r].f}}else{delete n.f;for(r in n.n)n.n[i](r)&&n.n[r].f&&delete n.n[r].f}n=n.n}},u.once=function(e,t){var n=function(){return u.unbind(e,n),t.apply(this,arguments)};return u.on(e,n)},u.version=r,u.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof define?define("eve",[],function(){return u}):e.eve=u}(window||this),function(e,t){"function"==typeof define&&define.amd?define(["eve"],function(n){return t(e,n)}):t(e,e.eve||"function"==typeof require&&require("eve"))}(this,function(e,t){function n(e){if(n.is(e,"function"))return w?e():t.on("raphael.DOMload",e);if(n.is(e,Y))return n._engine.create[D](n,e.splice(0,3+n.is(e[0],z))).add(e);var r=Array.prototype.slice.call(arguments,0);if(n.is(r[r.length-1],"function")){var i=r.pop();return w?i.call(n._engine.create[D](n,r)):t.on("raphael.DOMload",function(){i.call(n._engine.create[D](n,r))})}return n._engine.create[D](n,arguments)}function r(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[T](n)&&(t[n]=r(e[n]));return t}function i(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function o(e,t,n){function r(){var o=Array.prototype.slice.call(arguments,0),a=o.join("␀"),s=r.cache=r.cache||{},c=r.count=r.count||[];return s[T](a)?(i(c,a),n?n(s[a]):s[a]):(c.length>=1e3&&delete s[c.shift()],c.push(a),s[a]=e[D](t,o),n?n(s[a]):s[a])}return r}function a(){return this.hex}function s(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?o[3]={x:+e[0],y:+e[1]}:i-2==r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function c(e,t,n,r,i){var o=-3*t+9*n-9*r+3*i,a=e*o+6*t-12*n+6*r;return e*a-3*t+3*n}function l(e,t,n,r,i,o,a,s,l){null==l&&(l=1),l=l>1?1:0>l?0:l;for(var u=l/2,d=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;d>g;g++){var m=u*f[g]+u,v=c(m,e,n,i,a),y=c(m,t,r,o,s),b=v*v+y*y;p+=h[g]*B.sqrt(b)}return u*p}function u(e,t,n,r,i,o,a,s,c){if(!(0>c||l(e,t,n,r,i,o,a,s)<c)){var u,d=1,f=d/2,h=d-f,p=.01;for(u=l(e,t,n,r,i,o,a,s,h);W(u-c)>p;)f/=2,h+=(c>u?1:-1)*f,u=l(e,t,n,r,i,o,a,s,h);return h}}function d(e,t,n,r,i,o,a,s){if(!(H(e,n)<F(i,a)||F(e,n)>H(i,a)||H(t,r)<F(o,s)||F(t,r)>H(o,s))){var c=(e*r-t*n)*(i-a)-(e-n)*(i*s-o*a),l=(e*r-t*n)*(o-s)-(t-r)*(i*s-o*a),u=(e-n)*(o-s)-(t-r)*(i-a);if(u){var d=c/u,f=l/u,h=+d.toFixed(2),p=+f.toFixed(2);if(!(h<+F(e,n).toFixed(2)||h>+H(e,n).toFixed(2)||h<+F(i,a).toFixed(2)||h>+H(i,a).toFixed(2)||p<+F(t,r).toFixed(2)||p>+H(t,r).toFixed(2)||p<+F(o,s).toFixed(2)||p>+H(o,s).toFixed(2)))return{x:d,y:f}}}}function f(e,t,r){var i=n.bezierBBox(e),o=n.bezierBBox(t);if(!n.isBBoxIntersect(i,o))return r?0:[];for(var a=l.apply(0,e),s=l.apply(0,t),c=H(~~(a/5),1),u=H(~~(s/5),1),f=[],h=[],p={},g=r?0:[],m=0;c+1>m;m++){var v=n.findDotsAtSegment.apply(n,e.concat(m/c));f.push({x:v.x,y:v.y,t:m/c})}for(m=0;u+1>m;m++)v=n.findDotsAtSegment.apply(n,t.concat(m/u)),h.push({x:v.x,y:v.y,t:m/u});for(m=0;c>m;m++)for(var y=0;u>y;y++){var b=f[m],w=f[m+1],x=h[y],k=h[y+1],C=W(w.x-b.x)<.001?"y":"x",_=W(k.x-x.x)<.001?"y":"x",T=d(b.x,b.y,w.x,w.y,x.x,x.y,k.x,k.y);if(T){if(p[T.x.toFixed(4)]==T.y.toFixed(4))continue;p[T.x.toFixed(4)]=T.y.toFixed(4);var S=b.t+W((T[C]-b[C])/(w[C]-b[C]))*(w.t-b.t),E=x.t+W((T[_]-x[_])/(k[_]-x[_]))*(k.t-x.t);S>=0&&1.001>=S&&E>=0&&1.001>=E&&(r?g++:g.push({x:T.x,y:T.y,t1:F(S,1),t2:F(E,1)}))}}return g}function h(e,t,r){e=n._path2curve(e),t=n._path2curve(t);for(var i,o,a,s,c,l,u,d,h,p,g=r?0:[],m=0,v=e.length;v>m;m++){var y=e[m];if("M"==y[0])i=c=y[1],o=l=y[2];else{"C"==y[0]?(h=[i,o].concat(y.slice(1)),i=h[6],o=h[7]):(h=[i,o,i,o,c,l,c,l],i=c,o=l);for(var b=0,w=t.length;w>b;b++){var x=t[b];if("M"==x[0])a=u=x[1],s=d=x[2];else{"C"==x[0]?(p=[a,s].concat(x.slice(1)),a=p[6],s=p[7]):(p=[a,s,a,s,u,d,u,d],a=u,s=d);var k=f(h,p,r);if(r)g+=k;else{for(var C=0,_=k.length;_>C;C++)k[C].segment1=m,k[C].segment2=b,k[C].bez1=h,k[C].bez2=p;g=g.concat(k)}}}}}return g}function p(e,t,n,r,i,o){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+N+this.y+N+this.width+" × "+this.height}function m(e,t,n,r,i,o){function a(e){return((d*e+u)*e+l)*e}function s(e,t){var n=c(e,t);return((p*n+h)*n+f)*n}function c(e,t){var n,r,i,o,s,c;for(i=e,c=0;8>c;c++){if(o=a(i)-e,W(o)<t)return i;if(s=(3*d*i+2*u)*i+l,W(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=e,n>i)return n;if(i>r)return r;for(;r>n;){if(o=a(i),W(o-e)<t)return i;e>o?n=i:r=i,i=(r-n)/2+n}return i}var l=3*t,u=3*(r-t)-l,d=1-l-u,f=3*n,h=3*(i-n)-f,p=1-f-h;return s(e,1/(200*o))}function v(e,t){var n=[],r={};if(this.ms=t,this.times=1,e){for(var i in e)e[T](i)&&(r[K(i)]=e[i],n.push(K(i)));n.sort(dt)}this.anim=r,this.top=n[n.length-1],this.percents=n}function y(e,r,i,o,a,s){i=K(i);var c,l,u,d,f,h,g=e.ms,v={},y={},b={};if(o)for(x=0,C=ln.length;C>x;x++){var w=ln[x];if(w.el.id==r.id&&w.anim==e){w.percent!=i?(ln.splice(x,1),u=1):l=w,r.attr(w.totalOrigin);break}}else o=+y;for(var x=0,C=e.percents.length;C>x;x++){if(e.percents[x]==i||e.percents[x]>o*e.top){i=e.percents[x],f=e.percents[x-1]||0,g=g/e.top*(i-f),d=e.percents[x+1],c=e.anim[i];break}o&&r.attr(e.anim[e.percents[x]])}if(c){if(l)l.initstatus=o,l.start=new Date-l.ms*o;else{for(var _ in c)if(c[T](_)&&(rt[T](_)||r.paper.customAttributes[T](_)))switch(v[_]=r.attr(_),null==v[_]&&(v[_]=nt[_]),y[_]=c[_],rt[_]){case z:b[_]=(y[_]-v[_])/g;break;case"colour":v[_]=n.getRGB(v[_]);var S=n.getRGB(y[_]);b[_]={r:(S.r-v[_].r)/g,g:(S.g-v[_].g)/g,b:(S.b-v[_].b)/g};break;case"path":var E=Lt(v[_],y[_]),M=E[1];for(v[_]=E[0],b[_]=[],x=0,C=v[_].length;C>x;x++){b[_][x]=[0];for(var D=1,j=v[_][x].length;j>D;D++)b[_][x][D]=(M[x][D]-v[_][x][D])/g}break;case"transform":var I=r._,N=Ft(I[_],y[_]);if(N)for(v[_]=N.from,y[_]=N.to,b[_]=[],b[_].real=!0,x=0,C=v[_].length;C>x;x++)for(b[_][x]=[v[_][x][0]],D=1,j=v[_][x].length;j>D;D++)b[_][x][D]=(y[_][x][D]-v[_][x][D])/g;else{var L=r.matrix||new p,$={_:{transform:I.transform},getBBox:function(){return r.getBBox(1)}};v[_]=[L.a,L.b,L.c,L.d,L.e,L.f],Bt($,y[_]),y[_]=$._.transform,b[_]=[($.matrix.a-L.a)/g,($.matrix.b-L.b)/g,($.matrix.c-L.c)/g,($.matrix.d-L.d)/g,($.matrix.e-L.e)/g,($.matrix.f-L.f)/g]}break;case"csv":var R=O(c[_])[P](k),B=O(v[_])[P](k);if("clip-rect"==_)for(v[_]=B,b[_]=[],x=B.length;x--;)b[_][x]=(R[x]-v[_][x])/g;y[_]=R;break;default:for(R=[][A](c[_]),B=[][A](v[_]),b[_]=[],x=r.paper.customAttributes[_].length;x--;)b[_][x]=((R[x]||0)-(B[x]||0))/g}var H=c.easing,F=n.easing_formulas[H];if(!F)if(F=O(H).match(Q),F&&5==F.length){var W=F;F=function(e){return m(e,+W[1],+W[2],+W[3],+W[4],g)}}else F=ht;if(h=c.start||e.start||+new Date,w={anim:e,percent:i,timestamp:h,start:h+(e.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:F,from:v,diff:b,to:y,el:r,callback:c.callback,prev:f,next:d,repeat:s||e.times,origin:r.attr(),totalOrigin:a},ln.push(w),o&&!l&&!u&&(w.stop=!0,w.start=new Date-g*o,1==ln.length))return dn();u&&(w.start=new Date-w.ms*o),1==ln.length&&un(dn)}t("raphael.anim.start."+r.id,r,e)}}function b(e){for(var t=0;t<ln.length;t++)ln[t].el.paper==e&&ln.splice(t--,1)}n.version="2.1.2",n.eve=t;var w,x,k=/[, ]+/,C={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},_=/\{(\d+)\}/g,T="hasOwnProperty",S={doc:document,win:e},E={was:Object.prototype[T].call(S.win,"Raphael"),is:S.win.Raphael},M=function(){this.ca=this.customAttributes={}},D="apply",A="concat",j="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,I="",N=" ",O=String,P="split",L="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[P](N),$={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=O.prototype.toLowerCase,B=Math,H=B.max,F=B.min,W=B.abs,q=B.pow,U=B.PI,z="number",V="string",Y="array",G=Object.prototype.toString,X=(n._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),J={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=B.round,K=parseFloat,et=parseInt,tt=O.prototype.toUpperCase,nt=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},rt=n._availableAnimAttrs={blur:z,"clip-rect":"csv",cx:z,cy:z,fill:"colour","fill-opacity":z,"font-size":z,height:z,opacity:z,path:"path",r:z,rx:z,ry:z,stroke:"colour","stroke-opacity":z,"stroke-width":z,transform:"transform",width:z,x:z,y:z},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ot={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ut=(n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),dt=function(e,t){return K(e)-K(t)},ft=function(){},ht=function(e){return e},pt=n._rectPath=function(e,t,n,r,i){return i?[["M",e+i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},gt=function(e,t,n,r){return null==r&&(r=n),[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},mt=n._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return gt(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return gt(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return pt(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return pt(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return pt(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return pt(t.x,t.y,t.width,t.height)}},vt=n.mapPath=function(e,t){if(!t)return e;var n,r,i,o,a,s,c;for(e=Lt(e),i=0,a=e.length;a>i;i++)for(c=e[i],o=1,s=c.length;s>o;o+=2)n=t.x(c[o],c[o+1]),r=t.y(c[o],c[o+1]),c[o]=n,c[o+1]=r;return e};if(n._g=S,n.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==n.type){var yt,bt=S.doc.createElement("div");if(bt.innerHTML='<v:shape adj="1"/>',yt=bt.firstChild,yt.style.behavior="url(#default#VML)",!yt||"object"!=typeof yt.adj)return n.type=I;bt=null}n.svg=!(n.vml="VML"==n.type),n._Paper=M,n.fn=x=M.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(e,t){return t=R.call(t),"finite"==t?!J[T](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||G.call(e).slice(8,-1).toLowerCase()==t},n.angle=function(e,t,r,i,o,a){if(null==o){var s=e-r,c=t-i;return s||c?(180+180*B.atan2(-c,-s)/U+360)%360:0}return n.angle(e,t,o,a)-n.angle(r,i,o,a)},n.rad=function(e){return e%360*U/180},n.deg=function(e){return Math.round(180*e/U%360*1e3)/1e3},n.snapTo=function(e,t,r){if(r=n.is(r,"finite")?r:10,n.is(e,Y)){for(var i=e.length;i--;)if(W(e[i]-t)<=r)return e[i]}else{e=+e;var o=t%e;if(r>o)return t-o;if(o>e-r)return t-o+e}return t};n.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=16*B.random()|0,n="x"==e?t:3&t|8;return n.toString(16)});n.setWindow=function(e){t("raphael.setWindow",n,S.win,e),S.win=e,S.doc=S.win.document,n._engine.initWin&&n._engine.initWin(S.win)};var wt=function(e){if(n.vml){var t,r=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),t=i.body}catch(a){t=createPopup().document.body}var s=t.createTextRange();wt=o(function(e){try{t.style.color=O(e).replace(r,I);var n=s.queryCommandValue("ForeColor");return n=(255&n)<<16|65280&n|(16711680&n)>>>16,"#"+("000000"+n.toString(16)).slice(-6)}catch(i){return"none"}})}else{var c=S.doc.createElement("i");c.title="Raphaël Colour Picker",c.style.display="none",S.doc.body.appendChild(c),wt=o(function(e){return c.style.color=e,S.doc.defaultView.getComputedStyle(c,I).getPropertyValue("color")})}return wt(e)},xt=function(){return"hsb("+[this.h,this.s,this.b]+")"},kt=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ct=function(){return this.hex},_t=function(e,t,r){if(null==t&&n.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,t=e.g,e=e.r),null==t&&n.is(e,V)){var i=n.getRGB(e);e=i.r,t=i.g,r=i.b}return(e>1||t>1||r>1)&&(e/=255,t/=255,r/=255),[e,t,r]
},Tt=function(e,t,r,i){e*=255,t*=255,r*=255;var o={r:e,g:t,b:r,hex:n.rgb(e,t,r),toString:Ct};return n.is(i,"finite")&&(o.opacity=i),o};n.color=function(e){var t;return n.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):n.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(n.is(e,"string")&&(e=n.getRGB(e)),n.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=Ct,e},n.hsb2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,r=e.o,e=e.h),e*=360;var i,o,a,s,c;return e=e%360/60,c=n*t,s=c*(1-W(e%2-1)),i=o=a=n-c,e=~~e,i+=[c,s,0,0,s,c][e],o+=[s,c,c,s,0,0][e],a+=[0,0,s,c,c,s][e],Tt(i,o,a,r)},n.hsl2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var i,o,a,s,c;return e=e%360/60,c=2*t*(.5>n?n:1-n),s=c*(1-W(e%2-1)),i=o=a=n-c/2,e=~~e,i+=[c,s,0,0,s,c][e],o+=[s,c,c,s,0,0][e],a+=[0,0,s,c,c,s][e],Tt(i,o,a,r)},n.rgb2hsb=function(e,t,n){n=_t(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,o,a;return o=H(e,t,n),a=o-F(e,t,n),r=0==a?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:xt}},n.rgb2hsl=function(e,t,n){n=_t(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,o,a,s,c;return a=H(e,t,n),s=F(e,t,n),c=a-s,r=0==c?null:a==e?(t-n)/c:a==t?(n-e)/c+2:(e-t)/c+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==c?0:.5>o?c/(2*o):c/(2-2*o),{h:r,s:i,l:o,toString:kt}},n._path2string=function(){return this.join(",").replace(at,"$1")};n._preload=function(e,t){var n=S.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,S.doc.body.removeChild(this)},n.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(n),n.src=e};n.getRGB=o(function(e){if(!e||(e=O(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(ot[T](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=wt(e));var t,r,i,o,s,c,l=e.match(X);return l?(l[2]&&(i=et(l[2].substring(5),16),r=et(l[2].substring(3,5),16),t=et(l[2].substring(1,3),16)),l[3]&&(i=et((s=l[3].charAt(3))+s,16),r=et((s=l[3].charAt(2))+s,16),t=et((s=l[3].charAt(1))+s,16)),l[4]&&(c=l[4][P](it),t=K(c[0]),"%"==c[0].slice(-1)&&(t*=2.55),r=K(c[1]),"%"==c[1].slice(-1)&&(r*=2.55),i=K(c[2]),"%"==c[2].slice(-1)&&(i*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(o=K(c[3])),c[3]&&"%"==c[3].slice(-1)&&(o/=100)),l[5]?(c=l[5][P](it),t=K(c[0]),"%"==c[0].slice(-1)&&(t*=2.55),r=K(c[1]),"%"==c[1].slice(-1)&&(r*=2.55),i=K(c[2]),"%"==c[2].slice(-1)&&(i*=2.55),("deg"==c[0].slice(-3)||"°"==c[0].slice(-1))&&(t/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(o=K(c[3])),c[3]&&"%"==c[3].slice(-1)&&(o/=100),n.hsb2rgb(t,r,i,o)):l[6]?(c=l[6][P](it),t=K(c[0]),"%"==c[0].slice(-1)&&(t*=2.55),r=K(c[1]),"%"==c[1].slice(-1)&&(r*=2.55),i=K(c[2]),"%"==c[2].slice(-1)&&(i*=2.55),("deg"==c[0].slice(-3)||"°"==c[0].slice(-1))&&(t/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(o=K(c[3])),c[3]&&"%"==c[3].slice(-1)&&(o/=100),n.hsl2rgb(t,r,i,o)):(l={r:t,g:r,b:i,toString:a},l.hex="#"+(16777216|i|r<<8|t<<16).toString(16).slice(1),n.is(o,"finite")&&(l.opacity=o),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},n),n.hsb=o(function(e,t,r){return n.hsb2rgb(e,t,r).hex}),n.hsl=o(function(e,t,r){return n.hsl2rgb(e,t,r).hex}),n.rgb=o(function(e,t,n){return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)}),n.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=function(e){if(!e)return null;var t=St(e);if(t.arr)return Mt(t.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return n.is(e,Y)&&n.is(e[0],Y)&&(i=Mt(e)),i.length||O(e).replace(st,function(e,t,n){var o=[],a=t.toLowerCase();if(n.replace(lt,function(e,t){t&&o.push(+t)}),"m"==a&&o.length>2&&(i.push([t][A](o.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)i.push([t][A](o));else for(;o.length>=r[a]&&(i.push([t][A](o.splice(0,r[a]))),r[a]););}),i.toString=n._path2string,t.arr=Mt(i),i},n.parseTransformString=o(function(e){if(!e)return null;var t=[];return n.is(e,Y)&&n.is(e[0],Y)&&(t=Mt(e)),t.length||O(e).replace(ct,function(e,n,r){{var i=[];R.call(n)}r.replace(lt,function(e,t){t&&i.push(+t)}),t.push([n][A](i))}),t.toString=n._path2string,t});var St=function(e){var t=St.ps=St.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[T](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]};n.findDotsAtSegment=function(e,t,n,r,i,o,a,s,c){var l=1-c,u=q(l,3),d=q(l,2),f=c*c,h=f*c,p=u*e+3*d*c*n+3*l*c*c*i+h*a,g=u*t+3*d*c*r+3*l*c*c*o+h*s,m=e+2*c*(n-e)+f*(i-2*n+e),v=t+2*c*(r-t)+f*(o-2*r+t),y=n+2*c*(i-n)+f*(a-2*i+n),b=r+2*c*(o-r)+f*(s-2*o+r),w=l*e+c*n,x=l*t+c*r,k=l*i+c*a,C=l*o+c*s,_=90-180*B.atan2(m-y,v-b)/U;return(m>y||b>v)&&(_+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:k,y:C},alpha:_}},n.bezierBBox=function(e,t,r,i,o,a,s,c){n.is(e,"array")||(e=[e,t,r,i,o,a,s,c]);var l=Pt.apply(null,e);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},n.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},n.isBBoxIntersect=function(e,t){var r=n.isPointInsideBBox;return r(t,e.x,e.y)||r(t,e.x2,e.y)||r(t,e.x,e.y2)||r(t,e.x2,e.y2)||r(e,t.x,t.y)||r(e,t.x2,t.y)||r(e,t.x,t.y2)||r(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},n.pathIntersection=function(e,t){return h(e,t)},n.pathIntersectionNumber=function(e,t){return h(e,t,1)},n.isPointInsidePath=function(e,t,r){var i=n.pathBBox(e);return n.isPointInsideBBox(i,t,r)&&h(e,[["M",t,r],["H",i.x2+10]],1)%2==1},n._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Et=n.pathBBox=function(e){var t=St(e);if(t.bbox)return r(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=Lt(e);for(var n,i=0,o=0,a=[],s=[],c=0,l=e.length;l>c;c++)if(n=e[c],"M"==n[0])i=n[1],o=n[2],a.push(i),s.push(o);else{var u=Pt(i,o,n[1],n[2],n[3],n[4],n[5],n[6]);a=a[A](u.min.x,u.max.x),s=s[A](u.min.y,u.max.y),i=n[5],o=n[6]}var d=F[D](0,a),f=F[D](0,s),h=H[D](0,a),p=H[D](0,s),g=h-d,m=p-f,v={x:d,y:f,x2:h,y2:p,width:g,height:m,cx:d+g/2,cy:f+m/2};return t.bbox=r(v),v},Mt=function(e){var t=r(e);return t.toString=n._path2string,t},Dt=n._pathToRelative=function(e){var t=St(e);if(t.rel)return Mt(t.rel);n.is(e,Y)&&n.is(e&&e[0],Y)||(e=n.parsePathString(e));var r=[],i=0,o=0,a=0,s=0,c=0;"M"==e[0][0]&&(i=e[0][1],o=e[0][2],a=i,s=o,c++,r.push(["M",i,o]));for(var l=c,u=e.length;u>l;l++){var d=r[l]=[],f=e[l];if(f[0]!=R.call(f[0]))switch(d[0]=R.call(f[0]),d[0]){case"a":d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=+(f[6]-i).toFixed(3),d[7]=+(f[7]-o).toFixed(3);break;case"v":d[1]=+(f[1]-o).toFixed(3);break;case"m":a=f[1],s=f[2];default:for(var h=1,p=f.length;p>h;h++)d[h]=+(f[h]-(h%2?i:o)).toFixed(3)}else{d=r[l]=[],"m"==f[0]&&(a=f[1]+i,s=f[2]+o);for(var g=0,m=f.length;m>g;g++)r[l][g]=f[g]}var v=r[l].length;switch(r[l][0]){case"z":i=a,o=s;break;case"h":i+=+r[l][v-1];break;case"v":o+=+r[l][v-1];break;default:i+=+r[l][v-2],o+=+r[l][v-1]}}return r.toString=n._path2string,t.rel=Mt(r),r},At=n._pathToAbsolute=function(e){var t=St(e);if(t.abs)return Mt(t.abs);if(n.is(e,Y)&&n.is(e&&e[0],Y)||(e=n.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],i=0,o=0,a=0,c=0,l=0;"M"==e[0][0]&&(i=+e[0][1],o=+e[0][2],a=i,c=o,l++,r[0]=["M",i,o]);for(var u,d,f=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),h=l,p=e.length;p>h;h++){if(r.push(u=[]),d=e[h],d[0]!=tt.call(d[0]))switch(u[0]=tt.call(d[0]),u[0]){case"A":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]+i),u[7]=+(d[7]+o);break;case"V":u[1]=+d[1]+o;break;case"H":u[1]=+d[1]+i;break;case"R":for(var g=[i,o][A](d.slice(1)),m=2,v=g.length;v>m;m++)g[m]=+g[m]+i,g[++m]=+g[m]+o;r.pop(),r=r[A](s(g,f));break;case"M":a=+d[1]+i,c=+d[2]+o;default:for(m=1,v=d.length;v>m;m++)u[m]=+d[m]+(m%2?i:o)}else if("R"==d[0])g=[i,o][A](d.slice(1)),r.pop(),r=r[A](s(g,f)),u=["R"][A](d.slice(-2));else for(var y=0,b=d.length;b>y;y++)u[y]=d[y];switch(u[0]){case"Z":i=a,o=c;break;case"H":i=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],c=u[u.length-1];default:i=u[u.length-2],o=u[u.length-1]}}return r.toString=n._path2string,t.abs=Mt(r),r},jt=function(e,t,n,r){return[e,t,n,r,n,r]},It=function(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]},Nt=function(e,t,n,r,i,a,s,c,l,u){var d,f=120*U/180,h=U/180*(+i||0),p=[],g=o(function(e,t,n){var r=e*B.cos(n)-t*B.sin(n),i=e*B.sin(n)+t*B.cos(n);return{x:r,y:i}});if(u)_=u[0],T=u[1],k=u[2],C=u[3];else{d=g(e,t,-h),e=d.x,t=d.y,d=g(c,l,-h),c=d.x,l=d.y;var m=(B.cos(U/180*i),B.sin(U/180*i),(e-c)/2),v=(t-l)/2,y=m*m/(n*n)+v*v/(r*r);y>1&&(y=B.sqrt(y),n=y*n,r=y*r);var b=n*n,w=r*r,x=(a==s?-1:1)*B.sqrt(W((b*w-b*v*v-w*m*m)/(b*v*v+w*m*m))),k=x*n*v/r+(e+c)/2,C=x*-r*m/n+(t+l)/2,_=B.asin(((t-C)/r).toFixed(9)),T=B.asin(((l-C)/r).toFixed(9));_=k>e?U-_:_,T=k>c?U-T:T,0>_&&(_=2*U+_),0>T&&(T=2*U+T),s&&_>T&&(_-=2*U),!s&&T>_&&(T-=2*U)}var S=T-_;if(W(S)>f){var E=T,M=c,D=l;T=_+f*(s&&T>_?1:-1),c=k+n*B.cos(T),l=C+r*B.sin(T),p=Nt(c,l,n,r,i,0,s,M,D,[T,E,k,C])}S=T-_;var j=B.cos(_),I=B.sin(_),N=B.cos(T),O=B.sin(T),L=B.tan(S/4),$=4/3*n*L,R=4/3*r*L,H=[e,t],F=[e+$*I,t-R*j],q=[c+$*O,l-R*N],z=[c,l];if(F[0]=2*H[0]-F[0],F[1]=2*H[1]-F[1],u)return[F,q,z][A](p);p=[F,q,z][A](p).join()[P](",");for(var V=[],Y=0,G=p.length;G>Y;Y++)V[Y]=Y%2?g(p[Y-1],p[Y],h).y:g(p[Y],p[Y+1],h).x;return V},Ot=function(e,t,n,r,i,o,a,s,c){var l=1-c;return{x:q(l,3)*e+3*q(l,2)*c*n+3*l*c*c*i+q(c,3)*a,y:q(l,3)*t+3*q(l,2)*c*r+3*l*c*c*o+q(c,3)*s}},Pt=o(function(e,t,n,r,i,o,a,s){var c,l=i-2*n+e-(a-2*i+n),u=2*(n-e)-2*(i-n),d=e-n,f=(-u+B.sqrt(u*u-4*l*d))/2/l,h=(-u-B.sqrt(u*u-4*l*d))/2/l,p=[t,s],g=[e,a];return W(f)>"1e12"&&(f=.5),W(h)>"1e12"&&(h=.5),f>0&&1>f&&(c=Ot(e,t,n,r,i,o,a,s,f),g.push(c.x),p.push(c.y)),h>0&&1>h&&(c=Ot(e,t,n,r,i,o,a,s,h),g.push(c.x),p.push(c.y)),l=o-2*r+t-(s-2*o+r),u=2*(r-t)-2*(o-r),d=t-r,f=(-u+B.sqrt(u*u-4*l*d))/2/l,h=(-u-B.sqrt(u*u-4*l*d))/2/l,W(f)>"1e12"&&(f=.5),W(h)>"1e12"&&(h=.5),f>0&&1>f&&(c=Ot(e,t,n,r,i,o,a,s,f),g.push(c.x),p.push(c.y)),h>0&&1>h&&(c=Ot(e,t,n,r,i,o,a,s,h),g.push(c.x),p.push(c.y)),{min:{x:F[D](0,g),y:F[D](0,p)},max:{x:H[D](0,g),y:H[D](0,p)}}}),Lt=n._path2curve=o(function(e,t){var n=!t&&St(e);if(!t&&n.curve)return Mt(n.curve);for(var r=At(e),i=t&&At(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(e,t,n){var r,i,o={T:1,Q:1};if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in o)&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][A](Nt[D](0,[t.x,t.y][A](e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i][A](e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][A](It(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][A](It(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][A](jt(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][A](jt(t.x,t.y,e[1],t.y));break;case"V":e=["C"][A](jt(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][A](jt(t.x,t.y,t.X,t.Y))}return e}),c=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)u[t]="A",i&&(d[t]="A"),e.splice(t++,0,["C"][A](n.splice(0,6)));e.splice(t,1),g=H(r.length,i&&i.length||0)}},l=function(e,t,n,o,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],g=H(r.length,i&&i.length||0))},u=[],d=[],f="",h="",p=0,g=H(r.length,i&&i.length||0);g>p;p++){r[p]&&(f=r[p][0]),"C"!=f&&(u[p]=f,p&&(h=u[p-1])),r[p]=s(r[p],o,h),"A"!=u[p]&&"C"==f&&(u[p]="C"),c(r,p),i&&(i[p]&&(f=i[p][0]),"C"!=f&&(d[p]=f,p&&(h=d[p-1])),i[p]=s(i[p],a,h),"A"!=d[p]&&"C"==f&&(d[p]="C"),c(i,p)),l(r,i,o,a,p),l(i,r,a,o,p);var m=r[p],v=i&&i[p],y=m.length,b=i&&v.length;o.x=m[y-2],o.y=m[y-1],o.bx=K(m[y-4])||o.x,o.by=K(m[y-3])||o.y,a.bx=i&&(K(v[b-4])||a.x),a.by=i&&(K(v[b-3])||a.y),a.x=i&&v[b-2],a.y=i&&v[b-1]}return i||(n.curve=Mt(r)),i?[r,i]:r},null,Mt),$t=(n._parseDots=o(function(e){for(var t=[],r=0,i=e.length;i>r;r++){var o={},a=e[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=n.getRGB(a[1]),o.color.error)return null;o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),t.push(o)}for(r=1,i=t.length-1;i>r;r++)if(!t[r].offset){for(var s=K(t[r-1].offset||0),c=0,l=r+1;i>l;l++)if(t[l].offset){c=t[l].offset;break}c||(c=100,l=i),c=K(c);for(var u=(c-s)/(l-r+1);l>r;r++)s+=u,t[r].offset=s+"%"}return t}),n._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Rt=(n._tofront=function(e,t){t.top!==e&&($t(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},n._toback=function(e,t){t.bottom!==e&&($t(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},n._insertafter=function(e,t,n){$t(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},n._insertbefore=function(e,t,n){$t(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},n.toMatrix=function(e,t){var n=Et(e),r={_:{transform:I},getBBox:function(){return n}};return Bt(r,t),r.matrix}),Bt=(n.transformPath=function(e,t){return vt(e,Rt(e,t))},n._extractTransform=function(e,t){if(null==t)return e._.transform;t=O(t).replace(/\.{3}|\u2026/g,e._.transform||I);var r=n.parseTransformString(t),i=0,o=0,a=0,s=1,c=1,l=e._,u=new p;if(l.transform=r||[],r)for(var d=0,f=r.length;f>d;d++){var h,g,m,v,y,b=r[d],w=b.length,x=O(b[0]).toLowerCase(),k=b[0]!=x,C=k?u.invert():0;"t"==x&&3==w?k?(h=C.x(0,0),g=C.y(0,0),m=C.x(b[1],b[2]),v=C.y(b[1],b[2]),u.translate(m-h,v-g)):u.translate(b[1],b[2]):"r"==x?2==w?(y=y||e.getBBox(1),u.rotate(b[1],y.x+y.width/2,y.y+y.height/2),i+=b[1]):4==w&&(k?(m=C.x(b[2],b[3]),v=C.y(b[2],b[3]),u.rotate(b[1],m,v)):u.rotate(b[1],b[2],b[3]),i+=b[1]):"s"==x?2==w||3==w?(y=y||e.getBBox(1),u.scale(b[1],b[w-1],y.x+y.width/2,y.y+y.height/2),s*=b[1],c*=b[w-1]):5==w&&(k?(m=C.x(b[3],b[4]),v=C.y(b[3],b[4]),u.scale(b[1],b[2],m,v)):u.scale(b[1],b[2],b[3],b[4]),s*=b[1],c*=b[2]):"m"==x&&7==w&&u.add(b[1],b[2],b[3],b[4],b[5],b[6]),l.dirtyT=1,e.matrix=u}e.matrix=u,l.sx=s,l.sy=c,l.deg=i,l.dx=o=u.e,l.dy=a=u.f,1==s&&1==c&&!i&&l.bbox?(l.bbox.x+=+o,l.bbox.y+=+a):l.dirtyT=1}),Ht=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Ft=n._equaliseTransform=function(e,t){t=O(t).replace(/\.{3}|\u2026/g,e),e=n.parseTransformString(e)||[],t=n.parseTransformString(t)||[];for(var r,i,o,a,s=H(e.length,t.length),c=[],l=[],u=0;s>u;u++){if(o=e[u]||Ht(t[u]),a=t[u]||Ht(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(c[u]=[],l[u]=[],r=0,i=H(o.length,a.length);i>r;r++)r in o&&(c[u][r]=o[r]),r in a&&(l[u][r]=a[r])}return{from:c,to:l}};n._getContainer=function(e,t,r,i){var o;return o=null!=i||n.is(e,"object")?e:S.doc.getElementById(e),null!=o?o.tagName?null==t?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:t,height:r}:{container:1,x:e,y:t,width:r,height:i}:void 0},n.pathToRelative=Dt,n._engine={},n.path2curve=Lt,n.matrix=function(e,t,n,r,i,o){return new p(e,t,n,r,i,o)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var n=B.sqrt(t(e));e[0]&&(e[0]/=n),e[1]&&(e[1]/=n)}e.add=function(e,t,n,r,i,o){var a,s,c,l,u=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[e,n,i],[t,r,o],[0,0,1]];for(e&&e instanceof p&&(f=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(l=0,c=0;3>c;c++)l+=d[a][c]*f[c][s];u[a][s]=l}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new p(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,r){null==t&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,t,r){e=n.rad(e),t=t||0,r=r||0;var i=+B.cos(e).toFixed(9),o=+B.sin(e).toFixed(9);this.add(i,o,-o,i,t,r),this.add(1,0,0,1,-t,-r)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[O.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=B.sqrt(t(i[0])),r(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=B.sqrt(t(i[1])),r(i[1]),e.shear/=e.scaley;var o=-i[0][1],a=i[1][1];return 0>a?(e.rotate=n.deg(B.acos(a)),0>o&&(e.rotate=360-e.rotate)):e.rotate=n.deg(B.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[P]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:I)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:I)+(t.rotate?"r"+[t.rotate,0,0]:I)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);var Wt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);x.safari="Apple Computer, Inc."==navigator.vendor&&(Wt&&Wt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Wt&&Wt[1]<8?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:ft;for(var qt=function(){this.returnValue=!1},Ut=function(){return this.originalEvent.preventDefault()},zt=function(){this.cancelBubble=!0},Vt=function(){return this.originalEvent.stopPropagation()},Yt=function(e){var t=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,n=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{x:e.clientX+n,y:e.clientY+t}},Gt=function(){return S.doc.addEventListener?function(e,t,n,r){var i=function(e){var t=Yt(e);return n.call(r,e,t.x,t.y)};if(e.addEventListener(t,i,!1),j&&$[t]){var o=function(t){for(var i=Yt(t),o=t,a=0,s=t.targetTouches&&t.targetTouches.length;s>a;a++)if(t.targetTouches[a].target==e){t=t.targetTouches[a],t.originalEvent=o,t.preventDefault=Ut,t.stopPropagation=Vt;break}return n.call(r,t,i.x,i.y)};e.addEventListener($[t],o,!1)}return function(){return e.removeEventListener(t,i,!1),j&&$[t]&&e.removeEventListener($[t],o,!1),!0}}:S.doc.attachEvent?function(e,t,n,r){var i=function(e){e=e||S.win.event;var t=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,i=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=e.clientX+i,a=e.clientY+t;return e.preventDefault=e.preventDefault||qt,e.stopPropagation=e.stopPropagation||zt,n.call(r,e,o,a)};e.attachEvent("on"+t,i);var o=function(){return e.detachEvent("on"+t,i),!0};return o}:void 0}(),Xt=[],Jt=function(e){for(var n,r=e.clientX,i=e.clientY,o=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,a=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,s=Xt.length;s--;){if(n=Xt[s],j&&e.touches){for(var c,l=e.touches.length;l--;)if(c=e.touches[l],c.identifier==n.el._drag.id){r=c.clientX,i=c.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u,d=n.el.node,f=d.nextSibling,h=d.parentNode,p=d.style.display;S.win.opera&&h.removeChild(d),d.style.display="none",u=n.el.paper.getElementByPoint(r,i),d.style.display=p,S.win.opera&&(f?h.insertBefore(d,f):h.appendChild(d)),u&&t("raphael.drag.over."+n.el.id,n.el,u),r+=a,i+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,e)}},Qt=function(e){n.unmousemove(Jt).unmouseup(Qt);for(var r,i=Xt.length;i--;)r=Xt[i],r.el._drag={},t("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,e);Xt=[]},Zt=n.el={},Kt=L.length;Kt--;)!function(e){n[e]=Zt[e]=function(t,r){return n.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Gt(this.shape||this.node||S.doc,e,t,r||this)})),this},n["un"+e]=Zt["un"+e]=function(t){for(var r=this.events||[],i=r.length;i--;)r[i].name!=e||!n.is(t,"undefined")&&r[i].f!=t||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}}(L[Kt]);Zt.data=function(e,r){var i=ut[this.id]=ut[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(n.is(e,"object")){for(var o in e)e[T](o)&&this.data(o,e[o]);return this}return t("raphael.data.get."+this.id,this,i[e],e),i[e]}return i[e]=r,t("raphael.data.set."+this.id,this,r,e),this},Zt.removeData=function(e){return null==e?ut[this.id]={}:ut[this.id]&&delete ut[this.id][e],this},Zt.getData=function(){return r(ut[this.id]||{})},Zt.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},Zt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var en=[];Zt.drag=function(e,r,i,o,a,s){function c(c){(c.originalEvent||c).preventDefault();var l=c.clientX,u=c.clientY,d=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,f=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;if(this._drag.id=c.identifier,j&&c.touches)for(var h,p=c.touches.length;p--;)if(h=c.touches[p],this._drag.id=h.identifier,h.identifier==this._drag.id){l=h.clientX,u=h.clientY;break}this._drag.x=l+f,this._drag.y=u+d,!Xt.length&&n.mousemove(Jt).mouseup(Qt),Xt.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&t.on("raphael.drag.start."+this.id,r),e&&t.on("raphael.drag.move."+this.id,e),i&&t.on("raphael.drag.end."+this.id,i),t("raphael.drag.start."+this.id,a||o||this,c.clientX+f,c.clientY+d,c)}return this._drag={},en.push({el:this,start:c}),this.mousedown(c),this},Zt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Zt.undrag=function(){for(var e=en.length;e--;)en[e].el==this&&(this.unmousedown(en[e].start),en.splice(e,1),t.unbind("raphael.drag.*."+this.id));!en.length&&n.unmousemove(Jt).unmouseup(Qt),Xt=[]},x.circle=function(e,t,r){var i=n._engine.circle(this,e||0,t||0,r||0);return this.__set__&&this.__set__.push(i),i},x.rect=function(e,t,r,i,o){var a=n._engine.rect(this,e||0,t||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},x.ellipse=function(e,t,r,i){var o=n._engine.ellipse(this,e||0,t||0,r||0,i||0);return this.__set__&&this.__set__.push(o),o},x.path=function(e){e&&!n.is(e,V)&&!n.is(e[0],Y)&&(e+=I);var t=n._engine.path(n.format[D](n,arguments),this);return this.__set__&&this.__set__.push(t),t},x.image=function(e,t,r,i,o){var a=n._engine.image(this,e||"about:blank",t||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},x.text=function(e,t,r){var i=n._engine.text(this,e||0,t||0,O(r));return this.__set__&&this.__set__.push(i),i},x.set=function(e){!n.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new hn(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},x.setStart=function(e){this.__set__=e||this.set()},x.setFinish=function(){var e=this.__set__;return delete this.__set__,e},x.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},x.setSize=function(e,t){return n._engine.setSize.call(this,e,t)},x.setViewBox=function(e,t,r,i,o){return n._engine.setViewBox.call(this,e,t,r,i,o)},x.top=x.bottom=null,x.raphael=n;var tn=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=t.top+(S.win.pageYOffset||i.scrollTop||r.scrollTop)-o,c=t.left+(S.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:c}};x.getElementByPoint=function(e,t){var n=this,r=n.canvas,i=S.doc.elementFromPoint(e,t);if(S.win.opera&&"svg"==i.tagName){var o=tn(r),a=r.createSVGRect();a.x=e-o.x,a.y=t-o.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},x.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(r){n.isBBoxIntersect(r.getBBox(),e)&&t.push(r)}),t},x.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},x.forEach=function(e,t){for(var n=this.bottom;n;){if(e.call(t,n)===!1)return this;n=n.next}return this},x.getElementsByPoint=function(e,t){var n=this.set();return this.forEach(function(r){r.isPointInside(e,t)&&n.push(r)}),n},Zt.isPointInside=function(e,t){var r=this.realPath=mt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=n.transformPath(r,this.attr("transform"))),n.isPointInsidePath(r,e,t)},Zt.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=mt[this.type](this),t.bboxwt=Et(this.realPath),t.bboxwt.toString=g,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=mt[this.type](this)),t.bbox=Et(vt(this.realPath,this.matrix)),t.bbox.toString=g,t.dirty=t.dirtyT=0),t.bbox)},Zt.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Zt.glow=function(e){if("text"==this.type)return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,r=this.paper,i=r.set(),o=this.realPath||mt[this.type](this);o=this.matrix?vt(o,this.matrix):o;for(var a=1;n+1>a;a++)i.push(r.path(o).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*a).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var nn=function(e,t,r,i,o,a,s,c,d){return null==d?l(e,t,r,i,o,a,s,c):n.findDotsAtSegment(e,t,r,i,o,a,s,c,u(e,t,r,i,o,a,s,c,d))},rn=function(e,t){return function(r,i,o){r=Lt(r);for(var a,s,c,l,u,d="",f={},h=0,p=0,g=r.length;g>p;p++){if(c=r[p],"M"==c[0])a=+c[1],s=+c[2];else{if(l=nn(a,s,c[1],c[2],c[3],c[4],c[5],c[6]),h+l>i){if(t&&!f.start){if(u=nn(a,s,c[1],c[2],c[3],c[4],c[5],c[6],i-h),d+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return d;f.start=d,d=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,c[5],c[6]].join(),h+=l,a=+c[5],s=+c[6];continue}if(!e&&!t)return u=nn(a,s,c[1],c[2],c[3],c[4],c[5],c[6],i-h),{x:u.x,y:u.y,alpha:u.alpha}}h+=l,a=+c[5],s=+c[6]}d+=c.shift()+c}return f.end=d,u=e?h:t?f:n.findDotsAtSegment(a,s,c[0],c[1],c[2],c[3],c[4],c[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},on=rn(1),an=rn(),sn=rn(0,1);n.getTotalLength=on,n.getPointAtLength=an,n.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return sn(e,t).end;var r=sn(e,n,1);return t?sn(r,t).end:r},Zt.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():on(e)},Zt.getPointAtLength=function(e){var t=this.getPath();if(t)return an(t,e)},Zt.getPath=function(){var e,t=n._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(e=t(this)),e},Zt.getSubpath=function(e,t){var r=this.getPath();if(r)return n.getSubpath(r,e,t)};var cn=n.easing_formulas={linear:function(e){return e},"<":function(e){return q(e,1.7)},">":function(e){return q(e,.48)},"<>":function(e){var t=.48-e/1.04,n=B.sqrt(.1734+t*t),r=n-t,i=q(W(r),1/3)*(0>r?-1:1),o=-n-t,a=q(W(o),1/3)*(0>o?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:q(2,-10*e)*B.sin(2*(e-.075)*U/.3)+1},bounce:function(e){var t,n=7.5625,r=2.75;return 1/r>e?t=n*e*e:2/r>e?(e-=1.5/r,t=n*e*e+.75):2.5/r>e?(e-=2.25/r,t=n*e*e+.9375):(e-=2.625/r,t=n*e*e+.984375),t}};cn.easeIn=cn["ease-in"]=cn["<"],cn.easeOut=cn["ease-out"]=cn[">"],cn.easeInOut=cn["ease-in-out"]=cn["<>"],cn["back-in"]=cn.backIn,cn["back-out"]=cn.backOut;var ln=[],un=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},dn=function(){for(var e=+new Date,r=0;r<ln.length;r++){var i=ln[r];if(!i.el.removed&&!i.paused){var o,a,s=e-i.start,c=i.ms,l=i.easing,u=i.from,d=i.diff,f=i.to,h=(i.t,i.el),p={},g={};if(i.initstatus?(s=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*c,i.status=i.initstatus,delete i.initstatus,i.stop&&ln.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(s/c))/i.anim.top,!(0>s))if(c>s){var m=l(s/c);for(var v in u)if(u[T](v)){switch(rt[v]){case z:o=+u[v]+m*c*d[v];break;case"colour":o="rgb("+[fn(Z(u[v].r+m*c*d[v].r)),fn(Z(u[v].g+m*c*d[v].g)),fn(Z(u[v].b+m*c*d[v].b))].join(",")+")";break;case"path":o=[];for(var b=0,w=u[v].length;w>b;b++){o[b]=[u[v][b][0]];for(var x=1,k=u[v][b].length;k>x;x++)o[b][x]=+u[v][b][x]+m*c*d[v][b][x];o[b]=o[b].join(N)}o=o.join(N);break;case"transform":if(d[v].real)for(o=[],b=0,w=u[v].length;w>b;b++)for(o[b]=[u[v][b][0]],x=1,k=u[v][b].length;k>x;x++)o[b][x]=u[v][b][x]+m*c*d[v][b][x];else{var C=function(e){return+u[v][e]+m*c*d[v][e]};o=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if("clip-rect"==v)for(o=[],b=4;b--;)o[b]=+u[v][b]+m*c*d[v][b];break;default:var _=[][A](u[v]);for(o=[],b=h.paper.customAttributes[v].length;b--;)o[b]=+_[b]+m*c*d[v][b]}p[v]=o}h.attr(p),function(e,n,r){setTimeout(function(){t("raphael.anim.frame."+e,n,r)})}(h.id,h,i.anim)}else{if(function(e,r,i){setTimeout(function(){t("raphael.anim.frame."+r.id,r,i),t("raphael.anim.finish."+r.id,r,i),n.is(e,"function")&&e.call(r)})}(i.callback,h,i.anim),h.attr(f),ln.splice(r--,1),i.repeat>1&&!i.next){for(a in f)f[T](a)&&(g[a]=i.totalOrigin[a]);i.el.attr(g),y(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&y(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}n.svg&&h&&h.paper&&h.paper.safari(),ln.length&&un(dn)},fn=function(e){return e>255?255:0>e?0:e};Zt.animateWith=function(e,t,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var c=r instanceof v?r:n.animation(r,i,o,a);y(c,s,c.percents[0],null,s.attr());for(var l=0,u=ln.length;u>l;l++)if(ln[l].anim==t&&ln[l].el==e){ln[u-1].start=ln[l].start;break}return s},Zt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(e){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},v.prototype.repeat=function(e){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=B.floor(H(e,0))||1,t},n.animation=function(e,t,r,i){if(e instanceof v)return e;(n.is(r,"function")||!r)&&(i=i||r||null,r=null),e=Object(e),t=+t||0;var o,a,s={};for(a in e)e[T](a)&&K(a)!=a&&K(a)+"%"!=a&&(o=!0,s[a]=e[a]);if(o)return r&&(s.easing=r),i&&(s.callback=i),new v({100:s},t);
if(i){var c=0;for(var l in e){var u=et(l);e[T](l)&&u>c&&(c=u)}c+="%",!e[c].callback&&(e[c].callback=i)}return new v(e,t)},Zt.animate=function(e,t,r,i){var o=this;if(o.removed)return i&&i.call(o),o;var a=e instanceof v?e:n.animation(e,t,r,i);return y(a,o,a.percents[0],null,o.attr()),o},Zt.setTime=function(e,t){return e&&null!=t&&this.status(e,F(t,e.ms)/e.ms),this},Zt.status=function(e,t){var n,r,i=[],o=0;if(null!=t)return y(e,this,-1,F(t,1)),this;for(n=ln.length;n>o;o++)if(r=ln[o],r.el.id==this.id&&(!e||r.anim==e)){if(e)return r.status;i.push({anim:r.anim,status:r.status})}return e?0:i},Zt.pause=function(e){for(var n=0;n<ln.length;n++)ln[n].el.id!=this.id||e&&ln[n].anim!=e||t("raphael.anim.pause."+this.id,this,ln[n].anim)!==!1&&(ln[n].paused=!0);return this},Zt.resume=function(e){for(var n=0;n<ln.length;n++)if(ln[n].el.id==this.id&&(!e||ln[n].anim==e)){var r=ln[n];t("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status))}return this},Zt.stop=function(e){for(var n=0;n<ln.length;n++)ln[n].el.id!=this.id||e&&ln[n].anim!=e||t("raphael.anim.stop."+this.id,this,ln[n].anim)!==!1&&ln.splice(n--,1);return this},t.on("raphael.remove",b),t.on("raphael.clear",b),Zt.toString=function(){return"Raphaël’s object"};var hn=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,n=e.length;n>t;t++)!e[t]||e[t].constructor!=Zt.constructor&&e[t].constructor!=hn||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},pn=hn.prototype;pn.push=function(){for(var e,t,n=0,r=arguments.length;r>n;n++)e=arguments[n],!e||e.constructor!=Zt.constructor&&e.constructor!=hn||(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},pn.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pn.forEach=function(e,t){for(var n=0,r=this.items.length;r>n;n++)if(e.call(t,this.items[n],n)===!1)return this;return this};for(var gn in Zt)Zt[T](gn)&&(pn[gn]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][D](n,t)})}}(gn));return pn.attr=function(e,t){if(e&&n.is(e,Y)&&n.is(e[0],"object"))for(var r=0,i=e.length;i>r;r++)this.items[r].attr(e[r]);else for(var o=0,a=this.items.length;a>o;o++)this.items[o].attr(e,t);return this},pn.clear=function(){for(;this.length;)this.pop()},pn.splice=function(e,t){e=0>e?H(this.length+e,0):e,t=H(0,F(this.length-e,t));var n,r=[],i=[],o=[];for(n=2;n<arguments.length;n++)o.push(arguments[n]);for(n=0;t>n;n++)i.push(this[e+n]);for(;n<this.length-e;n++)r.push(this[e+n]);var a=o.length;for(n=0;n<a+r.length;n++)this.items[e+n]=this[e+n]=a>n?o[n]:r[n-a];for(n=this.items.length=this.length-=t-a;this[n];)delete this[n++];return new hn(i)},pn.exclude=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return this.splice(t,1),!0},pn.animate=function(e,t,r,i){(n.is(r,"function")||!r)&&(i=r||null);var o,a,s=this.items.length,c=s,l=this;if(!s)return this;i&&(a=function(){!--s&&i.call(l)}),r=n.is(r,V)?r:a;var u=n.animation(e,t,r,a);for(o=this.items[--c].animate(u);c--;)this.items[c]&&!this.items[c].removed&&this.items[c].animateWith(o,u,u),this.items[c]&&!this.items[c].removed||s--;return this},pn.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},pn.getBBox=function(){for(var e=[],t=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();e.push(o.x),t.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return e=F[D](0,e),t=F[D](0,t),n=H[D](0,n),r=H[D](0,r),{x:e,y:t,x2:n,y2:r,width:n-e,height:r-t}},pn.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;n>t;t++)e.push(this.items[t].clone());return e},pn.toString=function(){return"Raphaël‘s set"},pn.glow=function(e){var t=this.paper.set();return this.forEach(function(n){var r=n.glow(e);null!=r&&r.forEach(function(e){t.push(e)})}),t},pn.isPointInside=function(e,t){var n=!1;return this.forEach(function(r){return r.isPointInside(e,t)?(n=!0,!1):void 0}),n},n.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[T](r)&&(t.face[r]=e.face[r]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg){t.face["units-per-em"]=et(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[T](i)){var o=e.glyphs[i];if(t.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},o.k)for(var a in o.k)o[T](a)&&(t.glyphs[i].k[a]=o.k[a])}}return e},x.getFont=function(e,t,r,i){if(i=i||"normal",r=r||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,n.fonts){var o=n.fonts[e];if(!o){var a=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,I)+"(\\s|$)","i");for(var s in n.fonts)if(n.fonts[T](s)&&a.test(s)){o=n.fonts[s];break}}var c;if(o)for(var l=0,u=o.length;u>l&&(c=o[l],c.face["font-weight"]!=t||c.face["font-style"]!=r&&c.face["font-style"]||c.face["font-stretch"]!=i);l++);return c}},x.print=function(e,t,r,i,o,a,s,c){a=a||"middle",s=H(F(s||0,1),-1),c=H(F(c||1,3),1);var l,u=O(r)[P](I),d=0,f=0,h=I;if(n.is(i,"string")&&(i=this.getFont(i)),i){l=(o||16)/i.face["units-per-em"];for(var p=i.face.bbox[P](k),g=+p[0],m=p[3]-p[1],v=0,y=+p[1]+("baseline"==a?m+ +i.face.descent:m/2),b=0,w=u.length;w>b;b++){if("\n"==u[b])d=0,C=0,f=0,v+=m*c;else{var x=f&&i.glyphs[u[b-1]]||{},C=i.glyphs[u[b]];d+=f?(x.w||i.w)+(x.k&&x.k[u[b]]||0)+i.w*s:0,f=1}C&&C.d&&(h+=n.transformPath(C.d,["t",d*l,v*l,"s",l,l,g,y,"t",(e-g)/l,(t-y)/l]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},x.add=function(e){if(n.is(e,"array"))for(var t,r=this.set(),i=0,o=e.length;o>i;i++)t=e[i]||{},C[T](t.type)&&r.push(this[t.type]().attr(t));return r},n.format=function(e,t){var r=n.is(t,Y)?[0][A](t):arguments;return e&&n.is(e,V)&&r.length-1&&(e=e.replace(_,function(e,t){return null==r[++t]?I:r[t]})),e||I},n.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;return n.replace(t,function(e,t,n,r,o){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?e:i)+""};return function(t,r){return String(t).replace(e,function(e,t){return n(e,t,r)})}}(),n.ninja=function(){return E.was?S.win.Raphael=E.is:delete Raphael,n},n.st=pn,t.on("raphael.DOMload",function(){w=!0}),function(e,t,r){function i(){/in/.test(e.readyState)?setTimeout(i,9):n.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(t,r=function(){e.removeEventListener(t,r,!1),e.readyState="complete"},!1),e.readyState="loading"),i()}(document,"DOMContentLoaded"),function(){if(n.svg){var e="hasOwnProperty",t=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,c=o.pow,l=/[, ]+/,u=n.eve,d="",f=" ",h="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};n.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(r,i){if(i){"string"==typeof r&&(r=m(r));for(var o in i)i[e](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(h,o.substring(6),t(i[o])):r.setAttribute(o,t(i[o])))}else r=n._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(e,i){var l="linear",u=e.id+i,f=.5,h=.5,p=e.node,g=e.paper,v=p.style,y=n._g.doc.getElementById(u);if(!y){if(i=t(i).replace(n._radial_gradient,function(e,t,n){if(l="radial",t&&n){f=r(t),h=r(n);var i=2*(h>.5)-1;c(f-.5,2)+c(h-.5,2)>.25&&(h=o.sqrt(.25-c(f-.5,2))*i+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*i)}return d}),i=i.split(/\s*\-\s*/),"linear"==l){var b=i.shift();if(b=-r(b),isNaN(b))return null;var w=[0,0,o.cos(n.rad(b)),o.sin(n.rad(b))],x=1/(a(s(w[2]),s(w[3]))||1);w[2]*=x,w[3]*=x,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var k=n._parseDots(i);if(!k)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=m(l+"Gradient",{id:u}),e.gradient=y,m(y,"radial"==l?{fx:f,fy:h}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var C=0,_=k.length;_>C;C++)y.appendChild(m("stop",{offset:k[C].offset?k[C].offset:C?"100%":"0%","stop-color":k[C].color||"#fff"}))}}return m(p,{fill:"url('"+document.location+"#"+u+"')",opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},y=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(r,i,o){if("path"==r.type){for(var a,s,c,l,u,f=t(i).toLowerCase().split("-"),h=r.paper,v=o?"end":"start",y=r.node,b=r.attrs,w=b["stroke-width"],x=f.length,k="classic",C=3,_=3,T=5;x--;)switch(f[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":k=f[x];break;case"wide":_=5;break;case"narrow":_=2;break;case"long":C=5;break;case"short":C=2}if("open"==k?(C+=2,_+=2,T+=2,c=1,l=o?4:1,u={fill:"none",stroke:b.stroke}):(l=c=C/2,u={fill:b.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=k){var S="raphael-marker-"+k,E="raphael-marker-"+v+k+C+_+"-obj"+r.id;n._g.doc.getElementById(S)?g[S]++:(h.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[k],id:S})),g[S]=1);var M,D=n._g.doc.getElementById(E);D?(g[E]++,M=D.getElementsByTagName("use")[0]):(D=m(m("marker"),{id:E,markerHeight:_,markerWidth:C,orient:"auto",refX:l,refY:_/2}),M=m(m("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+C/2+" "+_/2+") ":d)+"scale("+C/T+","+_/T+")","stroke-width":(1/((C/T+_/T)/2)).toFixed(4)}),D.appendChild(M),h.defs.appendChild(D),g[E]=1),m(M,u);var A=c*("diamond"!=k&&"oval"!=k);o?(a=r._.arrows.startdx*w||0,s=n.getTotalLength(b.path)-A*w):(a=A*w,s=n.getTotalLength(b.path)-(r._.arrows.enddx*w||0)),u={},u["marker-"+v]="url(#"+E+")",(s||a)&&(u.d=n.getSubpath(b.path,a,s)),m(y,u),r._.arrows[v+"Path"]=S,r._.arrows[v+"Marker"]=E,r._.arrows[v+"dx"]=A,r._.arrows[v+"Type"]=k,r._.arrows[v+"String"]=i}else o?(a=r._.arrows.startdx*w||0,s=n.getTotalLength(b.path)-a):(a=0,s=n.getTotalLength(b.path)-(r._.arrows.enddx*w||0)),r._.arrows[v+"Path"]&&m(y,{d:n.getSubpath(b.path,a,s)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(u in g)if(g[e](u)&&!g[u]){var j=n._g.doc.getElementById(u);j&&j.parentNode.removeChild(j)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(e,n,r){if(n=w[t(n).toLowerCase()]){for(var i=e.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=n.length;s--;)a[s]=n[s]*i+(s%2?1:-1)*o;m(e.node,{"stroke-dasharray":a.join(",")})}},k=function(r,o){var c=r.node,u=r.attrs,f=c.style.visibility;c.style.visibility="hidden";for(var p in o)if(o[e](p)){if(!n._availableAttrs[e](p))continue;var g=o[p];switch(u[p]=g,p){case"blur":r.blur(g);break;case"title":var w=c.getElementsByTagName("title");if(w.length&&(w=w[0]))w.firstChild.nodeValue=g;else{w=m("title");var k=n._g.doc.createTextNode(g);w.appendChild(k),c.appendChild(w)}break;case"href":case"target":var C=c.parentNode;if("a"!=C.tagName.toLowerCase()){var T=m("a");C.insertBefore(T,c),T.appendChild(c),C=T}"target"==p?C.setAttributeNS(h,"show","blank"==g?"new":g):C.setAttributeNS(h,p,g);break;case"cursor":c.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":b(r,g);break;case"arrow-end":b(r,g,1);break;case"clip-rect":var S=t(g).split(l);if(4==S.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var E=m("clipPath"),M=m("rect");E.id=n.createUUID(),m(M,{x:S[0],y:S[1],width:S[2],height:S[3]}),E.appendChild(M),r.paper.defs.appendChild(E),m(c,{"clip-path":"url(#"+E.id+")"}),r.clip=M}if(!g){var D=c.getAttribute("clip-path");if(D){var A=n._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g,d));A&&A.parentNode.removeChild(A),m(c,{"clip-path":d}),delete r.clip}}break;case"path":"path"==r.type&&(m(c,{d:g?u.path=n._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1)));break;case"width":if(c.setAttribute(p,g),r._.dirty=1,!u.fx)break;p="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":c.setAttribute(p,g),r.pattern&&y(r),r._.dirty=1;break;case"height":if(c.setAttribute(p,g),r._.dirty=1,!u.fy)break;p="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":c.setAttribute(p,g),r.pattern&&y(r),r._.dirty=1;break;case"r":"rect"==r.type?m(c,{rx:g,ry:g}):c.setAttribute(p,g),r._.dirty=1;break;case"src":"image"==r.type&&c.setAttributeNS(h,"href",g);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(g/=a(s(r._.sx),s(r._.sy))||1),c.setAttribute(p,g),u["stroke-dasharray"]&&x(r,u["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"stroke-dasharray":x(r,g,o);break;case"fill":var j=t(g).match(n._ISURL);if(j){E=m("pattern");var I=m("image");E.id=n.createUUID(),m(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(I,{x:0,y:0,"xlink:href":j[1]}),E.appendChild(I),function(e){n._preload(j[1],function(){var t=this.offsetWidth,n=this.offsetHeight;m(e,{width:t,height:n}),m(I,{width:t,height:n}),r.paper.safari()})}(E),r.paper.defs.appendChild(E),m(c,{fill:"url(#"+E.id+")"}),r.pattern=E,r.pattern&&y(r);break}var N=n.getRGB(g);if(N.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=t(g).charAt())&&v(r,g)){if("opacity"in u||"fill-opacity"in u){var O=n._g.doc.getElementById(c.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(O){var P=O.getElementsByTagName("stop");m(P[P.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete o.gradient,delete u.gradient,!n.is(u.opacity,"undefined")&&n.is(o.opacity,"undefined")&&m(c,{opacity:u.opacity}),!n.is(u["fill-opacity"],"undefined")&&n.is(o["fill-opacity"],"undefined")&&m(c,{"fill-opacity":u["fill-opacity"]});N[e]("opacity")&&m(c,{"fill-opacity":N.opacity>1?N.opacity/100:N.opacity});case"stroke":N=n.getRGB(g),c.setAttribute(p,N.hex),"stroke"==p&&N[e]("opacity")&&m(c,{"stroke-opacity":N.opacity>1?N.opacity/100:N.opacity}),"stroke"==p&&r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=t(g).charAt())&&v(r,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&m(c,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){O=n._g.doc.getElementById(c.getAttribute("fill").replace(/^url\(#|\)$/g,d)),O&&(P=O.getElementsByTagName("stop"),m(P[P.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=i(g,10)+"px");var L=p.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});c.style[L]=g,r._.dirty=1,c.setAttribute(p,g)}}_(r,o),c.style.visibility=f},C=1.2,_=function(r,o){if("text"==r.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var a=r.attrs,s=r.node,c=s.firstChild?i(n._g.doc.defaultView.getComputedStyle(s.firstChild,d).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var l,u=t(o.text).split("\n"),f=[],h=0,p=u.length;p>h;h++)l=m("tspan"),h&&m(l,{dy:c*C,x:a.x}),l.appendChild(n._g.doc.createTextNode(u[h])),s.appendChild(l),f[h]=l}else for(f=s.getElementsByTagName("tspan"),h=0,p=f.length;p>h;h++)h?m(f[h],{dy:c*C,x:a.x}):m(f[0],{dy:0});m(s,{x:a.x,y:a.y}),r._.dirty=1;var g=r._getBBox(),v=a.y-(g.y+g.height/2);v&&n.is(v,"finite")&&m(f[0],{dy:v})}},T=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},S=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=n._oid++,e.raphaelid=this.id,this.matrix=n.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},E=n.el;S.prototype=E,E.constructor=S,n._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var r=new S(n,t);return r.type="path",k(r,{fill:"none",stroke:"#000",path:e}),r},E.rotate=function(e,n,i){if(this.removed)return this;if(e=t(e).split(l),e.length-1&&(n=r(e[1]),i=r(e[2])),e=r(e[0]),null==i&&(n=i),null==n||null==i){var o=this.getBBox(1);n=o.x+o.width/2,i=o.y+o.height/2}return this.transform(this._.transform.concat([["r",e,n,i]])),this},E.scale=function(e,n,i,o){if(this.removed)return this;if(e=t(e).split(l),e.length-1&&(n=r(e[1]),i=r(e[2]),o=r(e[3])),e=r(e[0]),null==n&&(n=e),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,n,i,o]])),this},E.translate=function(e,n){return this.removed?this:(e=t(e).split(l),e.length-1&&(n=r(e[1])),e=r(e[0])||0,n=+n||0,this.transform(this._.transform.concat([["t",e,n]])),this)},E.transform=function(t){var r=this._;if(null==t)return r.transform;if(n._extractTransform(this,t),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},E.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},E.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},E.remove=function(){var e=T(this.node);if(!this.removed&&e.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),n._tear(this,t),e.parentNode.removeChild(e),this.removeData();for(var r in this)this[r]="function"==typeof this[r]?n._removedFactory(r):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var r={};try{r=this.node.getBBox()}catch(i){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(t.display="none")}return e&&this.hide(),r},E.attr=function(t,r){if(this.removed)return this;if(null==t){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&n.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var a=t.split(l),s={},c=0,d=a.length;d>c;c++)t=a[c],s[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return d-1?s:s[a[0]]}if(null==r&&n.is(t,"array")){for(s={},c=0,d=t.length;d>c;c++)s[t[c]]=this.attr(t[c]);return s}if(null!=r){var f={};f[t]=r}else null!=t&&n.is(t,"object")&&(f=t);for(var h in f)u("raphael.attr."+h+"."+this.id,this,f[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&f[e](h)&&n.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(f[h]));this.attrs[h]=f[h];for(var g in p)p[e](g)&&(f[g]=p[g])}return k(this,f),this},E.toFront=function(){if(this.removed)return this;var e=T(this.node);e.parentNode.appendChild(e);var t=this.paper;return t.top!=this&&n._tofront(this,t),this},E.toBack=function(){if(this.removed)return this;var e=T(this.node),t=e.parentNode;t.insertBefore(e,t.firstChild),n._toback(this,this.paper);this.paper;return this},E.insertAfter=function(e){if(this.removed||!e)return this;var t=T(this.node),r=T(e.node||e[e.length-1].node);return r.nextSibling?r.parentNode.insertBefore(t,r.nextSibling):r.parentNode.appendChild(t),n._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var t=T(this.node),r=T(e.node||e[0].node);return r.parentNode.insertBefore(t,r),n._insertbefore(this,e,this.paper),this},E.blur=function(e){var t=this;if(0!==+e){var r=m("filter"),i=m("feGaussianBlur");t.attrs.blur=e,r.id=n.createUUID(),m(i,{stdDeviation:+e||1.5}),r.appendChild(i),t.paper.defs.appendChild(r),t._blur=r,m(t.node,{filter:"url(#"+r.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},n._engine.circle=function(e,t,n,r){var i=m("circle");e.canvas&&e.canvas.appendChild(i);var o=new S(i,e);return o.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},o.type="circle",m(i,o.attrs),o},n._engine.rect=function(e,t,n,r,i,o){var a=m("rect");e.canvas&&e.canvas.appendChild(a);var s=new S(a,e);return s.attrs={x:t,y:n,width:r,height:i,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",m(a,s.attrs),s},n._engine.ellipse=function(e,t,n,r,i){var o=m("ellipse");e.canvas&&e.canvas.appendChild(o);var a=new S(o,e);return a.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",m(o,a.attrs),a},n._engine.image=function(e,t,n,r,i,o){var a=m("image");m(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(h,"href",t),e.canvas&&e.canvas.appendChild(a);var s=new S(a,e);return s.attrs={x:n,y:r,width:i,height:o,src:t},s.type="image",s},n._engine.text=function(e,t,r,i){var o=m("text");e.canvas&&e.canvas.appendChild(o);var a=new S(o,e);return a.attrs={x:t,y:r,"text-anchor":"middle",text:i,"font-family":n._availableAttrs["font-family"],"font-size":n._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",k(a,a.attrs),a},n._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},n._engine.create=function(){var e=n._getContainer.apply(0,arguments),t=e&&e.container,r=e.x,i=e.y,o=e.width,a=e.height;if(!t)throw new Error("SVG container not found.");var s,c=m("svg"),l="overflow:hidden;";return r=r||0,i=i||0,o=o||512,a=a||342,m(c,{height:a,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==t?(c.style.cssText=l+"position:absolute;left:"+r+"px;top:"+i+"px",n._g.doc.body.appendChild(c),s=1):(c.style.cssText=l+"position:relative",t.firstChild?t.insertBefore(c,t.firstChild):t.appendChild(c)),t=new n._Paper,t.width=o,t.height=a,t.canvas=c,t.clear(),t._left=t._top=0,s&&(t.renderfix=function(){}),t.renderfix(),t},n._engine.setViewBox=function(e,t,n,r,i){u("raphael.setViewBox",this,this._viewBox,[e,t,n,r,i]);var o,s,c=this.getSize(),l=a(n/c.width,r/c.height),d=this.top,h=i?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=l,o=e+f+t+f+n+f+r),m(this.canvas,{viewBox:o,preserveAspectRatio:h});l&&d;)s="stroke-width"in d.attrs?d.attrs["stroke-width"]:1,d.attr({"stroke-width":s}),d._.dirty=1,d._.dirtyT=1,d=d.prev;return this._viewBox=[e,t,n,r,!!i],this},n.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(r){e=t.createSVGMatrix()}var i=-e.e%1,o=-e.f%1;(i||o)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),o&&(this._top=(this._top+o)%1,n.top=this._top+"px"))},n.prototype.clear=function(){n.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(n._g.doc.createTextNode("Created with Raphaël "+n.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},n.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?n._removedFactory(e):null};var M=n.st;for(var D in E)E[e](D)&&!M[e](D)&&(M[D]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(D))}}(),function(){if(n.vml){var e="hasOwnProperty",t=String,r=parseFloat,i=Math,o=i.round,a=i.max,s=i.min,c=i.abs,l="fill",u=/[, ]+/,d=n.eve,f=" progid:DXImageTransform.Microsoft",h=" ",p="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",w=21600,x={path:1,rect:1,image:1},k={circle:1,ellipse:1},C=function(e){var r=/[ahqstv]/gi,i=n._pathToAbsolute;if(t(e).match(r)&&(i=n._path2curve),r=/[clmz]/g,i==n._pathToAbsolute&&!t(e).match(r)){var a=t(e).replace(m,function(e,t,n){var r=[],i="m"==t.toLowerCase(),a=g[t];return n.replace(y,function(e){i&&2==r.length&&(a+=r+g["m"==t?"l":"L"],r=[]),r.push(o(e*w))}),a+r});return a}var s,c,l=i(e);a=[];for(var u=0,d=l.length;d>u;u++){s=l[u],c=l[u][0].toLowerCase(),"z"==c&&(c="x");for(var f=1,v=s.length;v>f;f++)c+=o(s[f]*w)+(f!=v-1?",":p);a.push(c)}return a.join(h)},_=function(e,t,r){var i=n.matrix();return i.rotate(-e,.5,.5),{dx:i.x(t,r),dy:i.y(t,r)}},T=function(e,t,n,r,i,o){var a=e._,s=e.matrix,u=a.fillpos,d=e.node,f=d.style,p=1,g="",m=w/t,v=w/n;if(f.visibility="hidden",t&&n){if(d.coordsize=c(m)+h+c(v),f.rotation=o*(0>t*n?-1:1),o){var y=_(o,r,i);r=y.dx,i=y.dy}if(0>t&&(g+="x"),0>n&&(g+=" y")&&(p=-1),f.flip=g,d.coordorigin=r*-m+h+i*-v,u||a.fillsize){var b=d.getElementsByTagName(l);b=b&&b[0],d.removeChild(b),u&&(y=_(o,s.x(u[0],u[1]),s.y(u[0],u[1])),b.position=y.dx*p+h+y.dy*p),a.fillsize&&(b.size=a.fillsize[0]*c(t)+h+a.fillsize[1]*c(n)),d.appendChild(b)}f.visibility="visible"}};n.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var S=function(e,n,r){for(var i=t(n).toLowerCase().split("-"),o=r?"end":"start",a=i.length,s="classic",c="medium",l="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":l=i[a];break;case"long":case"short":c=i[a]}var u=e.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=s,u[o+"arrowlength"]=c,u[o+"arrowwidth"]=l},E=function(i,c){i.attrs=i.attrs||{};var d=i.node,f=i.attrs,g=d.style,m=x[i.type]&&(c.x!=f.x||c.y!=f.y||c.width!=f.width||c.height!=f.height||c.cx!=f.cx||c.cy!=f.cy||c.rx!=f.rx||c.ry!=f.ry||c.r!=f.r),v=k[i.type]&&(f.cx!=c.cx||f.cy!=c.cy||f.r!=c.r||f.rx!=c.rx||f.ry!=c.ry),y=i;for(var b in c)c[e](b)&&(f[b]=c[b]);if(m&&(f.path=n._getPath[i.type](i),i._.dirty=1),c.href&&(d.href=c.href),c.title&&(d.title=c.title),c.target&&(d.target=c.target),c.cursor&&(g.cursor=c.cursor),"blur"in c&&i.blur(c.blur),(c.path&&"path"==i.type||m)&&(d.path=C(~t(f.path).toLowerCase().indexOf("r")?n._pathToAbsolute(f.path):f.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[f.x,f.y],i._.fillsize=[f.width,f.height],T(i,1,1,0,0,0))),"transform"in c&&i.transform(c.transform),v){var _=+f.cx,E=+f.cy,D=+f.rx||+f.r||0,A=+f.ry||+f.r||0;d.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((_-D)*w),o((E-A)*w),o((_+D)*w),o((E+A)*w),o(_*w)),i._.dirty=1}if("clip-rect"in c){var I=t(c["clip-rect"]).split(u);if(4==I.length){I[2]=+I[2]+ +I[0],I[3]=+I[3]+ +I[1];var N=d.clipRect||n._g.doc.createElement("div"),O=N.style;O.clip=n.format("rect({1}px {2}px {3}px {0}px)",I),d.clipRect||(O.position="absolute",O.top=0,O.left=0,O.width=i.paper.width+"px",O.height=i.paper.height+"px",d.parentNode.insertBefore(N,d),N.appendChild(d),d.clipRect=N)}c["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="auto")}if(i.textpath){var P=i.textpath.style;c.font&&(P.font=c.font),c["font-family"]&&(P.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),c["font-size"]&&(P.fontSize=c["font-size"]),c["font-weight"]&&(P.fontWeight=c["font-weight"]),c["font-style"]&&(P.fontStyle=c["font-style"])}if("arrow-start"in c&&S(y,c["arrow-start"]),"arrow-end"in c&&S(y,c["arrow-end"],1),null!=c.opacity||null!=c["stroke-width"]||null!=c.fill||null!=c.src||null!=c.stroke||null!=c["stroke-width"]||null!=c["stroke-opacity"]||null!=c["fill-opacity"]||null!=c["stroke-dasharray"]||null!=c["stroke-miterlimit"]||null!=c["stroke-linejoin"]||null!=c["stroke-linecap"]){var L=d.getElementsByTagName(l),$=!1;if(L=L&&L[0],!L&&($=L=j(l)),"image"==i.type&&c.src&&(L.src=c.src),c.fill&&(L.on=!0),(null==L.on||"none"==c.fill||null===c.fill)&&(L.on=!1),L.on&&c.fill){var R=t(c.fill).match(n._ISURL);if(R){L.parentNode==d&&d.removeChild(L),L.rotate=!0,L.src=R[1],L.type="tile";var B=i.getBBox(1);L.position=B.x+h+B.y,i._.fillpos=[B.x,B.y],n._preload(R[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=n.getRGB(c.fill).hex,L.src=p,L.type="solid",n.getRGB(c.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=t(c.fill).charAt())&&M(y,c.fill,L)&&(f.fill="none",f.gradient=c.fill,L.rotate=!1)}if("fill-opacity"in c||"opacity"in c){var H=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+n.getRGB(c.fill).o+1||2)-1);H=s(a(H,0),1),L.opacity=H,L.src&&(L.color="none")}d.appendChild(L);var F=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0],W=!1;!F&&(W=F=j("stroke")),(c.stroke&&"none"!=c.stroke||c["stroke-width"]||null!=c["stroke-opacity"]||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])&&(F.on=!0),("none"==c.stroke||null===c.stroke||null==F.on||0==c.stroke||0==c["stroke-width"])&&(F.on=!1);var q=n.getRGB(c.stroke);F.on&&c.stroke&&(F.color=q.hex),H=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+q.o+1||2)-1);var U=.75*(r(c["stroke-width"])||1);if(H=s(a(H,0),1),null==c["stroke-width"]&&(U=f["stroke-width"]),c["stroke-width"]&&(F.weight=U),U&&1>U&&(H*=U)&&(F.weight=1),F.opacity=H,c["stroke-linejoin"]&&(F.joinstyle=c["stroke-linejoin"]||"miter"),F.miterlimit=c["stroke-miterlimit"]||8,c["stroke-linecap"]&&(F.endcap="butt"==c["stroke-linecap"]?"flat":"square"==c["stroke-linecap"]?"square":"round"),"stroke-dasharray"in c){var z={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};F.dashstyle=z[e](c["stroke-dasharray"])?z[c["stroke-dasharray"]]:p}W&&d.appendChild(F)}if("text"==y.type){y.paper.canvas.style.display=p;var V=y.paper.span,Y=100,G=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=V.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),G=r(f["font-size"]||G&&G[0])||10,g.fontSize=G*Y+"px",y.textpath.string&&(V.innerHTML=t(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=V.getBoundingClientRect();y.W=f.w=(X.right-X.left)/Y,y.H=f.h=(X.bottom-X.top)/Y,y.X=f.x,y.Y=f.y+y.H/2,("x"in c||"y"in c)&&(y.path.v=n.format("m{0},{1}l{2},{1}",o(f.x*w),o(f.y*w),o(f.x*w)+1));for(var J=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,Z=J.length;Z>Q;Q++)if(J[Q]in c){y._.dirty=1;break}switch(f["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},M=function(e,o,a){e.attrs=e.attrs||{};var s=(e.attrs,Math.pow),c="linear",l=".5 .5";
if(e.attrs.gradient=o,o=t(o).replace(n._radial_gradient,function(e,t,n){return c="radial",t&&n&&(t=r(t),n=r(n),s(t-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(t-.5,2))*(2*(n>.5)-1)+.5),l=t+h+n),p}),o=o.split(/\s*\-\s*/),"linear"==c){var u=o.shift();if(u=-r(u),isNaN(u))return null}var d=n._parseDots(o);if(!d)return null;if(e=e.shape||e.node,d.length){e.removeChild(a),a.on=!0,a.method="none",a.color=d[0].color,a.color2=d[d.length-1].color;for(var f=[],g=0,m=d.length;m>g;g++)d[g].offset&&f.push(d[g].offset+h+d[g].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==c?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=l,a.angle=0):(a.type="gradient",a.angle=(270-u)%360),e.appendChild(a)}return 1},D=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=n._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=n.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},A=n.el;D.prototype=A,A.constructor=D,A.transform=function(e){if(null==e)return this._.transform;var r,i=this.paper._viewBoxShift,o=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:p;i&&(r=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||p)),n._extractTransform(this,o+e);var a,s=this.matrix.clone(),c=this.skew,l=this.node,u=~t(this.attrs.fill).indexOf("-"),d=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),d||u||"image"==this.type)if(c.matrix="1 0 0 1",c.offset="0 0",a=s.split(),u&&a.noRotation||!a.isSimple){l.style.filter=s.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,v=f.y-g.y;l.coordorigin=m*-w+h+v*-w,T(this,1,1,m,v,0)}else l.style.filter=p,T(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else l.style.filter=p,c.matrix=t(s),c.offset=s.offset();return null!==r&&(this._.transform=r,n._extractTransform(this,r)),this},A.rotate=function(e,n,i){if(this.removed)return this;if(null!=e){if(e=t(e).split(u),e.length-1&&(n=r(e[1]),i=r(e[2])),e=r(e[0]),null==i&&(n=i),null==n||null==i){var o=this.getBBox(1);n=o.x+o.width/2,i=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,n,i]])),this}},A.translate=function(e,n){return this.removed?this:(e=t(e).split(u),e.length-1&&(n=r(e[1])),e=r(e[0])||0,n=+n||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=n),this.transform(this._.transform.concat([["t",e,n]])),this)},A.scale=function(e,n,i,o){if(this.removed)return this;if(e=t(e).split(u),e.length-1&&(n=r(e[1]),i=r(e[2]),o=r(e[3]),isNaN(i)&&(i=null),isNaN(o)&&(o=null)),e=r(e[0]),null==n&&(n=e),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,n,i,o]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=p),this},A.auxGetBBox=n.el.getBBox,A.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),n.eve.unbind("raphael.*.*."+this.id),n._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?n._removedFactory(e):null;this.removed=!0}},A.attr=function(t,r){if(this.removed)return this;if(null==t){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&n.is(t,"string")){if(t==l&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=t.split(u),s={},c=0,f=a.length;f>c;c++)t=a[c],s[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return f-1?s:s[a[0]]}if(this.attrs&&null==r&&n.is(t,"array")){for(s={},c=0,f=t.length;f>c;c++)s[t[c]]=this.attr(t[c]);return s}var h;null!=r&&(h={},h[t]=r),null==r&&n.is(t,"object")&&(h=t);for(var p in h)d("raphael.attr."+p+"."+this.id,this,h[p]);if(h){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&h[e](p)&&n.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(h[p]));this.attrs[p]=h[p];for(var m in g)g[e](m)&&(h[m]=g[m])}h.text&&"text"==this.type&&(this.textpath.string=h.text),E(this,h)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this)},A.insertAfter=function(e){return this.removed?this:(e.constructor==n.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),n._insertafter(this,e,this.paper),this)},A.insertBefore=function(e){return this.removed?this:(e.constructor==n.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),n._insertbefore(this,e,this.paper),this)},A.blur=function(e){var t=this.node.runtimeStyle,r=t.filter;return r=r.replace(v,p),0!==+e?(this.attrs.blur=e,t.filter=r+h+f+".Blur(pixelradius="+(+e||1.5)+")",t.margin=n.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(t.filter=r,t.margin=0,delete this.attrs.blur),this},n._engine.path=function(e,t){var n=j("shape");n.style.cssText=b,n.coordsize=w+h+w,n.coordorigin=t.coordorigin;var r=new D(n,t),i={fill:"none",stroke:"#000"};e&&(i.path=e),r.type="path",r.path=[],r.Path=p,E(r,i),t.canvas.appendChild(n);var o=j("skew");return o.on=!0,n.appendChild(o),r.skew=o,r.transform(p),r},n._engine.rect=function(e,t,r,i,o,a){var s=n._rectPath(t,r,i,o,a),c=e.path(s),l=c.attrs;return c.X=l.x=t,c.Y=l.y=r,c.W=l.width=i,c.H=l.height=o,l.r=a,l.path=s,c.type="rect",c},n._engine.ellipse=function(e,t,n,r,i){{var o=e.path();o.attrs}return o.X=t-r,o.Y=n-i,o.W=2*r,o.H=2*i,o.type="ellipse",E(o,{cx:t,cy:n,rx:r,ry:i}),o},n._engine.circle=function(e,t,n,r){{var i=e.path();i.attrs}return i.X=t-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",E(i,{cx:t,cy:n,r:r}),i},n._engine.image=function(e,t,r,i,o,a){var s=n._rectPath(r,i,o,a),c=e.path(s).attr({stroke:"none"}),u=c.attrs,d=c.node,f=d.getElementsByTagName(l)[0];return u.src=t,c.X=u.x=r,c.Y=u.y=i,c.W=u.width=o,c.H=u.height=a,u.path=s,c.type="image",f.parentNode==d&&d.removeChild(f),f.rotate=!0,f.src=t,f.type="tile",c._.fillpos=[r,i],c._.fillsize=[o,a],d.appendChild(f),T(c,1,1,0,0,0),c},n._engine.text=function(e,r,i,a){var s=j("shape"),c=j("path"),l=j("textpath");r=r||0,i=i||0,a=a||"",c.v=n.format("m{0},{1}l{2},{1}",o(r*w),o(i*w),o(r*w)+1),c.textpathok=!0,l.string=t(a),l.on=!0,s.style.cssText=b,s.coordsize=w+h+w,s.coordorigin="0 0";var u=new D(s,e),d={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:a};u.shape=s,u.path=c,u.textpath=l,u.type="text",u.attrs.text=t(a),u.attrs.x=r,u.attrs.y=i,u.attrs.w=1,u.attrs.h=1,E(u,d),s.appendChild(l),s.appendChild(c),e.canvas.appendChild(s);var f=j("skew");return f.on=!0,s.appendChild(f),u.skew=f,u.transform(p),u},n._engine.setSize=function(e,t){var r=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),r.width=e,r.height=t,r.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this},n._engine.setViewBox=function(e,t,r,i,o){n.eve("raphael.setViewBox",this,this._viewBox,[e,t,r,i,o]);var a,s,c=this.getSize(),l=c.width,u=c.height;return o&&(a=u/i,s=l/r,l>r*a&&(e-=(l-r*a)/2/a),u>i*s&&(t-=(u-i*s)/2/s)),this._viewBox=[e,t,r,i,!!o],this._viewBoxShift={dx:-e,dy:-t,scale:c},this.forEach(function(e){e.transform("...")}),this};var j;n._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),j=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(n){j=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},n._engine.initWin(n._g.win),n._engine.create=function(){var e=n._getContainer.apply(0,arguments),t=e.container,r=e.height,i=e.width,o=e.x,a=e.y;if(!t)throw new Error("VML container not found.");var s=new n._Paper,c=s.canvas=n._g.doc.createElement("div"),l=c.style;return o=o||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=1e3*w+h+1e3*w,s.coordorigin="0 0",s.span=n._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",c.appendChild(s.span),l.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==t?(n._g.doc.body.appendChild(c),l.left=o+"px",l.top=a+"px",l.position="absolute"):t.firstChild?t.insertBefore(c,t.firstChild):t.appendChild(c),s.renderfix=function(){},s},n.prototype.clear=function(){n.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=n._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.prototype.remove=function(){n.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?n._removedFactory(e):null;return!0};var I=n.st;for(var N in A)A[e](N)&&!I[e](N)&&(I[N]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(N))}}(),E.was?S.win.Raphael=n:Raphael=n,"object"==typeof exports&&(module.exports=n),n}),function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.Autolinker=t()}):"object"==typeof exports?module.exports=t():e.Autolinker=t()}(this,function(){var e=function(t){e.Util.assign(this,t)};return e.prototype={constructor:e,urls:!0,email:!0,twitter:!0,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(e){for(var t=this.getHtmlParser(),n=t.parse(e),r=0,i=[],o=0,a=n.length;a>o;o++){var s=n[o],c=s.getType(),l=s.getText();if("element"===c)"a"===s.getTagName()&&(s.isClosing()?r=Math.max(r-1,0):r++),i.push(l);else if("entity"===c)i.push(l);else if(0===r){var u=this.linkifyStr(l);i.push(u)}else i.push(l)}return i.join("")},linkifyStr:function(e){return this.getMatchParser().replace(e,this.createMatchReturnVal,this)},createMatchReturnVal:function(t){var n;if(this.replaceFn&&(n=this.replaceFn.call(this,this,t)),"string"==typeof n)return n;if(n===!1)return t.getMatchedText();if(n instanceof e.HtmlTag)return n.toString();var r=this.getTagBuilder(),i=r.build(t);return i.toString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchParser:function(){var t=this.matchParser;return t||(t=this.matchParser=new e.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,stripPrefix:this.stripPrefix})),t},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.link=function(t,n){var r=new e(n);return r.link(t)},e.match={},e.htmlParser={},e.matchParser={},e.Util={abstractMethod:function(){throw"abstract"},assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},extend:function(t,n){var r=t.prototype,i=function(){};i.prototype=r;var o;o=n.hasOwnProperty("constructor")?n.constructor:function(){r.constructor.apply(this,arguments)};var a=o.prototype=new i;return a.constructor=o,a.superclass=r,delete n.constructor,e.Util.assign(a,n),o},ellipsis:function(e,t,n){return e.length>t&&(n=null==n?"..":n,e=e.substring(0,t-n.length)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],i=0;n=t.exec(e);)r.push(e.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(e.substring(i)),r}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){var n=this.getAttrs();return n[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var n=this.getAttrs();return e.Util.assign(n,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var n,r=this.getClass(),i=this.whitespaceRegex,o=e.Util.indexOf,a=r?r.split(i):[],s=t.split(i);n=s.shift();)-1===o(a,n)&&a.push(n);return this.getAttrs()["class"]=a.join(" "),this},removeClass:function(t){for(var n,r=this.getClass(),i=this.whitespaceRegex,o=e.Util.indexOf,a=r?r.split(i):[],s=t.split(i);a.length&&(n=s.shift());){var c=o(a,n);-1!==c&&a.splice(c,1)}return this.getAttrs()["class"]=a.join(" "),this},getClass:function(){return this.getAttrs()["class"]||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},build:function(t){var n=new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())});return n},createAttrs:function(e,t){var n={href:t},r=this.createCssClass(e);return r&&(n["class"]=r),this.newWindow&&(n.target="_blank"),n},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){return e.Util.ellipsis(t,this.truncate||Number.POSITIVE_INFINITY)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/[0-9a-zA-Z][0-9a-zA-Z:]*/,t=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,r=t.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",r,"|",n.source+")",")*",">",")","|","(?:","<(/)?","("+e.source+")","(?:","\\s+",r,")*","\\s*/?",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,r=this.htmlRegex,i=0,o=[];null!==(t=r.exec(e));){var a=t[0],s=t[1]||t[3],c=!!t[2],l=e.substring(i,t.index);l&&(n=this.parseTextAndEntityNodes(l),o.push.apply(o,n)),o.push(this.createElementNode(a,s,c)),i=t.index+a.length}if(i<e.length){var u=e.substring(i);u&&(n=this.parseTextAndEntityNodes(u),o.push.apply(o,n))}return o},parseTextAndEntityNodes:function(t){for(var n=[],r=e.Util.splitAndCapture(t,this.htmlCharacterEntitiesRegex),i=0,o=r.length;o>i;i+=2){var a=r[i],s=r[i+1];a&&n.push(this.createTextNode(a)),s&&n.push(this.createEntityNode(s))}return n},createElementNode:function(t,n,r){return new e.htmlParser.ElementNode({text:t,tagName:n.toLowerCase(),closing:r})},createEntityNode:function(t){return new e.htmlParser.EntityNode({text:t})},createTextNode:function(t){return new e.htmlParser.TextNode({text:t})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{text:"",constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getText:function(){return this.text}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.matchParser.MatchParser=e.Util.extend(Object,{urls:!0,email:!0,twitter:!0,stripPrefix:!0,matcherRegex:function(){var e=/(^|[^\w])@(\w{1,15})/,t=/(?:[\-;:&=\+\$,\w\.]+@)/,n=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,r=/(?:www\.)/,i=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,o=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,a=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;return new RegExp(["(",e.source,")","|","(",t.source,i.source,o.source,")","|","(","(?:","(",n.source,i.source,")","|","(?:","(.?//)?",r.source,i.source,")","|","(?:","(.?//)?",i.source,o.source,")",")","(?:"+a.source+")?",")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(t){e.Util.assign(this,t),this.matchValidator=new e.MatchValidator},replace:function(e,t,n){var r=this;return e.replace(this.matcherRegex,function(e,i,o,a,s,c,l,u,d){var f=r.processCandidateMatch(e,i,o,a,s,c,l,u,d);if(f){var h=t.call(n,f.match);return f.prefixStr+h+f.suffixStr}return e})},processCandidateMatch:function(t,n,r,i,o,a,s,c,l){var u,d=c||l,f="",h="";if(n&&!this.twitter||o&&!this.email||a&&!this.urls||!this.matchValidator.isValidMatch(a,s,d))return null;if(this.matchHasUnbalancedClosingParen(t)&&(t=t.substr(0,t.length-1),h=")"),o)u=new e.match.Email({matchedText:t,email:o});else if(n)r&&(f=r,t=t.slice(1)),u=new e.match.Twitter({matchedText:t,twitterHandle:i});else{if(d){var p=d.match(this.charBeforeProtocolRelMatchRegex)[1]||"";p&&(f=p,t=t.slice(1))}u=new e.match.Url({matchedText:t,url:t,protocolUrlMatch:!!s,protocolRelativeMatch:!!d,stripPrefix:this.stripPrefix})}return{prefixStr:f,suffixStr:h,match:u}},matchHasUnbalancedClosingParen:function(e){var t=e.charAt(e.length-1);if(")"===t){var n=e.match(/\(/g),r=e.match(/\)/g),i=n&&n.length||0,o=r&&r.length||0;if(o>i)return!0}return!1}}),e.MatchValidator=e.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(e,t,n){return t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)||this.isInvalidProtocolRelativeMatch(n)?!1:!0},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return e&&t?!this.hasWordCharAfterProtocolRegex.test(e):!1},isInvalidProtocolRelativeMatch:function(e){return!!e&&this.invalidProtocolRelMatchRegex.test(e)}}),e.match.Match=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod}),e.match.Email=e.Util.extend(e.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Twitter=e.Util.extend(e.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),e.match.Url=e.Util.extend(e.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getUrl();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),e}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,r=/iphone/i.test(n),i=/chrome/i.test(n),o=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,a){var s,c,l,u,d,f,h,p;if(!n&&this.length>0){s=e(this[0]);var g=s.data(e.mask.dataName);return g?g():void 0}return a=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},a),c=e.mask.definitions,l=[],u=h=n.length,d=null,e.each(n.split(""),function(e,t){"?"==t?(h--,u=e):c[t]?(l.push(new RegExp(c[t])),null===d&&(d=l.length-1),u>e&&(f=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function s(){if(a.completed){for(var e=d;f>=e;e++)if(l[e]&&M[e]===g(e))return;a.completed.call(E)}}function g(e){return a.placeholder.charAt(e<a.placeholder.length?e:0)}function m(e){for(;++e<h&&!l[e];);return e}function v(e){for(;--e>=0&&!l[e];);return e}function y(e,t){var n,r;if(!(0>e)){for(n=e,r=m(t);h>n;n++)if(l[n]){if(!(h>r&&l[n].test(M[r])))break;M[n]=M[r],M[r]=g(r),r=m(r)}T(),E.caret(Math.max(d,e))}}function b(e){var t,n,r,i;for(t=e,n=g(e);h>t;t++)if(l[t]){if(r=m(t),i=M[t],M[t]=n,!(h>r&&l[r].test(i)))break;n=i}}function w(){var e=E.val(),t=E.caret();if(p&&p.length&&p.length>e.length){for(S(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<d&&!l[t.begin];)t.begin++;E.caret(t.begin,t.begin)}else{for(S(!0);t.begin<h&&!l[t.begin];)t.begin++;E.caret(t.begin,t.begin)}s()}function x(){S(),E.val()!=A&&E.change()}function k(e){if(!E.prop("readonly")){var t,n,i,o=e.which||e.keyCode;p=E.val(),8===o||46===o||r&&127===o?(t=E.caret(),n=t.begin,i=t.end,i-n===0&&(n=46!==o?v(n):i=m(n-1),i=46===o?m(i):i),_(n,i),y(n,i-1),e.preventDefault()):13===o?x.call(this,e):27===o&&(E.val(A),E.caret(0,S()),e.preventDefault())}}function C(t){if(!E.prop("readonly")){var n,r,i,a=t.which||t.keyCode,c=E.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>a)&&a&&13!==a){if(c.end-c.begin!==0&&(_(c.begin,c.end),y(c.begin,c.end-1)),n=m(c.begin-1),h>n&&(r=String.fromCharCode(a),l[n].test(r))){if(b(n),M[n]=r,T(),i=m(n),o){var u=function(){e.proxy(e.fn.caret,E,i)()};setTimeout(u,0)}else E.caret(i);c.begin<=f&&s()}t.preventDefault()}}}function _(e,t){var n;for(n=e;t>n&&h>n;n++)l[n]&&(M[n]=g(n))}function T(){E.val(M.join(""))}function S(e){var t,n,r,i=E.val(),o=-1;for(t=0,r=0;h>t;t++)if(l[t]){for(M[t]=g(t);r++<i.length;)if(n=i.charAt(r-1),l[t].test(n)){M[t]=n,o=t;break}if(r>i.length){_(t+1,h);break}}else M[t]===i.charAt(r)&&r++,u>t&&(o=t);return e?T():u>o+1?a.autoclear||M.join("")===D?(E.val()&&E.val(""),_(0,h)):T():(T(),E.val(E.val().substring(0,o+1))),u?t:d}var E=e(this),M=e.map(n.split(""),function(e,t){return"?"!=e?c[e]?g(t):e:void 0}),D=M.join(""),A=E.val();E.data(e.mask.dataName,function(){return e.map(M,function(e,t){return l[t]&&e!=g(t)?e:null}).join("")}),E.one("unmask",function(){E.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!E.prop("readonly")){clearTimeout(t);var e;A=E.val(),e=S(),t=setTimeout(function(){E.get(0)===document.activeElement&&(T(),e==n.replace("?","").length?E.caret(0,e):E.caret(e))},10)}}).on("blur.mask",x).on("keydown.mask",k).on("keypress.mask",C).on("input.mask paste.mask",function(){E.prop("readonly")||setTimeout(function(){var e=S(!0);E.caret(e),s()},0)}),i&&o&&E.off("input.mask").on("input.mask",w),S()})}})}),function(e){e.sketchpad=function(e,n){return new t(e,n)},e.sketchpad.VERSION="0.5.1";var t=function(t,i){function o(e){for(var t="",n=0,r=e.length;r>n;n++){var i=e[n];t+=i[0]+i[1]+","+i[2]}return t}function a(e){var t=[],n=e.split("L");if(n.length>0){var r=n[0].replace("M",""),i=r.split(",");t.push(["M",parseInt(i[0]),parseInt(i[1])]);for(var o=1,a=n.length;a>o;o++)r=n[o],i=r.split(","),t.push(["L",parseInt(i[0]),parseInt(i[1])])}return t}function s(){_()}function c(){w.clear();for(var e=0,t=S.length;t>e;e++){var n=S[e],r=n.type;w[r]().attr(n).click(d)}}function l(){$("*").css("-webkit-user-select","none"),$("*").css("-moz-user-select","none"),jQuery.browser.msie&&$("body").attr("onselectstart","return false;")}function u(){$("*").css("-webkit-user-select","text"),$("*").css("-moz-user-select","text"),jQuery.browser.msie&&$("body").removeAttr("onselectstart")}function d(){if("erase"==b.editing){var e=this.attr();e.type=this.type,T.add({type:"erase",stroke:e});for(var t=0,n=S.length;n>t;t++){var r=S[t];equiv(r,e)&&S.splice(t,1)}s(),this.remove()}}function f(e){l(),C.start(e,y)}function h(e){C.move(e,y)}function p(e){u();var t=C.finish(e,y);if(null!=t){t.click(d);var n=t.attr();n.type=t.type,S.push(n),T.add({type:"stroke",stroke:n}),s()}}function g(e){if(e=e.originalEvent,e.preventDefault(),1==e.touches.length){var t=e.touches[0];f(t)}}function m(e){if(e=e.originalEvent,e.preventDefault(),1==e.touches.length){var t=e.touches[0];h(t)}}function v(e){e=e.originalEvent,e.preventDefault(),p(e)}var y=this,b={width:100,height:100,strokes:[],editing:!0};jQuery.extend(b,i);var w;if(t.raphael&&t.raphael.constructor==e.constructor)w=t;else{if("string"!=typeof t)throw"first argument must be a Raphael object, an element ID, an array with 3 elements";w=e(t,b.width,b.height)}var x=w.canvas,k=$(x).parent(),C=new r;y.paper=function(){return w},y.canvas=function(){return x},y.container=function(){return k},y.pen=function(e){return void 0===e?C:(C=e,y)},y.json=function(e){if(void 0===e){for(var t=0,n=S.length;n>t;t++){var r=S[t];"object"==typeof r.path&&(r.path=o(r.path))}return JSON.stringify(S)}return y.strokes(JSON.parse(e))},y.strokes=function(e){if(void 0===e)return S;if(jQuery.isArray(e)){S=e;for(var t=0,n=S.length;n>t;t++){var r=S[t];"string"==typeof r.path&&(r.path=a(r.path))}T.add({type:"batch",strokes:jQuery.merge([],S)}),c()}return y},y.freeze_history=function(){T.freeze()},y.undoable=function(){return T.undoable()},y.undo=function(){return T.undoable()&&(T.undo(),S=T.current_strokes(),c(),s()),y},y.redoable=function(){return T.redoable()},y.redo=function(){return T.redoable()&&(T.redo(),S=T.current_strokes(),c(),s()),y},y.clear=function(){return T.add({type:"clear"}),S=[],c(),s(),y},y.animate=function(e){function t(){var r=S[n],i=r.type;w[i]().attr(r).click(d),n++,n<S.length&&setTimeout(t,e)}if(void 0===e&&(e=500),w.clear(),S.length>0){var n=0;t()}return y},y.editing=function(e){if(void 0===e)return b.editing;if(b.editing=e,b.editing)if("erase"==b.editing){$(k).css("cursor","crosshair"),$(k).unbind("mousedown",f),$(k).unbind("mousemove",h),$(k).unbind("mouseup",p),$(document).unbind("mouseup",p);var t=navigator.userAgent;(t.indexOf("iPhone")>0||t.indexOf("iPod")>0)&&($(k).unbind("touchstart",g),$(k).unbind("touchmove",m),$(k).unbind("touchend",v))}else{$(k).css("cursor","crosshair"),$(k).mousedown(f),$(k).mousemove(h),$(k).mouseup(p),$(document).mouseup(p);var t=navigator.userAgent;(t.indexOf("iPhone")>0||t.indexOf("iPod")>0)&&($(k).bind("touchstart",g),$(k).bind("touchmove",m),$(k).bind("touchend",v))}else{$(k).attr("style","cursor:default"),$(k).unbind("mousedown",f),$(k).unbind("mousemove",h),$(k).unbind("mouseup",p),$(document).unbind("mouseup",p);var t=navigator.userAgent;(t.indexOf("iPhone")>0||t.indexOf("iPod")>0)&&($(k).unbind("touchstart",g),$(k).unbind("touchmove",m),$(k).unbind("touchend",v))}return y};var _=function(){};y.change=function(e){null==e||void 0===e?_=function(){}:"function"==typeof e&&(_=e)};var T=new n,S=b.strokes;jQuery.isArray(S)&&S.length>0?(T.add({type:"init",strokes:jQuery.merge([],S)}),c()):(S=[],c()),y.editing(b.editing)},n=function(){var e=this,t=[],n=-1,r=-1,i=null;e.add=function(e){n+1<t.length&&t.splice(n+1,t.length-(n+1)),t.push(e),n=t.length-1,i=null},e.freeze=function(e){r=void 0===e?n:e},e.undoable=function(){return n>-1&&n>r},e.undo=function(){e.undoable()&&(n--,i=null)},e.redoable=function(){return n<t.length-1},e.redo=function(){e.redoable()&&(n++,i=null)},e.current_strokes=function(){if(null==i){for(var e=[],r=0;n>=r;r++){var o=t[r];switch(o.type){case"init":case"json":case"strokes":case"batch":jQuery.merge(e,o.strokes);break;case"stroke":e.push(o.stroke);break;case"erase":for(var a=0,s=e.length;s>a;a++){var c=e[a];equiv(c,o.stroke)&&e.splice(a,1)}break;
case"clear":e=[]}}i=e}return i}},r=function(){function e(){if(null!=l&&l.length>1){for(var e=l[0],t="M"+e[0]+","+e[1],n=1,r=l.length;r>n;n++)e=l[n],t+="L"+e[0]+","+e[1];return t}return""}var t=this,n="#000000",i=1,o=5,a=null,s=!1,c=null,l=[];t.color=function(e){return void 0===e?n:(n=e,t)},t.width=function(e){return void 0===e?o:(e<r.MIN_WIDTH?e=r.MIN_WIDTH:e>r.MAX_WIDTH&&(e=r.MAX_WIDTH),o=e,t)},t.opacity=function(e){return void 0===e?i:(0>e?e=0:e>1&&(e=1),i=e,t)},t.start=function(e,t){s=!0,a=$(t.container()).offset();var r=e.pageX-a.left,u=e.pageY-a.top;l.push([r,u]),c=t.paper().path(),c.attr({stroke:n,"stroke-opacity":i,"stroke-width":o,"stroke-linecap":"round","stroke-linejoin":"round"})},t.finish=function(){var e=null;return null!=c&&(l.length<=1?c.remove():e=c),s=!1,c=null,l=[],e},t.move=function(t){if(1==s){var n=t.pageX-a.left,r=t.pageY-a.top;l.push([n,r]),c.attr({path:e()})}}};r.MAX_WIDTH=1e3,r.MIN_WIDTH=1}(window.Raphael),Raphael.fn.display=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t],i=r.type;this[i]().attr(r)}};var equiv=function(){var e,t=[],n=function(){function n(e,t){return e instanceof t.constructor||t instanceof e.constructor?t==e:t===e}return{string:n,"boolean":n,number:n,"null":n,undefined:n,nan:function(e){return isNaN(e)},date:function(e,t){return"date"===hoozit(e)&&t.valueOf()===e.valueOf()},regexp:function(e,t){return"regexp"===hoozit(e)&&t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline},"function":function(){var e=t[t.length-1];return e!==Object&&"undefined"!=typeof e},array:function(t,n){var r,i;if("array"!==hoozit(t))return!1;if(i=n.length,i!==t.length)return!1;for(r=0;i>r;r++)if(!e(n[r],t[r]))return!1;return!0},object:function(n,r){var i,o=!0,a=[],s=[];if(r.constructor!==n.constructor)return!1;t.push(r.constructor);for(i in r)a.push(i),e(r[i],n[i])||(o=!1);t.pop();for(i in n)s.push(i);return o&&e(a.sort(),s.sort())}}}();return e=function(){var e=Array.prototype.slice.apply(arguments);return e.length<2?!0:function(e,t){return e===t?!0:null===e||null===t||"undefined"==typeof e||"undefined"==typeof t||hoozit(e)!==hoozit(t)?!1:bindCallbacks(e,n,[t,e])}(e[0],e[1])&&arguments.callee.apply(this,e.splice(1,e.length-1))}}();_.templateSettings={interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{-(.*?)\}\}/g};var Member=Backbone.Model.extend({urlRoot:"/api/tokens",name:"",email:"",image:"",endpointId:"",initialize:function(){}}),Message=Backbone.Model.extend({defaults:{},initialize:function(){},guid:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t}}),Members=Backbone.Collection.extend({model:Member}),Messages=Backbone.Collection.extend({model:Message}),AppView=Backbone.View.extend({el:$("#theinterview"),initialize:function(){console.log("initialize appview");var e=this;respoke.log.setLevel("debug"),this.client=respoke.createClient(),this.endpoints={},this.directConnection=null,console.log("initialize",this),this.members=new Members,this.member=new Member,this.member.has("name")||(console.log("get member name"),$(".signin").show()),this.callAudio=new Audio("../audio/incoming-call.wav"),this.listenTo(this.member,"sync",this.connect),this.client.listen("message",function(t){console.log("client.listen#message: ",t),e.handleMessages(t)}),this.client.listen("connect",function(t){console.log("Connected to Respoke!",t),$(".operations").show(),e.client.setPresence({presence:"available"}),e.client.join({id:"the-interview",onSuccess:function(t){e.group=t,t.listen("join",function(t){e.onMemberJoin(t,e)}),t.listen("leave",function(t){e.onMemberLeave(t,e)}),t.getMembers({onSuccess:function(t){console.log("group.getMembers",t),e.renderGroup(t,e)}})}})}),this.client.listen("presence",this.onClientPresenceChange),this.client.listen("disconnect",function(){e.member.save()}),window.onload=function(){window.sketchpad=Raphael.sketchpad("whiteboard-canvas",{width:"100%",height:200,editing:!0}),window.sketchpad.change(function(){console.log("window.sketchpad.change");var e=window.appView;"undefined"!=typeof e.directConnection&&null!==e.directConnection?e.directConnection.sendMessage({message:{whiteboard:sketchpad.strokes(),member:e.member.toJSON(),type:"whiteboard"}}):e.group.sendMessage({message:{whiteboard:sketchpad.strokes(),member:e.member.toJSON(),type:"whiteboard"}})})},this.client.listen("call",function(t){console.log("call event:",t);var n=t.call;"undefined"!=typeof n.toType&&null!==n.toType&&"did"===n.toType&&e.callAudio.play(),n.caller!==!0&&(e.call=n.answer({videoLocalElement:document.getElementById("localVideo"),videoRemoteElement:document.getElementById("remoteVideo")}),$(".fa-toggle-off").hide(),$(".fa-toggle-on").show(),$(".front").hide(),$(".back").show()),n.listen("hangup",function(){console.log("hangup",t),$(".asterisk").css("color",""),$(".pstn").css("color","")})}),this.count=0,this.totalMessageLength=0,this.messageData=[],this.prevMessage=[],this.client.listen("direct-connection",function(t){console.log("direct-connection",t),e.directConnection=t.directConnection;var n=t.directConnection;n.accept(),n.listen("open",function(t){console.log("direct-connection open",t);var n=t.target.remoteEndpoint.id,r=e.member.get("email");$("i.directConnection[data-email='"+n+"']").each(function(){$(this).removeClass("fa-spinner").addClass("fa-lock").css("color","rgb(33, 184, 198)")}),$("i.directConnection[data-email='"+r+"']").each(function(){$(this).removeClass("fa-spinner").addClass("fa-lock").css("color","rgb(33, 184, 198)")}),$(".send-msg-box").prop("disabled",!1),$(".send-msg").prop("disabled",!1)}),n.listen("close",function(t){console.log("direct-connection close",t),e.directConnection=null;var n=t.target.remoteEndpoint.id,r=e.member.get("email");$("i.directConnection[data-email='"+n+"']").each(function(){$(this).removeClass("fa-spinner").removeClass("fa-lock").addClass("fa-lock").css("color","")}),$("i.directConnection[data-email='"+r+"']").each(function(){$(this).removeClass("fa-spinner").removeClass("fa-lock").addClass("fa-lock").css("color","")}),$(".send-msg-box").prop("disabled",!1),$(".send-msg").prop("disabled",!1)}),n.listen("message",function(t){console.log("directConnection.listen#message e:",t),e.handleMessages(t)})}),$(".container").on("dragover drop",".top-header",this.dragDrop),$(".container").on("dragleave",".top-header",this.dragLeave),$(".content").on("dragover drop",".msg-type-box",this.dragDrop),$(".content").on("dragleave",".msg-type-box",this.dragLeave),$(".phone-number").mask("(999) 999-9999",{placeholder:" "})},events:{"click .send-msg":"sendMessage","submit .msg-type-box form":"sendMessage","click .start-whiteboard":"startWhiteboard","click .voiceCall":"voiceCall","click .videoCall":"videoCall","click .screenShare":"screenShare","click .directConnection":"startDirectConnection","click .asterisk":"asterisk","click .pstn":"dialPad","submit .pstn-phone form":"pstn","click .logout":"logout","submit .signin form":"signin","click .reset":"reset","click .toggle":"toggle","click .toggleVideoMute":"toggleVideoMute","click .toggleVideo":"toggleVideo","click .hangupVideo":"hangupVideo","mouseenter .video-box":"showVideoControls","mouseleave .video-box":"hideVideoControls","click .profile-image img":"togglePresence"},signin:function(e){e.preventDefault(),console.log("signin");var t=$(".signin-name").val(),n=$(".signin-email").val(),r=gravatar(n,{size:110});this.member.set("name",t),this.member.set("email",n),this.member.set("image",r),console.log(this.member.get("image")),console.log("signin member:",this.member),this.member.set("endpointId",n),$(".signin").hide(),this.member.save()},connect:function(e){console.log("connect");var t=e.get("token");store.set("token",t),this.client.connect({token:t})},resolveEndpointPresence:function(e){console.log("resolveEndpointPresence",e)},onMemberJoin:function(e,t){console.log("onMemberJoin",e),console.log("onMemberJoin this",this),t.renderGroupMember(e.connection.getEndpoint(),t)},onMemberLeave:function(e,t){console.log("onMemberLeave",e),console.log("onMemberLeave this",this),t.removeGroupMember(e.connection.getEndpoint())},renderGroup:function(e,t){console.log("renderGroup",e,t),_.each(e,function(e){t.renderGroupMember(e.getEndpoint(),t)})},renderGroupMember:function(e,t){console.log("renderGroupMember endpoint",e);var n=new Member({email:e.id,endpointId:e.id,image:gravatar(e.id,{size:110}),endpoint:e});this.members.add(n),t.endpoints[e.id]=t.client.getEndpoint({id:e.id}),console.log("renderGroupMember presence"),console.log("renderGroupMember setPresenceListener",e.id),e.listen("presence",function(e){console.log("renderGroupMember presence for endpoint",e);var t=$("ul.user-profiles li img[data-email='"+e.target.id+"']");"available"===e.target.presence.toLowerCase()&&(console.log("available"),t.fadeTo("slow",1)),"away"===e.target.presence.toLowerCase()&&(console.log("away"),t.fadeTo("slow",.3))}),$(".user-profiles").append(_.template($("#ProfileTmpl").html())(n.toJSON()))},removeGroupMember:function(e){console.log("removeGroupMember endpoint",e),$("ul.user-profiles li img[data-email='"+e.id+"']").parent().remove()},onRemotePresenceChange:function(e){console.log("onRemotePresenceChange",e)},onClientPresenceChange:function(e){console.log("onClientPresenceChange",e);var t=$("ul.user-profiles li img[data-email='"+e.target.endpointId+"']");"available"===e.target.presence.toLowerCase()&&(console.log("available"),t.fadeTo("slow",1)),"away"===e.target.presence.toLowerCase()&&(console.log("away"),t.fadeTo("slow",.3))},togglePresence:function(e){console.log("togglePresence",e),console.log("togglePresence this",this);var t=$(e.target).data("email");this.member.get("email")===t&&("available"===this.client.presence.toLowerCase()&&this.client.setPresence({presence:"away"}),"away"===this.client.presence.toLowerCase()&&this.client.setPresence({presence:"available"}))},sendMessage:function(e){if(console.log("sendMessage:",e),e.preventDefault(),this.member.has("name")){console.log("sendMessage");var t=Autolinker.link(_.escape($(".send-msg-box").val())),n=new Message;if(n.set({email:this.member.get("email"),name:this.member.get("name"),message:t,id:n.guid(),image:this.member.get("image"),timestamp:moment().format("h:mm"),src:"",title:"",type:"message"}),console.log("sendMessage member:",this.member),console.log("sendMessage message:",n),$(".messages").prepend(_.template($("#MessageTmpl").html())(n.toJSON())),$(".send-msg-box").val(""),"undefined"!=typeof this.directConnection&&null!==this.directConnection){console.log("sendMessage directConnection",this.directConnection),this.directConnection.sendMessage({message:n.toJSON()});var r=this.member.get("email"),i=this.directConnection.remoteEndpoint.id;$("i.directConnection[data-email='"+i+"']").each(function(){$(this).css("color","rgb(33, 184, 198)")}),$("i.directConnection[data-email='"+r+"']").each(function(){$(this).css("color","rgb(33, 184, 198)")})}else console.log("sendMessage group"),this.group.sendMessage({message:n.toJSON()})}},handleMessages:function(e){console.log("messages: ",e);{var t=window.appView,n=e.message.message;({message:function(e){if($(".messages").prepend(_.template($("#MessageTmpl").html())(e)),console.log("handleMessage this.directConnection:",this.directConnection),console.log("handleMessage this.directConnection this:",this),console.log("handleMessage this.directConnection window:",window),"undefined"!=typeof t.directConnection&&null!==t.directConnection){var n=t.member.get("email"),r=t.directConnection.remoteEndpoint.id;console.log(n,r),$("i.directConnection[data-email='"+r+"']").each(function(){console.log($(this)),$(this).css("color","rgb(33, 184, 198)")}),$("i.directConnection[data-email='"+n+"']").each(function(){console.log($(this)),$(this).css("color","rgb(33, 184, 198)")})}},whiteboard:function(e){$(".whiteboard-canvas").is(":hidden")&&($(".whiteboard-message").hide(),$(".whiteboard-canvas").show(),$(".start-whiteboard").addClass("reset"),$(".start-whiteboard").text("Reset")),window.sketchpad.strokes(e.whiteboard)}})[n.type](n)}},dragDrop:function(e){console.log("dragover drop: ",e);var t=window.appView,n=this;if(e.stopPropagation(),e.preventDefault(),$(this).jrumble({x:1,y:0,rotation:0}),$(this).trigger("startRumble"),"drop"===e.type){var r=e.originalEvent.dataTransfer;r.dropEffect="copy";var i=r.files;console.log("drop files: ",i),_.each(i,function(e){var r=new FileReader;r.onload=function(e){return function(n){console.log("fileReader.onload e: ",n),console.log("fileReader.onload file: ",e),console.log("member: ",t.member);var r=["<img class='thumb' src='",n.target.result,"' title='",e.name,"' width='420'","/>"].join(""),i=new Message;if(i.set({email:t.member.get("email"),name:t.member.get("name"),message:r,id:i.guid(),image:t.member.get("image"),timestamp:moment().format("h:mm"),type:"message"}),$(".messages").prepend(_.template($("#MessageTmpl").html())(i.toJSON())),"undefined"!=typeof t.directConnection&&null!==t.directConnection){console.log("dragDrop directConnection: ",t.directConnection),t.directConnection.sendMessage({message:i.toJSON()});var o=t.member.get("email"),a=t.directConnection.remoteEndpoint.id;$("i.directConnection[data-email='"+a+"']").each(function(){$(this).css("color","rgb(33, 184, 198)")}),$("i.directConnection[data-email='"+o+"']").each(function(){$(this).css("color","rgb(33, 184, 198)")})}else console.log("dragDrop group"),t.group.sendMessage({message:i.toJSON()})}}(e,n),r.readAsDataURL(e)}),$(this).trigger("stopRumble")}},dragLeave:function(){$(this).trigger("stopRumble")},startWhiteboard:function(){console.log("startWhiteboard"),this.member.has("name")&&($(".whiteboard-message").hide(),$(".whiteboard-canvas").show(),$(".start-whiteboard").addClass("reset"),$(".start-whiteboard").text("Reset"))},reset:function(){window.sketchpad.clear(),$(".start-whiteboard").removeClass("reset"),$(".whiteboard-canvas").hide(),$(".whiteboard-message").show(),$(".start-whiteboard").text("Get Started")},toggle:function(){console.log("toggle");var e=this;if(this.member.has("name"))if($(".fa-toggle-on, .fa-toggle-off").toggle(),$(".front, .back").toggle(),$(".fa-toggle-on").is(":visible")){var t={audio:!0,video:!0};getUserMedia(t,function(t){var n=document.getElementById("localVideo");e.localStream=t,attachMediaStream(n,t),n.play()},function(e){console.log("getUserMedia error: ",e)})}else this.localStream&&this.localStream.stop(),this.call&&this.call.hangup()},startDirectConnection:function(e){if(console.log("directConnection"),"undefined"!=typeof this.directConnection&&null!==this.directConnection)this.directConnection.close(),this.directConnection=null;else{$(".send-msg-box").prop("disabled",!0),$(".send-msg").prop("disabled",!0);var t=$(e.currentTarget).data("email");console.log(t);var n=this.member.get("email");console.log(n),$("i.directConnection[data-email='"+t+"']").each(function(){$(this).removeClass("fa-lock").addClass("fa-spinner")}),$("i.directConnection[data-email='"+n+"']").each(function(){$(this).removeClass("fa-lock").addClass("fa-spinner")});var r=this.client.getEndpoint({id:t});r.startDirectConnection()}},asterisk:function(e){console.log("asterisk");var t=$(e.currentTarget).css("color");console.log("color",t),"rgb(33, 184, 198)"==t?(this.call.hangup(),$(e.currentTarget).css("color","")):($(e.currentTarget).css("color","rgb(33, 184, 198)"),this.call=this.client.startAudioCall({endpointId:"sales"}))},dialPad:function(){console.log("dialPad"),$(".pstn-phone").toggle()},pstn:function(e){console.log("pstn:",e),e.preventDefault();var t="+1".concat($(".phone-number").val().trim().replace(/[^0-9]/g,""));console.log("pstn phoneNumber:",t),console.log("pstn this:",this);var n=$(".pstn").css("color");console.log("color",n),"rgb(33, 184, 198)"==n?(this.call.hangup(),$(".pstn").css("color","")):($(".pstn").css("color","rgb(33, 184, 198)"),this.call=this.client.startPhoneCall({number:t,callerId:"+16146625045"}))},voiceCall:function(e){console.log("voiceCall"),$(".fa-toggle-off").hide(),$(".fa-toggle-on").show(),$(".front").hide(),$(".back").show();var t=$(e.currentTarget).data("email");console.log(t);var n=this.client.getEndpoint({id:t});this.call=n.startAudioCall({videoLocalElement:document.getElementById("localVideo"),videoRemoteElement:document.getElementById("remoteVideo")})},videoCall:function(e){console.log("videoCall"),$(".fa-toggle-off").hide(),$(".fa-toggle-on").show(),$(".front").hide(),$(".back").show();var t=$(e.currentTarget).data("email");console.log(t);var n=this.client.getEndpoint({id:t});this.call=n.startVideoCall({videoLocalElement:document.getElementById("localVideo"),videoRemoteElement:document.getElementById("remoteVideo")})},screenShare:function(e){console.log("screenShare"),$(".fa-toggle-off").hide(),$(".fa-toggle-on").show(),$(".front").hide(),$(".back").show();var t=$(e.currentTarget).data("email");console.log(t);var n=this.client.getEndpoint({id:t});this.call=n.startScreenShare({videoLocalElement:document.getElementById("localVideo"),videoRemoteElement:document.getElementById("remoteVideo")})},toggleVideoMute:function(e){console.log("toggleVideoMute"),console.log(e),console.log(this),$(".fa-microphone, .fa-microphone-slash").toggle(),this.client.calls[0].toggleAudio()},toggleVideo:function(){console.log("toggleVideo"),console.log(this),this.client.calls[0].toggleVideo()},hangupVideo:function(){console.log("hangupVideo"),console.log(this),this.client.calls[0].hangup()},showVideoControls:function(){console.log("showVideoControls"),$(".video-controls").fadeIn()},hideVideoControls:function(){console.log("hideVideoControls"),$(".video-controls").fadeOut()},logout:function(){console.log("logout"),this.member.has("name")&&(this.reset(),this.member.clear(),$(".user-profile li").remove(),$(".message").remove(),$(".signin").show(),$(".back").hide(),$(".front").show(),this.reset(),console.log(this),"undefined"!=typeof this.client.calls[0]&&null!==this.client.calls[0]&&this.client.calls[0].hangup())}});window.appView=new AppView;